
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>What the f*ck Pythonä¸­æ–‡ç‰ˆç®€ä»‹</title>
<meta content='What the f*ck Pythonä¸­æ–‡ç‰ˆ' name='keywords'>
<meta content='What the f*ck Pythonä¸­æ–‡ç‰ˆ' name='description'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"../../>
<meta name="applicable-device" content="pc,mobile">
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" />
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="../../static/components/uikit-2.27.5/css/uikit.custom.css">
<link rel="stylesheet" href="../../static/components/social-share/social-share.min.css">
<link rel="stylesheet" href="../../static/components/highlight/styles/custom.css">
<link rel="stylesheet" href="../../static/components/css/base.css">
<link rel="stylesheet" href="../../static/components/css/reader.css">
<link rel="stylesheet" href="../../static/components/css/markdown.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5313208362165053" crossorigin="anonymous"></script>
</head>
<body>
<div class=" book-main-wrap uk-container uk-container-center uk-margin-top ">
<div class="uk-grid">
<div class="uk-width-1-1 reader-wrap ">
<div class=" bottom-nav uk-clearfix ">
<div class="uk-align-right ">
<a href="../../book/166/README.html#structure-of-the-examplesç¤ºä¾‹ç»“æ„">
<span class="">Structure o..</span>
<i class="nav-icon-right uk-icon-small  uk-icon-caret-right"></i>
</a>
</div>
</div>
<div class="uk-text-center">
<h2 class="book-page-title uk-container-center">
<a href="../../book/166/index.html">What the f*ck Pythonä¸­æ–‡ç‰ˆ</a>
<a target="_blank" rel="nofollow" href="https://github.com/leisurelicht/wtfpython-cn" class="uk-icon-button uk-icon-github" title="githubé¡¹ç›®åœ°å€"></a>
</h2>
</div>
<script type="text/javascript" src="../../static/components/js/app_intro.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5313208362165053" data-ad-slot="1328047120"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script>
<hr class="uk-article-divider">
<div class="book-content-section  md-content-section  uk-margin-bottom">
<p align="center"><a href="https://img.cntofu.com/book/wtfpython-cn//images/logo.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//images/logo.png" alt=""></a></p>
<h1 align="center">What the f*ck Python! ğŸ</h1>
<p align="center">ä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.</p>
<p align="center"> <a href="https://github.com/satwikkansal/wtfpython">English</a> | <a href="#">ä¸­æ–‡</a> </p>
<p><a href="http://www.wtfpl.net"><a href="https://img.shields.io/badge/License-WTFPL 2.0-lightgrey.svg?style=flat-square" data-uk-lightbox><img src="https://img.shields.io/badge/License-WTFPL 2.0-lightgrey.svg?style=flat-square" alt="WTFPL 2.0"></a></a> <a href="https://github.com/satwikkansal/wtfpython/commit/30e05a5973930c38cdb59f1c02b85b19b22ac531"><a href="https://img.shields.io/badge/Commit-30e05a-yellow.svg" data-uk-lightbox><img src="https://img.shields.io/badge/Commit-30e05a-yellow.svg" alt="Commit id"></a></a> <a href="https://996.icu"><a href="https://img.shields.io/badge/link-996.icu-red.svg" data-uk-lightbox><img src="https://img.shields.io/badge/link-996.icu-red.svg" alt="996.icu"></a></a></p>
<p>Python, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.</p>
<p>è¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!</p>
<p>è™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§. æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!</p>
<p>å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† <a href="https://img.cntofu.com/book/wtfpython-cn//img/sweat_smile.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//img/sweat_smile.png" alt="emoji people:sweat_smile" height="20" width="20" align="absmiddle"></a></p>
<p>PS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨<a href="https://github.com/satwikkansal/wtfpython/releases/">è¿™é‡Œ</a>è·å–å˜åŠ¨å†…å®¹.</p>
<p>é‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§...</p>
<h1 id="table-of-contentsç›®å½•">Table of Contents/ç›®å½•</h1>
<ul>
<li><a href="#table-of-contentsç›®å½•">Table of Contents/ç›®å½•</a></li>
<li><a href="#structure-of-the-examplesç¤ºä¾‹ç»“æ„">Structure of the Examples/ç¤ºä¾‹ç»“æ„</a></li>
<li><a href="#usageç”¨æ³•">Usage/ç”¨æ³•</a></li>
<li><a href="#-examplesç¤ºä¾‹">ğŸ‘€ Examples/ç¤ºä¾‹</a>
<ul>
<li><a href="#section-strain-your-brainå¤§è„‘è¿åŠ¨">Section: Strain your brain!/å¤§è„‘è¿åŠ¨!</a>
<ul>
<li><a href="#-strings-can-be-tricky-sometimeså¾®å¦™çš„å­—ç¬¦ä¸²-">&gt; Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *</a></li>
<li><a href="#-time-for-some-hash-browniesæ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†">&gt; Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!</a></li>
<li><a href="#-return-return-everywhereåˆ°å¤„è¿”å›">&gt; Return return everywhere!/åˆ°å¤„è¿”å›ï¼</a></li>
<li><a href="#-deep-down-were-all-the-sameæœ¬è´¨ä¸Šæˆ‘ä»¬éƒ½ä¸€æ ·-">&gt; Deep down, we're all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *</a></li>
<li><a href="#-for-whatä¸ºä»€ä¹ˆ">&gt; For what?/ä¸ºä»€ä¹ˆ?</a></li>
<li><a href="#-evaluation-time-discrepancyæ‰§è¡Œæ—¶æœºå·®å¼‚">&gt; Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚</a></li>
<li><a href="#-is-is-not-what-it-iså‡ºäººæ„æ–™çš„is">&gt; <code>is</code> is not what it is!/å‡ºäººæ„æ–™çš„<code>is</code>!</a></li>
<li><a href="#-a-tic-tac-toe-where-x-wins-in-the-first-attemptä¸€è¹´å³è‡³">&gt; A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!</a></li>
<li><a href="#-the-sticky-output-functionéº»çƒ¦çš„è¾“å‡º">&gt; The sticky output function/éº»çƒ¦çš„è¾“å‡º</a></li>
<li><a href="#-is-not--is-not-is-not-is-not--ä¸æ˜¯-is-not-">&gt; <code>is not ...</code> is not <code>is (not ...)</code>/<code>is not ...</code> ä¸æ˜¯ <code>is (not ...)</code></a></li>
<li><a href="#-the-surprising-commaæ„å¤–çš„é€—å·">&gt; The surprising comma/æ„å¤–çš„é€—å·</a></li>
<li><a href="#-backslashes-at-the-end-of-stringå­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ ">&gt; Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ </a></li>
<li><a href="#-not-knotåˆ«çº ç»“">&gt; not knot!/åˆ«çº ç»“!</a></li>
<li><a href="#-half-triple-quoted-stringsä¸‰ä¸ªå¼•å·">&gt; Half triple-quoted strings/ä¸‰ä¸ªå¼•å·</a></li>
<li><a href="#-midnight-time-doesnt-existä¸å­˜åœ¨çš„åˆå¤œ">&gt; Midnight time doesn't exist?/ä¸å­˜åœ¨çš„åˆå¤œ?</a></li>
<li><a href="#-whats-wrong-with-booleanså¸ƒå°”ä½ å’‹äº†">&gt; What's wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?</a></li>
<li><a href="#-class-attributes-and-instance-attributesç±»å±æ€§å’Œå®ä¾‹å±æ€§">&gt; Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§</a></li>
<li><a href="#-yielding-noneç”Ÿæˆ-none">&gt; yielding None/ç”Ÿæˆ None</a></li>
<li><a href="#-mutating-the-immutableå¼ºäººæ‰€éš¾">&gt; Mutating the immutable!/å¼ºäººæ‰€éš¾</a></li>
<li><a href="#-the-disappearing-variable-from-outer-scopeæ¶ˆå¤±çš„å¤–éƒ¨å˜é‡">&gt; The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡</a></li>
<li><a href="#-when-true-is-actually-falseçœŸäº¦å‡">&gt; When True is actually False/çœŸäº¦å‡</a></li>
<li><a href="#-from-filled-to-none-in-one-instructionä»æœ‰åˆ°æ— ">&gt; From filled to None in one instruction.../ä»æœ‰åˆ°æ— ...</a></li>
<li><a href="#-subclass-relationshipså­ç±»å…³ç³»-">&gt; Subclass relationships/å­ç±»å…³ç³» *</a></li>
<li><a href="#-the-mysterious-key-type-conversionç¥ç§˜çš„é”®å‹è½¬æ¢-">&gt; The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *</a></li>
<li><a href="#-lets-see-if-you-can-guess-thisçœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹">&gt; Let's see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?</a></li>
</ul> </li>
<li><a href="#section-appearances-are-deceptiveå¤–è¡¨æ˜¯é ä¸ä½çš„">Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!</a>
<ul>
<li><a href="#-skipping-linesè·³è¿‡ä¸€è¡Œ">&gt; Skipping lines?/è·³è¿‡ä¸€è¡Œ?</a></li>
<li><a href="#-teleportationç©ºé—´ç§»åŠ¨-">&gt; Teleportation/ç©ºé—´ç§»åŠ¨ *</a></li>
<li><a href="#-well-something-is-fishyå—¯æœ‰äº›å¯ç–‘">&gt; Well, something is fishy.../å—¯, æœ‰äº›å¯ç–‘...</a></li>
</ul> </li>
<li><a href="#section-watch-out-for-the-landmineså°å¿ƒåœ°é›·">Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!</a>
<ul>
<li><a href="#-modifying-a-dictionary-while-iterating-over-itè¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹">&gt; Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹</a></li>
<li><a href="#-stubborn-del-operatoråšå¼ºçš„-del-">&gt; Stubborn <code>del</code> operator/åšå¼ºçš„ <code>del</code> *</a></li>
<li><a href="#-deleting-a-list-item-while-iteratingè¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ ">&gt; Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ </a></li>
<li><a href="#-loop-variables-leaking-outå¾ªç¯å˜é‡æ³„æ¼">&gt; Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!</a></li>
<li><a href="#-beware-of-default-mutable-argumentså½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°">&gt; Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!</a></li>
<li><a href="#-catching-the-exceptionsæ•è·å¼‚å¸¸">&gt; Catching the Exceptions/æ•è·å¼‚å¸¸</a></li>
<li><a href="#-same-operands-different-storyåŒäººä¸åŒå‘½">&gt; Same operands, different story!/åŒäººä¸åŒå‘½!</a></li>
<li><a href="#-the-out-of-scope-variableå¤–éƒ¨ä½œç”¨åŸŸå˜é‡">&gt; The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡</a></li>
<li><a href="#-be-careful-with-chained-operationså°å¿ƒé“¾å¼æ“ä½œ">&gt; Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ</a></li>
<li><a href="#-name-resolution-ignoring-class-scopeå¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ">&gt; Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ</a></li>
<li><a href="#-needle-in-a-haystackå¤§æµ·æé’ˆ">&gt; Needle in a Haystack/å¤§æµ·æé’ˆ</a></li>
</ul> </li>
<li><a href="#section-the-hidden-treasureséšè—çš„å®è—">Section: The Hidden treasures!/éšè—çš„å®è—!</a>
<ul>
<li><a href="#-okay-python-can-you-make-me-flypython-å¯å¦å¸¦æˆ‘é£-">&gt; Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *</a></li>
<li><a href="#-goto-but-whygoto-ä½†ä¸ºä»€ä¹ˆ-">&gt; <code>goto</code>, but why?/<code>goto</code>, ä½†ä¸ºä»€ä¹ˆ? *</a></li>
<li><a href="#-brace-yourselfåšå¥½æ€æƒ³å‡†å¤‡-">&gt; Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *</a></li>
<li><a href="#-lets-meet-friendly-language-uncle-for-lifeè®©ç”Ÿæ´»æ›´å‹å¥½-">&gt; Let's meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *</a></li>
<li><a href="#-even-python-understands-that-love-is-complicatedè¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„-">&gt; Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *</a></li>
<li><a href="#-yes-it-existsæ˜¯çš„-å®ƒå­˜åœ¨">&gt; Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!</a></li>
<li><a href="#-inpinityæ— é™-">&gt; Inpinity/æ— é™ *</a></li>
<li><a href="#-mangling-timeä¿®é¥°æ—¶é—´-">&gt; Mangling time!ä¿®é¥°æ—¶é—´! *</a></li>
</ul> </li>
<li><a href="#section-miscellaneousæ‚é¡¹">Section: Miscellaneous/æ‚é¡¹</a>
<ul>
<li><a href="#--is-fasteræ›´å¿«çš„-">&gt; <code>+=</code> is faster/æ›´å¿«çš„ <code>+=</code> </a></li>
<li><a href="#-lets-make-a-giant-stringæ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§">&gt; Let's make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§!</a></li>
<li><a href="#-explicit-typecast-of-stringså­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢">&gt; Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢</a></li>
<li><a href="#-minor-oneså°çŸ¥è¯†ç‚¹">&gt; Minor Ones/å°çŸ¥è¯†ç‚¹</a></li>
</ul> </li>
</ul> </li>
<li><a href="#contributingè´¡çŒ®">Contributing/è´¡çŒ®</a></li>
<li><a href="#acknowledgementsè‡´è°¢">Acknowledgements/è‡´è°¢</a></li>
<li><a href="#-licenseè®¸å¯">ğŸ“ License/è®¸å¯</a>
<ul>
<li><a href="#helpå¸®åŠ©">Help/å¸®åŠ©</a></li>
<li><a href="#surprise-your-geeky-pythonist-friendsæƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ">Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?</a></li>
<li><a href="#need-a-pdf-versionéœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„">Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?</a></li>
<li><a href="#follow-commitè¿½è¸ªCommit">Follow Commit/è¿½è¸ªCommit</a></li>
<li><a href="#996icu">996.icu</a></li>
</ul> </li>
</ul>
<h1 id="structure-of-the-examplesç¤ºä¾‹ç»“æ„">Structure of the Examples/ç¤ºä¾‹ç»“æ„</h1>
<p>æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:</p>
<blockquote>
<h3 id="-ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜-">&gt; ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜ *</h3>
<p>æ ‡é¢˜æœ«å°¾çš„æ˜Ÿå·è¡¨ç¤ºè¯¥ç¤ºä¾‹åœ¨ç¬¬ä¸€ç‰ˆä¸­ä¸å­˜åœ¨ï¼Œæ˜¯æœ€è¿‘æ·»åŠ çš„.</p>
<pre><code class="language-py"># å‡†å¤‡ä»£ç .
# é‡Šæ”¾é­”æ³•...
</code></pre>
<p><strong>Output (Python version):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; è§¦å‘è¯­å¥
å‡ºä¹æ„æ–™çš„è¾“å‡ºç»“æœ
</code></pre>
<p>(å¯é€‰): å¯¹æ„å¤–è¾“å‡ºç»“æœçš„ç®€çŸ­æè¿°.</p>
<h4 id="-è¯´æ˜">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>ç®€è¦è¯´æ˜å‘ç”Ÿäº†ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆä¼šå‘ç”Ÿ. <pre><code class="language-py">å¦‚æœ‰å¿…è¦, ä¸¾ä¾‹è¯´æ˜
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt; è§¦å‘è¯­å¥ # ä¸€äº›è®©é­”æ³•å˜å¾—å®¹æ˜“ç†è§£çš„ä¾‹å­
# ä¸€äº›æ­£å¸¸çš„è¾“å…¥
</code></pre> </li>
</ul>
</blockquote>
<p><strong>æ³¨æ„:</strong> æ‰€æœ‰çš„ç¤ºä¾‹éƒ½åœ¨ Python 3.5.2 ç‰ˆæœ¬çš„äº¤äº’è§£é‡Šå™¨ä¸Šæµ‹è¯•è¿‡, å¦‚æœä¸ç‰¹åˆ«è¯´æ˜åº”è¯¥é€‚ç”¨äºæ‰€æœ‰ Python ç‰ˆæœ¬.</p>
<h1 id="usageç”¨æ³•">Usage/ç”¨æ³•</h1>
<p>æˆ‘ä¸ªäººå»ºè®®, æœ€å¥½ä¾æ¬¡é˜…è¯»ä¸‹é¢çš„ç¤ºä¾‹, å¹¶å¯¹æ¯ä¸ªç¤ºä¾‹:</p>
<ul>
<li>ä»”ç»†é˜…è¯»è®¾ç½®ä¾‹å­æœ€å¼€å§‹çš„ä»£ç . å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, é‚£ä¹ˆå¤§å¤šæ•°æ—¶å€™æ‚¨éƒ½èƒ½æˆåŠŸé¢„æœŸåˆ°åé¢çš„ç»“æœ.</li>
<li>é˜…è¯»è¾“å‡ºç»“æœ,
<ul>
<li>ç¡®è®¤ç»“æœæ˜¯å¦å¦‚ä½ æ‰€æ–™.</li>
<li>ç¡®è®¤ä½ æ˜¯å¦çŸ¥é“è¿™èƒŒåçš„åŸç†.
<ul>
<li>å¦‚æœä¸çŸ¥é“, æ·±å‘¼å¸ç„¶åé˜…è¯»è¯´æ˜ (å¦‚æœä½ è¿˜æ˜¯çœ‹ä¸æ˜ç™½, åˆ«æ²‰é»˜! å¯ä»¥åœ¨<a href="https://github.com/satwikkansal/wtfPython">è¿™</a>æä¸ª issue).</li>
<li>å¦‚æœçŸ¥é“, ç»™è‡ªå·±ç‚¹å¥–åŠ±, ç„¶åå»çœ‹ä¸‹ä¸€ä¸ªä¾‹å­.</li>
</ul> </li>
</ul> </li>
</ul>
<p>PS: ä½ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œé˜…è¯» WTFpython. æˆ‘ä»¬æœ‰ pypi åŒ… å’Œ npm åŒ…(æ”¯æŒä»£ç é«˜äº®).(è¯‘: è¿™ä¸¤ä¸ªéƒ½æ˜¯è‹±æ–‡ç‰ˆçš„)</p>
<p>å®‰è£… npm åŒ… <a href="https://www.npmjs.com/package/wtfpython"><code>wtfpython</code></a></p>
<pre><code class="language-sh">$ npm install -g wtfpython
</code></pre>
<p>æˆ–è€…, å®‰è£… pypi åŒ… <a href="https://pypi.python.org/pypi/wtfpython"><code>wtfpython</code></a></p>
<pre><code class="language-sh">$ pip install wtfpython -U
</code></pre>
<p>ç°åœ¨, åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>wtfpython</code>, ä½ å°±å¯ä»¥å¼€å§‹æµè§ˆäº†.</p>
<hr>
<h1 id="-examplesç¤ºä¾‹">ğŸ‘€ Examples/ç¤ºä¾‹</h1>
<h2 id="section-strain-your-brainå¤§è„‘è¿åŠ¨">Section: Strain your brain!/å¤§è„‘è¿åŠ¨!</h2>
<h3 id="-strings-can-be-tricky-sometimeså¾®å¦™çš„å­—ç¬¦ä¸²-">&gt; Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *</h3>
<p>1.</p>
<pre><code class="language-py">&gt;&gt;&gt; a = "some_string"
&gt;&gt;&gt; id(a)
140420665652016
&gt;&gt;&gt; id("some" + "_" + "string") # æ³¨æ„ä¸¤ä¸ªçš„idå€¼æ˜¯ç›¸åŒçš„.
140420665652016
</code></pre>
<p>2.</p>
<pre><code class="language-py">&gt;&gt;&gt; a = "wtf"
&gt;&gt;&gt; b = "wtf"
&gt;&gt;&gt; a is b
True

&gt;&gt;&gt; a = "wtf!"
&gt;&gt;&gt; b = "wtf!"
&gt;&gt;&gt; a is b
False

&gt;&gt;&gt; a, b = "wtf!", "wtf!"
&gt;&gt;&gt; a is b # ä»…é€‚ç”¨äº3.7ç‰ˆæœ¬ä»¥ä¸‹, 3.7ä»¥åçš„è¿”å›ç»“æœä¸ºFalse.
True
</code></pre>
<p>3.</p>
<pre><code class="language-py">&gt;&gt;&gt; 'a' * 20 is 'aaaaaaaaaaaaaaaaaaaa'
True
&gt;&gt;&gt; 'a' * 21 is 'aaaaaaaaaaaaaaaaaaaaa'
False
</code></pre>
<p>å¾ˆå¥½ç†è§£, å¯¹å§?</p>
<h4 id="-è¯´æ˜-1">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>è¿™äº›è¡Œä¸ºæ˜¯ç”±äº Cpython åœ¨ç¼–è¯‘ä¼˜åŒ–æ—¶, æŸäº›æƒ…å†µä¸‹ä¼šå°è¯•ä½¿ç”¨å·²ç»å­˜åœ¨çš„ä¸å¯å˜å¯¹è±¡è€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡. (è¿™ç§è¡Œä¸ºè¢«ç§°ä½œå­—ç¬¦ä¸²çš„é©»ç•™[string interning])</p> </li>
<li> <p>å‘ç”Ÿé©»ç•™ä¹‹å, è®¸å¤šå˜é‡å¯èƒ½æŒ‡å‘å†…å­˜ä¸­çš„ç›¸åŒå­—ç¬¦ä¸²å¯¹è±¡. (ä»è€ŒèŠ‚çœå†…å­˜)</p> </li>
<li> <p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­, å­—ç¬¦ä¸²æ˜¯éšå¼é©»ç•™çš„. ä½•æ—¶å‘ç”Ÿéšå¼é©»ç•™åˆ™å–å†³äºå…·ä½“çš„å®ç°. è¿™é‡Œæœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ç”¨æ¥çŒœæµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¼šè¢«é©»ç•™:</p>
<ul>
<li> <p>æ‰€æœ‰é•¿åº¦ä¸º 0 å’Œé•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²éƒ½è¢«é©»ç•™.</p> </li>
<li> <p>å­—ç¬¦ä¸²åœ¨ç¼–è¯‘æ—¶è¢«å®ç° (<code>'wtf'</code> å°†è¢«é©»ç•™, ä½†æ˜¯ <code>''.join(['w', 't', 'f']</code> å°†ä¸ä¼šè¢«é©»ç•™)</p> </li>
<li> <p>å­—ç¬¦ä¸²ä¸­åªåŒ…å«å­—æ¯ï¼Œæ•°å­—æˆ–ä¸‹åˆ’çº¿æ—¶å°†ä¼šé©»ç•™. æ‰€ä»¥ <code>'wtf!'</code> ç”±äºåŒ…å« <code>!</code> è€Œæœªè¢«é©»ç•™. å¯ä»¥åœ¨<a href="https://github.com/python/cpython/blob/3.6/Objects/codeobject.c#L19">è¿™é‡Œ</a>æ‰¾åˆ° CPython å¯¹æ­¤è§„åˆ™çš„å®ç°.</p> <a href="https://img.cntofu.com/book/wtfpython-cn//images/string-intern/string_intern.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//images/string-intern/string_intern.png" alt=""></a> </li>
</ul> </li>
<li> <p>å½“åœ¨åŒä¸€è¡Œå°† <code>a</code> å’Œ <code>b</code> çš„å€¼è®¾ç½®ä¸º <code>"wtf!"</code> çš„æ—¶å€™, Python è§£é‡Šå™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, ç„¶ååŒæ—¶å¼•ç”¨ç¬¬äºŒä¸ªå˜é‡(è¯‘: ä»…é€‚ç”¨äº3.7ä»¥ä¸‹, è¯¦ç»†æƒ…å†µè¯·çœ‹<a href="https://github.com/leisurelicht/wtfpython-cn/issues/13">è¿™é‡Œ</a>). å¦‚æœä½ åœ¨ä¸åŒçš„è¡Œä¸Šè¿›è¡Œèµ‹å€¼æ“ä½œ, å®ƒå°±ä¸ä¼šâ€œçŸ¥é“â€å·²ç»æœ‰ä¸€ä¸ª <code>wtfï¼</code> å¯¹è±¡ (å› ä¸º <code>"wtf!"</code> ä¸æ˜¯æŒ‰ç…§ä¸Šé¢æåˆ°çš„æ–¹å¼è¢«éšå¼é©»ç•™çš„). å®ƒæ˜¯ä¸€ç§ç¼–è¯‘å™¨ä¼˜åŒ–, ç‰¹åˆ«é€‚ç”¨äºäº¤äº’å¼ç¯å¢ƒ.</p> </li>
<li> <p>å¸¸é‡æŠ˜å (constant folding) æ˜¯ Python ä¸­çš„ä¸€ç§ <a href="https://en.wikipedia.org/wiki/Peephole_optimization">çª¥å­”ä¼˜åŒ–(peephole optimization)</a> æŠ€æœ¯. è¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶è¡¨è¾¾å¼ <code>'a'*20</code> ä¼šè¢«æ›¿æ¢ä¸º <code>'aaaaaaaaaaaaaaaaaaaa'</code> ä»¥å‡å°‘è¿è¡Œæ—¶çš„æ—¶é’Ÿå‘¨æœŸ. åªæœ‰é•¿åº¦å°äº 20 çš„å­—ç¬¦ä¸²æ‰ä¼šå‘ç”Ÿå¸¸é‡æŠ˜å . (ä¸ºå•¥? æƒ³è±¡ä¸€ä¸‹ç”±äºè¡¨è¾¾å¼ <code>'a'*10**10</code> è€Œç”Ÿæˆçš„ <code>.pyc</code> æ–‡ä»¶çš„å¤§å°). ç›¸å…³çš„æºç å®ç°åœ¨<a href="https://github.com/python/cpython/blob/3.6/Python/peephole.c#L288">è¿™é‡Œ</a>.</p> </li>
</ul>
<hr>
<h3 id="-time-for-some-hash-browniesæ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†">&gt; Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!</h3>
<ul>
<li>hash brownieæŒ‡ä¸€ç§å«æœ‰å¤§éº»æˆåˆ†çš„è›‹ç³•, æ‰€ä»¥è¿™é‡Œæ˜¯å¥åŒå…³</li>
</ul>
<p>1.</p>
<pre><code class="language-py">some_dict = {}
some_dict[5.5] = "Ruby"
some_dict[5.0] = "JavaScript"
some_dict[5] = "Python"
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_dict[5.5]
"Ruby"
&gt;&gt;&gt; some_dict[5.0]
"Python"
&gt;&gt;&gt; some_dict[5]
"Python"
</code></pre>
<p>"Python" æ¶ˆé™¤äº† "JavaScript" çš„å­˜åœ¨?</p>
<h4 id="-è¯´æ˜-2">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>Python å­—å…¸é€šè¿‡æ£€æŸ¥é”®å€¼æ˜¯å¦ç›¸ç­‰å’Œæ¯”è¾ƒå“ˆå¸Œå€¼æ¥ç¡®å®šä¸¤ä¸ªé”®æ˜¯å¦ç›¸åŒ.</li>
<li>å…·æœ‰ç›¸åŒå€¼çš„ä¸å¯å˜å¯¹è±¡åœ¨Pythonä¸­å§‹ç»ˆå…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼. <pre><code class="language-py">&gt;&gt;&gt; 5 == 5.0
True
&gt;&gt;&gt; hash(5) == hash(5.0)
True
</code></pre> <p><strong>æ³¨æ„:</strong> å…·æœ‰ä¸åŒå€¼çš„å¯¹è±¡ä¹Ÿå¯èƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼ˆå“ˆå¸Œå†²çªï¼‰.</p> </li>
<li>å½“æ‰§è¡Œ <code>some_dict[5] = "Python"</code> è¯­å¥æ—¶, å› ä¸ºPythonå°† <code>5</code> å’Œ <code>5.0</code> è¯†åˆ«ä¸º <code>some_dict</code> çš„åŒä¸€ä¸ªé”®, æ‰€ä»¥å·²æœ‰å€¼ "JavaScript" å°±è¢« "Python" è¦†ç›–äº†.</li>
<li>è¿™ä¸ª StackOverflowçš„ <a href="https://stackoverflow.com/a/32211042/4354153">å›ç­”</a> æ¼‚äº®çš„è§£é‡Šäº†è¿™èƒŒåçš„åŸºæœ¬åŸç†.</li>
</ul>
<hr>
<h3 id="-return-return-everywhereåˆ°å¤„è¿”å›">&gt; Return return everywhere!/åˆ°å¤„è¿”å›ï¼</h3>
<pre><code class="language-py">def some_func():
    try:
        return 'from_try'
    finally:
        return 'from_finally'
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_func()
'from_finally'
</code></pre>
<h4 id="-è¯´æ˜-3">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>å½“åœ¨ "try...finally" è¯­å¥çš„ <code>try</code> ä¸­æ‰§è¡Œ <code>return</code>, <code>break</code> æˆ– <code>continue</code> å, <code>finally</code> å­å¥ä¾ç„¶ä¼šæ‰§è¡Œ.</li>
<li>å‡½æ•°çš„è¿”å›å€¼ç”±æœ€åæ‰§è¡Œçš„ <code>return</code> è¯­å¥å†³å®š. ç”±äº <code>finally</code> å­å¥ä¸€å®šä¼šæ‰§è¡Œ, æ‰€ä»¥ <code>finally</code> å­å¥ä¸­çš„ <code>return</code> å°†å§‹ç»ˆæ˜¯æœ€åæ‰§è¡Œçš„è¯­å¥.</li>
</ul>
<hr>
<h3 id="-deep-down-were-all-the-sameæœ¬è´¨ä¸Šæˆ‘ä»¬éƒ½ä¸€æ ·-">&gt; Deep down, we're all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *</h3>
<pre><code class="language-py">class WTF:
  pass
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; WTF() == WTF() # ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡åº”è¯¥ä¸ç›¸ç­‰
False
&gt;&gt;&gt; WTF() is WTF() # ä¹Ÿä¸ç›¸åŒ
False
&gt;&gt;&gt; hash(WTF()) == hash(WTF()) # å“ˆå¸Œå€¼ä¹Ÿåº”è¯¥ä¸åŒ
True
&gt;&gt;&gt; id(WTF()) == id(WTF())
True
</code></pre>
<h4 id="-è¯´æ˜-4">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å½“è°ƒç”¨ <code>id</code> å‡½æ•°æ—¶, Python åˆ›å»ºäº†ä¸€ä¸ª <code>WTF</code> ç±»çš„å¯¹è±¡å¹¶ä¼ ç»™ <code>id</code> å‡½æ•°. ç„¶å <code>id</code> å‡½æ•°è·å–å…¶idå€¼ (ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€), ç„¶åä¸¢å¼ƒè¯¥å¯¹è±¡. è¯¥å¯¹è±¡å°±è¢«é”€æ¯äº†.</p> </li>
<li> <p>å½“æˆ‘ä»¬è¿ç»­ä¸¤æ¬¡è¿›è¡Œè¿™ä¸ªæ“ä½œæ—¶, Pythonä¼šå°†ç›¸åŒçš„å†…å­˜åœ°å€åˆ†é…ç»™ç¬¬äºŒä¸ªå¯¹è±¡. å› ä¸º (åœ¨CPythonä¸­) <code>id</code> å‡½æ•°ä½¿ç”¨å¯¹è±¡çš„å†…å­˜åœ°å€ä½œä¸ºå¯¹è±¡çš„idå€¼, æ‰€ä»¥ä¸¤ä¸ªå¯¹è±¡çš„idå€¼æ˜¯ç›¸åŒçš„.</p> </li>
<li> <p>ç»¼ä¸Š, å¯¹è±¡çš„idå€¼ä»…ä»…åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…å”¯ä¸€. åœ¨å¯¹è±¡è¢«é”€æ¯ä¹‹å, æˆ–è¢«åˆ›å»ºä¹‹å‰, å…¶ä»–å¯¹è±¡å¯ä»¥å…·æœ‰ç›¸åŒçš„idå€¼.</p> </li>
<li> <p>é‚£ä¸ºä»€ä¹ˆ <code>is</code> æ“ä½œçš„ç»“æœä¸º <code>False</code> å‘¢? è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ®µä»£ç .</p> <pre><code class="language-py">class WTF(object):
  def __init__(self): print("I")
  def __del__(self): print("D")
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt; WTF() is WTF()
I
I
D
D
False
&gt;&gt;&gt; id(WTF()) == id(WTF())
I
D
I
D
True
</code></pre> <p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„, å¯¹è±¡é”€æ¯çš„é¡ºåºæ˜¯é€ æˆæ‰€æœ‰ä¸åŒä¹‹å¤„çš„åŸå› .</p> </li>
</ul>
<hr>
<h3 id="-for-whatä¸ºä»€ä¹ˆ">&gt; For what?/ä¸ºä»€ä¹ˆ?</h3>
<pre><code class="language-py">some_string = "wtf"
some_dict = {}
for i, some_dict[i] in enumerate(some_string):
    pass
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_dict # åˆ›å»ºäº†ç´¢å¼•å­—å…¸.
{0: 'w', 1: 't', 2: 'f'}
</code></pre>
<h4 id="-è¯´æ˜-5">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p><a href="https://docs.python.org/3/reference/grammar.html">Python è¯­æ³•</a> ä¸­å¯¹ <code>for</code> çš„å®šä¹‰æ˜¯:</p> <pre><code>for_stmt: 'for' exprlist 'in' testlist ':' suite ['else' ':' suite]
</code></pre> <p>å…¶ä¸­ <code>exprlist</code> æŒ‡åˆ†é…ç›®æ ‡. è¿™æ„å‘³ç€å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„<strong>æ¯ä¸€é¡¹éƒ½ä¼šæ‰§è¡Œ</strong>ç±»ä¼¼ <code>{exprlist} = {next_value}</code> çš„æ“ä½œ.</p> <p>ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­è¯´æ˜äº†è¿™ä¸€ç‚¹:</p> <pre><code class="language-py">for i in range(4):
    print(i)
    i = 10
</code></pre> <p><strong>Output:</strong></p> <pre><code>0
1
2
3
</code></pre> <p>ä½ å¯æ›¾è§‰å¾—è¿™ä¸ªå¾ªç¯åªä¼šè¿è¡Œä¸€æ¬¡?</p> <p><strong>ğŸ’¡ è¯´æ˜:</strong></p>
<ul>
<li>ç”±äºå¾ªç¯åœ¨Pythonä¸­å·¥ä½œæ–¹å¼, èµ‹å€¼è¯­å¥ <code>i = 10</code> å¹¶ä¸ä¼šå½±å“è¿­ä»£å¾ªç¯, åœ¨æ¯æ¬¡è¿­ä»£å¼€å§‹ä¹‹å‰, è¿­ä»£å™¨(è¿™é‡ŒæŒ‡ <code>range(4)</code>) ç”Ÿæˆçš„ä¸‹ä¸€ä¸ªå…ƒç´ å°±è¢«è§£åŒ…å¹¶èµ‹å€¼ç»™ç›®æ ‡åˆ—è¡¨çš„å˜é‡(è¿™é‡ŒæŒ‡ <code>i</code>)äº†.</li>
</ul> </li>
<li> <p>åœ¨æ¯ä¸€æ¬¡çš„è¿­ä»£ä¸­, <code>enumerate(some_string)</code> å‡½æ•°å°±ç”Ÿæˆä¸€ä¸ªæ–°å€¼ <code>i</code> (è®¡æ•°å™¨å¢åŠ ) å¹¶ä» <code>some_string</code> ä¸­è·å–ä¸€ä¸ªå­—ç¬¦. ç„¶åå°†å­—å…¸ <code>some_dict</code> é”® <code>i</code> (åˆšåˆšåˆ†é…çš„) çš„å€¼è®¾ä¸ºè¯¥å­—ç¬¦. æœ¬ä¾‹ä¸­å¾ªç¯çš„å±•å¼€å¯ä»¥ç®€åŒ–ä¸º:</p> <pre><code class="language-py">&gt;&gt;&gt; i, some_dict[i] = (0, 'w')
&gt;&gt;&gt; i, some_dict[i] = (1, 't')
&gt;&gt;&gt; i, some_dict[i] = (2, 'f')
&gt;&gt;&gt; some_dict
</code></pre> </li>
</ul>
<hr>
<h3 id="-evaluation-time-discrepancyæ‰§è¡Œæ—¶æœºå·®å¼‚">&gt; Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚</h3>
<p>1.</p>
<pre><code class="language-py">array = [1, 8, 15]
g = (x for x in array if array.count(x) &gt; 0)
array = [2, 8, 22]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; print(list(g))
[8]
</code></pre>
<p>2.</p>
<pre><code class="language-py">array_1 = [1,2,3,4]
g1 = (x for x in array_1)
array_1 = [1,2,3,4,5]

array_2 = [1,2,3,4]
g2 = (x for x in array_2)
array_2[:] = [1,2,3,4,5]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; print(list(g1))
[1,2,3,4]

&gt;&gt;&gt; print(list(g2))
[1,2,3,4,5]
</code></pre>
<h4 id="-è¯´æ˜-6">ğŸ’¡ è¯´æ˜</h4>
<ul>
<li>åœ¨<a href="https://wiki.python.org/moin/Generators">ç”Ÿæˆå™¨</a>è¡¨è¾¾å¼ä¸­, <code>in</code> å­å¥åœ¨å£°æ˜æ—¶æ‰§è¡Œ, è€Œæ¡ä»¶å­å¥åˆ™æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œ.</li>
<li>æ‰€ä»¥åœ¨è¿è¡Œå‰, <code>array</code> å·²ç»è¢«é‡æ–°èµ‹å€¼ä¸º <code>[2, 8, 22]</code>, å› æ­¤å¯¹äºä¹‹å‰çš„ <code>1</code>, <code>8</code> å’Œ <code>15</code>, åªæœ‰ <code>count(8)</code> çš„ç»“æœæ˜¯å¤§äº <code>0</code> çš„, æ‰€ä»¥ç”Ÿæˆå™¨åªä¼šç”Ÿæˆ <code>8</code>.</li>
<li>ç¬¬äºŒéƒ¨åˆ†ä¸­ <code>g1</code> å’Œ <code>g2</code> çš„è¾“å‡ºå·®å¼‚åˆ™æ˜¯ç”±äºå˜é‡ <code>array_1</code> å’Œ <code>array_2</code> è¢«é‡æ–°èµ‹å€¼çš„æ–¹å¼å¯¼è‡´çš„.</li>
<li>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹, <code>array_1</code> è¢«ç»‘å®šåˆ°æ–°å¯¹è±¡ <code>[1,2,3,4,5]</code>, å› ä¸º <code>in</code> å­å¥æ˜¯åœ¨å£°æ˜æ—¶è¢«æ‰§è¡Œçš„ï¼Œ æ‰€ä»¥å®ƒä»ç„¶å¼•ç”¨æ—§å¯¹è±¡ <code>[1,2,3,4]</code>(å¹¶æ²¡æœ‰è¢«é”€æ¯).</li>
<li>åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹, å¯¹ <code>array_2</code> çš„åˆ‡ç‰‡èµ‹å€¼å°†ç›¸åŒçš„æ—§å¯¹è±¡ <code>[1,2,3,4]</code> åŸåœ°æ›´æ–°ä¸º <code>[1,2,3,4,5]</code>. å› æ­¤ <code>g2</code> å’Œ <code>array_2</code> ä»ç„¶å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡(è¿™ä¸ªå¯¹è±¡ç°åœ¨å·²ç»æ›´æ–°ä¸º <code>[1,2,3,4,5]</code>).</li>
</ul>
<hr>
<h3 id="-is-is-not-what-it-iså‡ºäººæ„æ–™çš„is">&gt; <code>is</code> is not what it is!/å‡ºäººæ„æ–™çš„<code>is</code>!</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨äº’è”ç½‘ä¸Šéå¸¸æœ‰åçš„ä¾‹å­.</p>
<pre><code class="language-py">&gt;&gt;&gt; a = 256
&gt;&gt;&gt; b = 256
&gt;&gt;&gt; a is b
True

&gt;&gt;&gt; a = 257
&gt;&gt;&gt; b = 257
&gt;&gt;&gt; a is b
False

&gt;&gt;&gt; a = 257; b = 257
&gt;&gt;&gt; a is b
True
</code></pre>
<h4 id="-è¯´æ˜-7">ğŸ’¡ è¯´æ˜:</h4>
<p><strong><code>is</code> å’Œ <code>==</code> çš„åŒºåˆ«</strong></p>
<ul>
<li><code>is</code> è¿ç®—ç¬¦æ£€æŸ¥ä¸¤ä¸ªè¿ç®—å¯¹è±¡æ˜¯å¦å¼•ç”¨è‡ªåŒä¸€å¯¹è±¡ (å³, å®ƒæ£€æŸ¥ä¸¤ä¸ªé¢„ç®—å¯¹è±¡æ˜¯å¦ç›¸åŒ).</li>
<li><code>==</code> è¿ç®—ç¬¦æ¯”è¾ƒä¸¤ä¸ªè¿ç®—å¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰.</li>
<li>å› æ­¤ <code>is</code> ä»£è¡¨å¼•ç”¨ç›¸åŒ, <code>==</code> ä»£è¡¨å€¼ç›¸ç­‰. ä¸‹é¢çš„ä¾‹å­å¯ä»¥å¾ˆå¥½çš„è¯´æ˜è¿™ç‚¹, <pre><code class="language-py">&gt;&gt;&gt; [] == []
True
&gt;&gt;&gt; [] is [] # è¿™ä¸¤ä¸ªç©ºåˆ—è¡¨ä½äºä¸åŒçš„å†…å­˜åœ°å€.
False
</code></pre> </li>
</ul>
<p><strong><code>256</code> æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡, è€Œ <code>257</code> ä¸æ˜¯</strong></p>
<p>å½“ä½ å¯åŠ¨Python çš„æ—¶å€™, <code>-5</code> åˆ° <code>256</code> çš„æ•°å€¼å°±å·²ç»è¢«åˆ†é…å¥½äº†. è¿™äº›æ•°å­—å› ä¸ºç»å¸¸ä½¿ç”¨æ‰€ä»¥é€‚åˆè¢«æå‰å‡†å¤‡å¥½.</p>
<p>å¼•ç”¨è‡ª https://docs.python.org/3/c-api/long.html</p>
<blockquote>
<p>å½“å‰çš„å®ç°ä¸º-5åˆ°256ä¹‹é—´çš„æ‰€æœ‰æ•´æ•°ä¿ç•™ä¸€ä¸ªæ•´æ•°å¯¹è±¡æ•°ç»„, å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªè¯¥èŒƒå›´å†…çš„æ•´æ•°æ—¶, ä½ åªéœ€è¦è¿”å›ç°æœ‰å¯¹è±¡çš„å¼•ç”¨. æ‰€ä»¥æ”¹å˜1çš„å€¼æ˜¯æœ‰å¯èƒ½çš„. æˆ‘æ€€ç–‘è¿™ç§è¡Œä¸ºåœ¨Pythonä¸­æ˜¯æœªå®šä¹‰è¡Œä¸º. :-)</p>
</blockquote>
<pre><code class="language-py">&gt;&gt;&gt; id(256)
10922528
&gt;&gt;&gt; a = 256
&gt;&gt;&gt; b = 256
&gt;&gt;&gt; id(a)
10922528
&gt;&gt;&gt; id(b)
10922528
&gt;&gt;&gt; id(257)
140084850247312
&gt;&gt;&gt; x = 257
&gt;&gt;&gt; y = 257
&gt;&gt;&gt; id(x)
140084850247440
&gt;&gt;&gt; id(y)
140084850247344
</code></pre>
<p>è¿™é‡Œè§£é‡Šå™¨å¹¶æ²¡æœ‰æ™ºèƒ½åˆ°èƒ½åœ¨æ‰§è¡Œ <code>y = 257</code> æ—¶æ„è¯†åˆ°æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ•´æ•° <code>257</code>, æ‰€ä»¥å®ƒåœ¨å†…å­˜ä¸­åˆæ–°å»ºäº†å¦ä¸€ä¸ªå¯¹è±¡.</p>
<p><strong>å½“ <code>a</code> å’Œ <code>b</code> åœ¨åŒä¸€è¡Œä¸­ä½¿ç”¨ç›¸åŒçš„å€¼åˆå§‹åŒ–æ—¶ï¼Œä¼šæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡.</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; a, b = 257, 257
&gt;&gt;&gt; id(a)
140640774013296
&gt;&gt;&gt; id(b)
140640774013296
&gt;&gt;&gt; a = 257
&gt;&gt;&gt; b = 257
&gt;&gt;&gt; id(a)
140640774013392
&gt;&gt;&gt; id(b)
140640774013488
</code></pre>
<ul>
<li>å½“ a å’Œ b åœ¨åŒä¸€è¡Œä¸­è¢«è®¾ç½®ä¸º <code>257</code> æ—¶, Python è§£é‡Šå™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, ç„¶ååŒæ—¶å¼•ç”¨ç¬¬äºŒä¸ªå˜é‡. å¦‚æœä½ åœ¨ä¸åŒçš„è¡Œä¸Šè¿›è¡Œ, å®ƒå°±ä¸ä¼š "çŸ¥é“" å·²ç»å­˜åœ¨ä¸€ä¸ª <code>257</code> å¯¹è±¡äº†.</li>
<li>è¿™æ˜¯ä¸€ç§ç‰¹åˆ«ä¸ºäº¤äº’å¼ç¯å¢ƒåšçš„ç¼–è¯‘å™¨ä¼˜åŒ–. å½“ä½ åœ¨å®æ—¶è§£é‡Šå™¨ä¸­è¾“å…¥ä¸¤è¡Œçš„æ—¶å€™, ä»–ä»¬ä¼šå•ç‹¬ç¼–è¯‘, å› æ­¤ä¹Ÿä¼šå•ç‹¬è¿›è¡Œä¼˜åŒ–. å¦‚æœä½ åœ¨ <code>.py</code> æ–‡ä»¶ä¸­å°è¯•è¿™ä¸ªä¾‹å­, åˆ™ä¸ä¼šçœ‹åˆ°ç›¸åŒçš„è¡Œä¸º, å› ä¸ºæ–‡ä»¶æ˜¯ä¸€æ¬¡æ€§ç¼–è¯‘çš„.</li>
</ul>
<hr>
<h3 id="-a-tic-tac-toe-where-x-wins-in-the-first-attemptä¸€è¹´å³è‡³">&gt; A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!</h3>
<pre><code class="language-py"># æˆ‘ä»¬å…ˆåˆå§‹åŒ–ä¸€ä¸ªå˜é‡row
row = [""]*3 #row i['', '', '']
# å¹¶åˆ›å»ºä¸€ä¸ªå˜é‡board
board = [row]*3
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; board
[['', '', ''], ['', '', ''], ['', '', '']]
&gt;&gt;&gt; board[0]
['', '', '']
&gt;&gt;&gt; board[0][0]
''
&gt;&gt;&gt; board[0][0] = "X"
&gt;&gt;&gt; board
[['X', '', ''], ['X', '', ''], ['X', '', '']]
</code></pre>
<p>æˆ‘ä»¬æœ‰æ²¡æœ‰èµ‹å€¼è¿‡3ä¸ª "X" å‘¢ï¼Ÿ</p>
<h4 id="-è¯´æ˜-8">ğŸ’¡ è¯´æ˜:</h4>
<p>å½“æˆ‘ä»¬åˆå§‹åŒ– <code>row</code> å˜é‡æ—¶, ä¸‹é¢è¿™å¼ å›¾å±•ç¤ºäº†å†…å­˜ä¸­çš„æƒ…å†µã€‚</p>
<p><a href="https://img.cntofu.com/book/wtfpython-cn//images/tic-tac-toe/after_row_initialized.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//images/tic-tac-toe/after_row_initialized.png" alt="image"></a></p>
<p>è€Œå½“é€šè¿‡å¯¹ <code>row</code> åšä¹˜æ³•æ¥åˆå§‹åŒ– <code>board</code> æ—¶, å†…å­˜ä¸­çš„æƒ…å†µåˆ™å¦‚ä¸‹å›¾æ‰€ç¤º (æ¯ä¸ªå…ƒç´  <code>board[0]</code>, <code>board[1]</code> å’Œ <code>board[2]</code> éƒ½å’Œ <code>row</code> ä¸€æ ·å¼•ç”¨äº†åŒä¸€åˆ—è¡¨.)</p>
<p><a href="https://img.cntofu.com/book/wtfpython-cn//images/tic-tac-toe/after_board_initialized.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//images/tic-tac-toe/after_board_initialized.png" alt="image"></a></p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ä½¿ç”¨å˜é‡ <code>row</code> ç”Ÿæˆ <code>board</code> æ¥é¿å…è¿™ç§æƒ…å†µ. (<a href="https://github.com/satwikkansal/wtfpython/issues/68">è¿™ä¸ª</a>issueæå‡ºäº†è¿™ä¸ªéœ€æ±‚.)</p>
<pre><code class="language-py">&gt;&gt;&gt; board = [['']*3 for _ in range(3)]
&gt;&gt;&gt; board[0][0] = "X"
&gt;&gt;&gt; board
[['X', '', ''], ['', '', ''], ['', '', '']]
</code></pre>
<hr>
<h3 id="-the-sticky-output-functionéº»çƒ¦çš„è¾“å‡º">&gt; The sticky output function/éº»çƒ¦çš„è¾“å‡º</h3>
<pre><code class="language-py">funcs = []
results = []
for x in range(7):
    def some_func():
        return x
    funcs.append(some_func)
    results.append(some_func()) # æ³¨æ„è¿™é‡Œå‡½æ•°è¢«æ‰§è¡Œäº†

funcs_results = [func() for func in funcs]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; results
[0, 1, 2, 3, 4, 5, 6]
&gt;&gt;&gt; funcs_results
[6, 6, 6, 6, 6, 6, 6]
</code></pre>
<p>å³ä½¿æ¯æ¬¡åœ¨è¿­ä»£ä¸­å°† <code>some_func</code> åŠ å…¥ <code>funcs</code> å‰çš„ <code>x</code> å€¼éƒ½ä¸ç›¸åŒ, æ‰€æœ‰çš„å‡½æ•°è¿˜æ˜¯éƒ½è¿”å›6.</p>
<p>// å†æ¢ä¸ªä¾‹å­</p>
<pre><code class="language-py">&gt;&gt;&gt; powers_of_x = [lambda x: x**i for i in range(10)]
&gt;&gt;&gt; [f(2) for f in powers_of_x]
[512, 512, 512, 512, 512, 512, 512, 512, 512, 512]
</code></pre>
<h4 id="-è¯´æ˜-9">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å½“åœ¨å¾ªç¯å†…éƒ¨å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶, å¦‚æœè¯¥å‡½æ•°åœ¨å…¶ä¸»ä½“ä¸­ä½¿ç”¨äº†å¾ªç¯å˜é‡, åˆ™é—­åŒ…å‡½æ•°å°†ä¸å¾ªç¯å˜é‡ç»‘å®š, è€Œä¸æ˜¯å®ƒçš„å€¼. å› æ­¤, æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯ä½¿ç”¨æœ€ååˆ†é…ç»™å˜é‡çš„å€¼æ¥è¿›è¡Œè®¡ç®—çš„.</p> </li>
<li> <p>å¯ä»¥é€šè¿‡å°†å¾ªç¯å˜é‡ä½œä¸ºå‘½åå˜é‡ä¼ é€’ç»™å‡½æ•°æ¥è·å¾—é¢„æœŸçš„ç»“æœ. <strong>ä¸ºä»€ä¹ˆè¿™æ ·å¯è¡Œ?</strong> å› ä¸ºè¿™ä¼šåœ¨å‡½æ•°å†…å†æ¬¡å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡.</p> <pre><code class="language-py">funcs = []
for x in range(7):
    def some_func(x=x):
        return x
    funcs.append(some_func)
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt; funcs_results = [func() for func in funcs]
&gt;&gt;&gt; funcs_results
[0, 1, 2, 3, 4, 5, 6]
</code></pre> </li>
</ul>
<hr>
<h3 id="-is-not--is-not-is-not-is-not--ä¸æ˜¯-is-not-">&gt; <code>is not ...</code> is not <code>is (not ...)</code>/<code>is not ...</code> ä¸æ˜¯ <code>is (not ...)</code></h3>
<pre><code class="language-py">&gt;&gt;&gt; 'something' is not None
True
&gt;&gt;&gt; 'something' is (not None)
False
</code></pre>
<h4 id="-è¯´æ˜-10">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li><code>is not</code> æ˜¯ä¸ªå•ç‹¬çš„äºŒå…ƒè¿ç®—ç¬¦, ä¸åˆ†åˆ«ä½¿ç”¨ <code>is</code> å’Œ <code>not</code> ä¸åŒ.</li>
<li>å¦‚æœæ“ä½œç¬¦ä¸¤ä¾§çš„å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, åˆ™ <code>is not</code> çš„ç»“æœä¸º <code>False</code>, å¦åˆ™ç»“æœä¸º <code>True</code>.</li>
</ul>
<hr>
<h3 id="-the-surprising-commaæ„å¤–çš„é€—å·">&gt; The surprising comma/æ„å¤–çš„é€—å·</h3>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; def f(x, y,):
...     print(x, y)
...
&gt;&gt;&gt; def g(x=4, y=5,):
...     print(x, y)
...
&gt;&gt;&gt; def h(x, **kwargs,):
  File "&lt;stdin&gt;", line 1
    def h(x, **kwargs,):
                     ^
SyntaxError: invalid syntax
&gt;&gt;&gt; def h(*args,):
  File "&lt;stdin&gt;", line 1
    def h(*args,):
                ^
SyntaxError: invalid syntax
</code></pre>
<h4 id="-è¯´æ˜-11">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>åœ¨Pythonå‡½æ•°çš„å½¢å¼å‚æ•°åˆ—è¡¨ä¸­, å°¾éšé€—å·å¹¶ä¸ä¸€å®šæ˜¯åˆæ³•çš„.</li>
<li>åœ¨Pythonä¸­, å‚æ•°åˆ—è¡¨éƒ¨åˆ†ç”¨å‰ç½®é€—å·å®šä¹‰, éƒ¨åˆ†ç”¨å°¾éšé€—å·å®šä¹‰. è¿™ç§å†²çªå¯¼è‡´é€—å·è¢«å¤¹åœ¨ä¸­é—´, æ²¡æœ‰è§„åˆ™å®šä¹‰å®ƒ.(è¯‘:è¿™ä¸€å¥çœ‹å¾—æˆ‘ä¹Ÿå¾ˆæ‡µé€¼,åªèƒ½å¼ºç¿»äº†.è¯¦ç»†è§£é‡Šçœ‹ä¸‹é¢çš„è®¨è®ºå¸–ä¼šä¸€ç›®äº†ç„¶.)</li>
<li><strong>æ³¨æ„:</strong> å°¾éšé€—å·çš„é—®é¢˜å·²ç»åœ¨Python 3.6ä¸­è¢«<a href="https://bugs.python.org/issue9232">ä¿®å¤</a>äº†. è€Œè¿™ç¯‡<a href="https://bugs.python.org/issue9232#msg248399">å¸–å­</a>ä¸­åˆ™ç®€è¦è®¨è®ºäº†Pythonä¸­å°¾éšé€—å·çš„ä¸åŒç”¨æ³•.</li>
</ul>
<hr>
<h3 id="-backslashes-at-the-end-of-stringå­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ ">&gt; Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ </h3>
<p><strong>Output:</strong></p>
<pre><code>&gt;&gt;&gt; print("\\ C:\\")
\ C:\
&gt;&gt;&gt; print(r"\ C:")
\ C:
&gt;&gt;&gt; print(r"\ C:\")

    File "&lt;stdin&gt;", line 1
      print(r"\ C:\")
                     ^
SyntaxError: EOL while scanning string literal
</code></pre>
<h4 id="-è¯´æ˜-12">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>åœ¨ä»¥ <code>r</code> å¼€å¤´çš„åŸå§‹å­—ç¬¦ä¸²ä¸­, åæ–œæ å¹¶æ²¡æœ‰ç‰¹æ®Šå«ä¹‰. <pre><code class="language-py">&gt;&gt;&gt; print(repr(r"wt\"f"))
'wt\\"f'
</code></pre> </li>
<li>è§£é‡Šå™¨æ‰€åšçš„åªæ˜¯ç®€å•çš„æ”¹å˜äº†åæ–œæ çš„è¡Œä¸º, å› æ­¤ä¼šç›´æ¥æ”¾è¡Œåæ–œæ åŠåä¸€ä¸ªçš„å­—ç¬¦. è¿™å°±æ˜¯åæ–œæ åœ¨åŸå§‹å­—ç¬¦ä¸²æœ«å°¾ä¸èµ·ä½œç”¨çš„åŸå› .</li>
</ul>
<hr>
<h3 id="-not-knotåˆ«çº ç»“">&gt; not knot!/åˆ«çº ç»“!</h3>
<pre><code class="language-py">x = True
y = False
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; not x == y
True
&gt;&gt;&gt; x == not y
  File "&lt;input&gt;", line 1
    x == not y
           ^
SyntaxError: invalid syntax
</code></pre>
<h4 id="-è¯´æ˜-13">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¼šå½±å“è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº, è€Œåœ¨ Python ä¸­ <code>==</code> è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§è¦é«˜äº <code>not</code> è¿ç®—ç¬¦.</li>
<li>æ‰€ä»¥ <code>not x == y</code> ç›¸å½“äº <code>not (x == y)</code>, åŒæ—¶ç­‰ä»·äº <code>not (True == False)</code>, æœ€åçš„è¿ç®—ç»“æœå°±æ˜¯ <code>True</code>.</li>
<li>ä¹‹æ‰€ä»¥ <code>x == not y</code> ä¼šæŠ›ä¸€ä¸ª <code>SyntaxError</code> å¼‚å¸¸, æ˜¯å› ä¸ºå®ƒä¼šè¢«è®¤ä¸ºç­‰ä»·äº <code>(x == not) y</code>, è€Œä¸æ˜¯ä½ ä¸€å¼€å§‹æœŸæœ›çš„ <code>x == (not y)</code>.</li>
<li>è§£é‡Šå™¨æœŸæœ› <code>not</code> æ ‡è®°æ˜¯ <code>not in</code> æ“ä½œç¬¦çš„ä¸€éƒ¨åˆ† (å› ä¸º <code>==</code> å’Œ <code>not in</code> æ“ä½œç¬¦å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§), ä½†æ˜¯å®ƒåœ¨ <code>not</code> æ ‡è®°åé¢æ‰¾ä¸åˆ° <code>in</code> æ ‡è®°, æ‰€ä»¥ä¼šæŠ›å‡º <code>SyntaxError</code> å¼‚å¸¸.</li>
</ul>
<hr>
<h3 id="-half-triple-quoted-stringsä¸‰ä¸ªå¼•å·">&gt; Half triple-quoted strings/ä¸‰ä¸ªå¼•å·</h3>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; print('wtfpython''')
wtfpython
&gt;&gt;&gt; print("wtfpython""")
wtfpython
&gt;&gt;&gt; # ä¸‹é¢çš„è¯­å¥ä¼šæŠ›å‡º `SyntaxError` å¼‚å¸¸
&gt;&gt;&gt; # print('''wtfpython')
&gt;&gt;&gt; # print("""wtfpython")
</code></pre>
<h4 id="-è¯´æ˜-14">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>Python æä¾›éšå¼çš„<a href="https://docs.python.org/2/reference/lexical_analysis.html#string-literal-concatenation">å­—ç¬¦ä¸²é“¾æ¥</a>, ä¾‹å¦‚, <pre><code>&gt;&gt;&gt; print("wtf" "python")
wtfpython
&gt;&gt;&gt; print("wtf" "") # or "wtf"""
wtf
</code></pre> </li>
<li><code>'''</code> å’Œ <code>"""</code> åœ¨ Pythonä¸­ä¹Ÿæ˜¯å­—ç¬¦ä¸²å®šç•Œç¬¦, Python è§£é‡Šå™¨åœ¨å…ˆé‡åˆ°ä¸‰ä¸ªå¼•å·çš„çš„æ—¶å€™ä¼šå°è¯•å†å¯»æ‰¾ä¸‰ä¸ªç»ˆæ­¢å¼•å·ä½œä¸ºå®šç•Œç¬¦, å¦‚æœä¸å­˜åœ¨åˆ™ä¼šå¯¼è‡´ <code>SyntaxError</code> å¼‚å¸¸.</li>
</ul>
<hr>
<h3 id="-midnight-time-doesnt-existä¸å­˜åœ¨çš„åˆå¤œ">&gt; Midnight time doesn't exist?/ä¸å­˜åœ¨çš„åˆå¤œ?</h3>
<pre><code class="language-py">from datetime import datetime

midnight = datetime(2018, 1, 1, 0, 0)
midnight_time = midnight.time()

noon = datetime(2018, 1, 1, 12, 0)
noon_time = noon.time()

if midnight_time:
    print("Time at midnight is", midnight_time)

if noon_time:
    print("Time at noon is", noon_time)
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-sh">('Time at noon is', datetime.time(12, 0))
</code></pre>
<p>midnight_time å¹¶æ²¡æœ‰è¢«è¾“å‡º.</p>
<h4 id="-è¯´æ˜-15">ğŸ’¡ è¯´æ˜:</h4>
<p>åœ¨Python 3.5ä¹‹å‰, å¦‚æœ <code>datetime.time</code> å¯¹è±¡å­˜å‚¨çš„UTCçš„åˆå¤œæ—¶é—´(è¯‘: å°±æ˜¯ <code>00:00</code>), é‚£ä¹ˆå®ƒçš„å¸ƒå°”å€¼ä¼šè¢«è®¤ä¸ºæ˜¯ <code>False</code>. å½“ä½¿ç”¨ <code>if obj:</code> è¯­å¥æ¥æ£€æŸ¥ <code>obj</code> æ˜¯å¦ä¸º <code>null</code> æˆ–è€…æŸäº›â€œç©ºâ€å€¼çš„æ—¶å€™, å¾ˆå®¹æ˜“å‡ºé”™.</p>
<hr>
<h3 id="-whats-wrong-with-booleanså¸ƒå°”ä½ å’‹äº†">&gt; What's wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?</h3>
<p>1.</p>
<pre><code class="language-py"># ä¸€ä¸ªç®€å•çš„ä¾‹å­, ç»Ÿè®¡ä¸‹é¢å¯è¿­ä»£å¯¹è±¡ä¸­çš„å¸ƒå°”å‹å€¼çš„ä¸ªæ•°å’Œæ•´å‹å€¼çš„ä¸ªæ•°
mixed_list = [False, 1.0, "some_string", 3, True, [], False]
integers_found_so_far = 0
booleans_found_so_far = 0

for item in mixed_list:
    if isinstance(item, int):
        integers_found_so_far += 1
    elif isinstance(item, bool):
        booleans_found_so_far += 1
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; integers_found_so_far
4
&gt;&gt;&gt; booleans_found_so_far
0
</code></pre>
<p>2.</p>
<pre><code class="language-py">another_dict = {}
another_dict[True] = "JavaScript"
another_dict[1] = "Ruby"
another_dict[1.0] = "Python"
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; another_dict[True]
"Python"
</code></pre>
<p>3.</p>
<pre><code class="language-py">&gt;&gt;&gt; some_bool = True
&gt;&gt;&gt; "wtf"*some_bool
'wtf'
&gt;&gt;&gt; some_bool = False
&gt;&gt;&gt; "wtf"*some_bool
''
</code></pre>
<h4 id="-è¯´æ˜-16">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å¸ƒå°”å€¼æ˜¯ <code>int</code> çš„å­ç±»</p> <pre><code class="language-py">&gt;&gt;&gt; isinstance(True, int)
True
&gt;&gt;&gt; isinstance(False, int)
True
</code></pre> </li>
<li> <p>æ‰€ä»¥ <code>True</code> çš„æ•´æ•°å€¼æ˜¯ <code>1</code>, è€Œ <code>False</code> çš„æ•´æ•°å€¼æ˜¯ <code>0</code>.</p> <pre><code class="language-py">&gt;&gt;&gt; True == 1 == 1.0 and False == 0 == 0.0
True
</code></pre> </li>
<li> <p>å…³äºå…¶èƒŒåçš„åŸç†, è¯·çœ‹è¿™ä¸ª StackOverflow çš„<a href="https://stackoverflow.com/a/8169049/4354153">å›ç­”</a>.</p> </li>
</ul>
<hr>
<h3 id="-class-attributes-and-instance-attributesç±»å±æ€§å’Œå®ä¾‹å±æ€§">&gt; Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§</h3>
<p>1.</p>
<pre><code class="language-py">class A:
    x = 1

class B(A):
    pass

class C(A):
    pass
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; A.x, B.x, C.x
(1, 1, 1)
&gt;&gt;&gt; B.x = 2
&gt;&gt;&gt; A.x, B.x, C.x
(1, 2, 1)
&gt;&gt;&gt; A.x = 3
&gt;&gt;&gt; A.x, B.x, C.x
(3, 2, 3)
&gt;&gt;&gt; a = A()
&gt;&gt;&gt; a.x, A.x
(3, 3)
&gt;&gt;&gt; a.x += 1
&gt;&gt;&gt; a.x, A.x
(4, 3)
</code></pre>
<p>2.</p>
<pre><code class="language-py">class SomeClass:
    some_var = 15
    some_list = [5]
    another_list = [5]
    def __init__(self, x):
        self.some_var = x + 1
        self.some_list = self.some_list + [x]
        self.another_list += [x]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_obj = SomeClass(420)
&gt;&gt;&gt; some_obj.some_list
[5, 420]
&gt;&gt;&gt; some_obj.another_list
[5, 420]
&gt;&gt;&gt; another_obj = SomeClass(111)
&gt;&gt;&gt; another_obj.some_list
[5, 111]
&gt;&gt;&gt; another_obj.another_list
[5, 420, 111]
&gt;&gt;&gt; another_obj.another_list is SomeClass.another_list
True
&gt;&gt;&gt; another_obj.another_list is some_obj.another_list
True
</code></pre>
<h4 id="-è¯´æ˜-17">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>ç±»å˜é‡å’Œå®ä¾‹å˜é‡åœ¨å†…éƒ¨æ˜¯é€šè¿‡ç±»å¯¹è±¡çš„å­—å…¸æ¥å¤„ç†(è¯‘: å°±æ˜¯ <code>__dict__</code> å±æ€§). å¦‚æœåœ¨å½“å‰ç±»çš„å­—å…¸ä¸­æ‰¾ä¸åˆ°çš„è¯å°±å»å®ƒçš„çˆ¶ç±»ä¸­å¯»æ‰¾.</li>
<li><code>+=</code> è¿ç®—ç¬¦ä¼šåœ¨åŸåœ°ä¿®æ”¹å¯å˜å¯¹è±¡, è€Œä¸æ˜¯åˆ›å»ºæ–°å¯¹è±¡. å› æ­¤, ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„å±æ€§ä¼šå½±å“å…¶ä»–å®ä¾‹å’Œç±»å±æ€§.</li>
</ul>
<hr>
<h3 id="-yielding-noneç”Ÿæˆ-none">&gt; yielding None/ç”Ÿæˆ None</h3>
<pre><code class="language-py">some_iterable = ('a', 'b')

def some_func(val):
    return "something"
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; [x for x in some_iterable]
['a', 'b']
&gt;&gt;&gt; [(yield x) for x in some_iterable]
&lt;generator object &lt;listcomp&gt; at 0x7f70b0a4ad58&gt;
&gt;&gt;&gt; list([(yield x) for x in some_iterable])
['a', 'b']
&gt;&gt;&gt; list((yield x) for x in some_iterable)
['a', None, 'b', None]
&gt;&gt;&gt; list(some_func((yield x)) for x in some_iterable)
['a', 'something', 'b', 'something']
</code></pre>
<h4 id="-è¯´æ˜-18">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>æ¥æºå’Œè§£é‡Šå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°: https://stackoverflow.com/questions/32139885/yield-in-list-comprehensions-and-generator-expressions</li>
<li>ç›¸å…³é”™è¯¯æŠ¥å‘Š: http://bugs.python.org/issue10544</li>
</ul>
<hr>
<h3 id="-mutating-the-immutableå¼ºäººæ‰€éš¾">&gt; Mutating the immutable!/å¼ºäººæ‰€éš¾</h3>
<pre><code class="language-py">some_tuple = ("A", "tuple", "with", "values")
another_tuple = ([1, 2], [3, 4], [5, 6])
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_tuple[2] = "change this"
TypeError: 'tuple' object does not support item assignment
&gt;&gt;&gt; another_tuple[2].append(1000) # è¿™é‡Œä¸å‡ºç°é”™è¯¯
&gt;&gt;&gt; another_tuple
([1, 2], [3, 4], [5, 6, 1000])
&gt;&gt;&gt; another_tuple[2] += [99, 999]
TypeError: 'tuple' object does not support item assignment
&gt;&gt;&gt; another_tuple
([1, 2], [3, 4], [5, 6, 1000, 99, 999])
</code></pre>
<p>æˆ‘è¿˜ä»¥ä¸ºå…ƒç»„æ˜¯ä¸å¯å˜çš„å‘¢...</p>
<h4 id="-è¯´æ˜-19">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å¼•ç”¨ https://docs.python.org/2/reference/datamodel.html</p>
<blockquote>
<p>ä¸å¯å˜åºåˆ— ä¸å¯å˜åºåˆ—çš„å¯¹è±¡ä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½å†æ”¹å˜. (å¦‚æœå¯¹è±¡åŒ…å«å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œåˆ™è¿™äº›å…¶ä»–å¯¹è±¡å¯èƒ½æ˜¯å¯å˜çš„å¹¶ä¸”å¯èƒ½ä¼šè¢«ä¿®æ”¹; ä½†æ˜¯ï¼Œç”±ä¸å¯å˜å¯¹è±¡ç›´æ¥å¼•ç”¨çš„å¯¹è±¡é›†åˆä¸èƒ½æ›´æ”¹.)</p>
</blockquote> </li>
<li> <p><code>+=</code> æ“ä½œç¬¦åœ¨åŸåœ°ä¿®æ”¹äº†åˆ—è¡¨. å…ƒç´ èµ‹å€¼æ“ä½œå¹¶ä¸å·¥ä½œ, ä½†æ˜¯å½“å¼‚å¸¸æŠ›å‡ºæ—¶, å…ƒç´ å·²ç»åœ¨åŸåœ°è¢«ä¿®æ”¹äº†.</p> </li>
</ul>
<p>(è¯‘: å¯¹äºä¸å¯å˜å¯¹è±¡, è¿™é‡ŒæŒ‡tuple, <code>+=</code> å¹¶ä¸æ˜¯åŸå­æ“ä½œ, è€Œæ˜¯ <code>extend</code> å’Œ <code>=</code> ä¸¤ä¸ªåŠ¨ä½œ, è¿™é‡Œ <code>=</code> æ“ä½œè™½ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸, ä½† <code>extend</code> æ“ä½œå·²ç»ä¿®æ”¹æˆåŠŸäº†. è¯¦ç»†è§£é‡Šå¯ä»¥çœ‹<a href="https://segmentfault.com/a/1190000010767068">è¿™é‡Œ</a>)</p>
<hr>
<h3 id="-the-disappearing-variable-from-outer-scopeæ¶ˆå¤±çš„å¤–éƒ¨å˜é‡">&gt; The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡</h3>
<pre><code class="language-py">e = 7
try:
    raise Exception()
except Exception as e:
    pass
</code></pre>
<p><strong>Output (Python 2.x):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; print(e)
# prints nothing
</code></pre>
<p><strong>Output (Python 3.x):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; print(e)
NameError: name 'e' is not defined
</code></pre>
<h4 id="-è¯´æ˜-20">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å‡ºå¤„: https://docs.python.org/3/reference/compound_stmts.html#except</p> <p>å½“ä½¿ç”¨ <code>as</code> ä¸ºç›®æ ‡åˆ†é…å¼‚å¸¸çš„æ—¶å€™, å°†åœ¨exceptå­å¥çš„æœ«å°¾æ¸…é™¤è¯¥å¼‚å¸¸.</p> <p>è¿™å°±å¥½åƒ</p> <pre><code class="language-py">except E as N:
    foo
</code></pre> <p>ä¼šè¢«ç¿»è¯‘æˆ</p> <pre><code class="language-py">except E as N:
    try:
        foo
    finally:
        del N
</code></pre> <p>è¿™æ„å‘³ç€å¼‚å¸¸å¿…é¡»åœ¨è¢«èµ‹å€¼ç»™å…¶ä»–å˜é‡æ‰èƒ½åœ¨ <code>except</code> å­å¥ä¹‹åå¼•ç”¨å®ƒ. è€Œå¼‚å¸¸ä¹‹æ‰€ä»¥ä¼šè¢«æ¸…é™¤, åˆ™æ˜¯ç”±äºä¸Šé¢é™„åŠ çš„å›æº¯ä¿¡æ¯(trackback)ä¼šå’Œæ ˆå¸§(stack frame)å½¢æˆå¾ªç¯å¼•ç”¨, ä½¿å¾—è¯¥æ ˆå¸§ä¸­çš„æ‰€æœ‰æœ¬åœ°å˜é‡åœ¨ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶å‘ç”Ÿä¹‹å‰éƒ½å¤„äºæ´»åŠ¨çŠ¶æ€.(è¯‘: ä¹Ÿå°±æ˜¯è¯´ä¸ä¼šè¢«å›æ”¶)</p> </li>
<li> <p>å­å¥åœ¨ Python ä¸­å¹¶æ²¡æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸ. ç¤ºä¾‹ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å¤„äºåŒä¸€ä½œç”¨åŸŸå†…, æ‰€ä»¥å˜é‡ <code>e</code> ä¼šç”±äºæ‰§è¡Œäº† <code>except</code> å­å¥è€Œè¢«åˆ é™¤. è€Œå¯¹äºæœ‰ç‹¬ç«‹çš„å†…éƒ¨ä½œç”¨åŸŸçš„å‡½æ•°æ¥è¯´æƒ…å†µå°±ä¸ä¸€æ ·äº†. ä¸‹é¢çš„ä¾‹å­è¯´æ˜äº†è¿™ä¸€ç‚¹:</p> <pre><code class="language-py">def f(x):
    del(x)
    print(x)

x = 5
y = [5, 4, 3]
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt;f(x)
UnboundLocalError: local variable 'x' referenced before assignment
&gt;&gt;&gt;f(y)
UnboundLocalError: local variable 'x' referenced before assignment
&gt;&gt;&gt; x
5
&gt;&gt;&gt; y
[5, 4, 3]
</code></pre> </li>
<li> <p>åœ¨ Python 2.x ä¸­, <code>Exception()</code> å®ä¾‹è¢«èµ‹å€¼ç»™äº†å˜é‡ <code>e</code>, æ‰€ä»¥å½“ä½ å°è¯•æ‰“å°ç»“æœçš„æ—¶å€™, å®ƒçš„è¾“å‡ºä¸ºç©º.ï¼ˆè¯‘: æ­£å¸¸çš„Exceptionå®ä¾‹æ‰“å°å‡ºæ¥å°±æ˜¯ç©ºï¼‰</p> <p><strong>Output (Python 2.x):</strong></p> <pre><code class="language-py">&gt;&gt;&gt; e
Exception()
&gt;&gt;&gt; print e
# æ²¡æœ‰æ‰“å°ä»»ä½•å†…å®¹!
</code></pre> </li>
</ul>
<hr>
<h3 id="-when-true-is-actually-falseçœŸäº¦å‡">&gt; When True is actually False/çœŸäº¦å‡</h3>
<pre><code class="language-py">True = False
if True == False:
    print("I've lost faith in truth!")
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>I've lost faith in truth!
</code></pre>
<h4 id="-è¯´æ˜-21">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>æœ€åˆ, Python å¹¶æ²¡æœ‰ <code>bool</code> å‹ (äººä»¬ç”¨0è¡¨ç¤ºå‡å€¼, ç”¨éé›¶å€¼æ¯”å¦‚1ä½œä¸ºçœŸå€¼). åæ¥ä»–ä»¬æ·»åŠ äº† <code>True</code>, <code>False</code>, å’Œ <code>bool</code> å‹, ä½†æ˜¯, ä¸ºäº†å‘åå…¼å®¹, ä»–ä»¬æ²¡æ³•æŠŠ <code>True</code> å’Œ <code>False</code> è®¾ç½®ä¸ºå¸¸é‡, åªæ˜¯è®¾ç½®æˆäº†å†…ç½®å˜é‡.</li>
<li>Python 3 ç”±äºä¸å†éœ€è¦å‘åå…¼å®¹, ç»ˆäºå¯ä»¥ä¿®å¤è¿™ä¸ªé—®é¢˜äº†, æ‰€ä»¥è¿™ä¸ªä¾‹å­æ— æ³•åœ¨ Python 3.x ä¸­æ‰§è¡Œ!</li>
</ul>
<hr>
<h3 id="-from-filled-to-none-in-one-instructionä»æœ‰åˆ°æ— ">&gt; From filled to None in one instruction.../ä»æœ‰åˆ°æ— ...</h3>
<pre><code class="language-py">some_list = [1, 2, 3]
some_dict = {
  "key_1": 1,
  "key_2": 2,
  "key_3": 3
}

some_list = some_list.append(4)
some_dict = some_dict.update({"key_4": 4})
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; print(some_list)
None
&gt;&gt;&gt; print(some_dict)
None
</code></pre>
<h4 id="-è¯´æ˜-22">ğŸ’¡ è¯´æ˜:</h4>
<p>å¤§å¤šæ•°ä¿®æ”¹åºåˆ—/æ˜ å°„å¯¹è±¡çš„æ–¹æ³•, æ¯”å¦‚ <code>list.append</code>, <code>dict.update</code>, <code>list.sort</code> ç­‰ç­‰. éƒ½æ˜¯åŸåœ°ä¿®æ”¹å¯¹è±¡å¹¶è¿”å› <code>None</code>. è¿™æ ·åšçš„ç†ç”±æ˜¯, å¦‚æœæ“ä½œå¯ä»¥åŸåœ°å®Œæˆ, å°±å¯ä»¥é¿å…åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬æ¥æé«˜æ€§èƒ½. (å‚è€ƒ<a href="http://docs.python.org/2/faq/design.html#why-doesn-t-list-sort-return-the-sorted-list">è¿™é‡Œ</a>)</p>
<hr>
<h3 id="-subclass-relationshipså­ç±»å…³ç³»-">&gt; Subclass relationships/å­ç±»å…³ç³» *</h3>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; from collections import Hashable
&gt;&gt;&gt; issubclass(list, object)
True
&gt;&gt;&gt; issubclass(object, Hashable)
True
&gt;&gt;&gt; issubclass(list, Hashable)
False
</code></pre>
<p>å­ç±»å…³ç³»åº”è¯¥æ˜¯å¯ä¼ é€’çš„, å¯¹å§? (å³, å¦‚æœ <code>A</code> æ˜¯ <code>B</code> çš„å­ç±», <code>B</code> æ˜¯ <code>C</code> çš„å­ç±», é‚£ä¹ˆ <code>A</code> <em>åº”è¯¥</em> æ˜¯ <code>C</code> çš„å­ç±».)</p>
<h4 id="-è¯´æ˜-23">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>Python ä¸­çš„å­ç±»å…³ç³»å¹¶ä¸å¿…é¡»æ˜¯ä¼ é€’çš„. ä»»ä½•äººéƒ½å¯ä»¥åœ¨å…ƒç±»ä¸­éšæ„å®šä¹‰ <code>__subclasscheck__</code>.</li>
<li>å½“ <code>issubclass(cls, Hashable)</code> è¢«è°ƒç”¨æ—¶, å®ƒåªæ˜¯åœ¨ <code>cls</code> ä¸­å¯»æ‰¾ "<code>__hash__</code>" æ–¹æ³•æˆ–ç»§æ‰¿è‡ª"<code>__hash__</code>"çš„æ–¹æ³•.</li>
<li>ç”±äº <code>object</code> is å¯æ•£åˆ—çš„(hashable), ä½†æ˜¯ <code>list</code> æ˜¯ä¸å¯æ•£åˆ—çš„, æ‰€ä»¥å®ƒæ‰“ç ´äº†è¿™ç§ä¼ é€’å…³ç³».</li>
<li>åœ¨<a href="https://www.naftaliharris.com/blog/python-subclass-intransitivity/">è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°æ›´è¯¦ç»†çš„è§£é‡Š.</li>
</ul>
<hr>
<h3 id="-the-mysterious-key-type-conversionç¥ç§˜çš„é”®å‹è½¬æ¢-">&gt; The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *</h3>
<pre><code class="language-py">class SomeClass(str):
    pass

some_dict = {'s':42}
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; type(list(some_dict.keys())[0])
str
&gt;&gt;&gt; s = SomeClass('s')
&gt;&gt;&gt; some_dict[s] = 40
&gt;&gt;&gt; some_dict # é¢„æœŸ: ä¸¤ä¸ªä¸åŒçš„é”®å€¼å¯¹
{'s': 40}
&gt;&gt;&gt; type(list(some_dict.keys())[0])
str
</code></pre>
<h4 id="-è¯´æ˜-24">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>ç”±äº <code>SomeClass</code> ä¼šä» <code>str</code> è‡ªåŠ¨ç»§æ‰¿ <code>__hash__</code> æ–¹æ³•, æ‰€ä»¥ <code>s</code> å¯¹è±¡å’Œ <code>"s"</code> å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼æ˜¯ç›¸åŒçš„.</p> </li>
<li> <p>è€Œ <code>SomeClass("s") == "s"</code> ä¸º <code>True</code> æ˜¯å› ä¸º <code>SomeClass</code> ä¹Ÿç»§æ‰¿äº† <code>str</code> ç±» <code>__eq__</code> æ–¹æ³•.</p> </li>
<li> <p>ç”±äºä¸¤è€…çš„å“ˆå¸Œå€¼ç›¸åŒä¸”ç›¸ç­‰, æ‰€ä»¥å®ƒä»¬åœ¨å­—å…¸ä¸­è¡¨ç¤ºç›¸åŒçš„é”®.</p> </li>
<li> <p>å¦‚æœæƒ³è¦å®ç°æœŸæœ›çš„åŠŸèƒ½, æˆ‘ä»¬å¯ä»¥é‡å®šä¹‰ <code>SomeClass</code> çš„ <code>__eq__</code> æ–¹æ³•.</p> <pre><code class="language-py">class SomeClass(str):
  def __eq__(self, other):
      return (
          type(self) is SomeClass
          and type(other) is SomeClass
          and super().__eq__(other)
      )

  # å½“æˆ‘ä»¬è‡ªå®šä¹‰ __eq__ æ–¹æ³•æ—¶, Python ä¸ä¼šå†è‡ªåŠ¨ç»§æ‰¿ __hash__ æ–¹æ³•
  # æ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦å®šä¹‰å®ƒ
  __hash__ = str.__hash__

some_dict = {'s':42}
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt; s = SomeClass('s')
&gt;&gt;&gt; some_dict[s] = 40
&gt;&gt;&gt; some_dict
{'s': 40, 's': 42}
&gt;&gt;&gt; keys = list(some_dict.keys())
&gt;&gt;&gt; type(keys[0]), type(keys[1])
(__main__.SomeClass, str)
</code></pre> </li>
</ul>
<hr>
<h3 id="-lets-see-if-you-can-guess-thisçœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹">&gt; Let's see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?</h3>
<pre><code class="language-py">a, b = a[b] = {}, 5
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; a
{5: ({...}, 5)}
</code></pre>
<h4 id="-è¯´æ˜-25">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>æ ¹æ® <a href="https://docs.python.org/2/reference/simple_stmts.html#assignment-statements">Python è¯­è¨€å‚è€ƒ</a>, èµ‹å€¼è¯­å¥çš„å½¢å¼å¦‚ä¸‹</p> <pre><code>(target_list "=")+ (expression_list | yield_expression)
</code></pre>
<blockquote>
<p>èµ‹å€¼è¯­å¥è®¡ç®—è¡¨è¾¾å¼åˆ—è¡¨(expression list)(ç‰¢è®° è¿™å¯ä»¥æ˜¯å•ä¸ªè¡¨è¾¾å¼æˆ–ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨, åè€…è¿”å›å…ƒç»„)å¹¶å°†å•ä¸ªç»“æœå¯¹è±¡ä»å·¦åˆ°å³åˆ†é…ç»™ç›®æ ‡åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹.</p>
</blockquote> </li>
<li> <p><code>(target_list "=")+</code> ä¸­çš„ <code>+</code> æ„å‘³ç€å¯ä»¥æœ‰<strong>ä¸€ä¸ªæˆ–å¤šä¸ª</strong>ç›®æ ‡åˆ—è¡¨. åœ¨è¿™ä¸ªä¾‹å­ä¸­, ç›®æ ‡åˆ—è¡¨æ˜¯ <code>a, b</code> å’Œ <code>a[b]</code> (æ³¨æ„è¡¨è¾¾å¼åˆ—è¡¨åªèƒ½æœ‰ä¸€ä¸ª, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯ <code>{}, 5</code>).</p> </li>
<li> <p>è¡¨è¾¾å¼åˆ—è¡¨è®¡ç®—ç»“æŸå, å°†å…¶å€¼è‡ªåŠ¨è§£åŒ…å<strong>ä»å·¦åˆ°å³</strong>åˆ†é…ç»™ç›®æ ‡åˆ—è¡¨(target list). å› æ­¤, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, é¦–å…ˆå°† <code>{}, 5</code> å…ƒç»„å¹¶èµ‹å€¼ç»™ <code>a, b</code>, ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ° <code>a = {}</code> ä¸” <code>b = 5</code>.</p> </li>
<li> <p><code>a</code> è¢«èµ‹å€¼çš„ <code>{}</code> æ˜¯å¯å˜å¯¹è±¡.</p> </li>
<li> <p>ç¬¬äºŒä¸ªç›®æ ‡åˆ—è¡¨æ˜¯ <code>a[b]</code> (ä½ å¯èƒ½è§‰å¾—è¿™é‡Œä¼šæŠ¥é”™, å› ä¸ºåœ¨ä¹‹å‰çš„è¯­å¥ä¸­ <code>a</code> å’Œ <code>b</code> éƒ½è¿˜æ²¡æœ‰è¢«å®šä¹‰. ä½†æ˜¯åˆ«å¿˜äº†, æˆ‘ä»¬åˆšåˆšå°† <code>a</code> èµ‹å€¼ <code>{}</code> ä¸”å°† <code>b</code> èµ‹å€¼ä¸º <code>5</code>).</p> </li>
<li> <p>ç°åœ¨, æˆ‘ä»¬å°†é€šè¿‡å°†å­—å…¸ä¸­é”® <code>5</code> çš„å€¼è®¾ç½®ä¸ºå…ƒç»„ <code>({}, 5)</code> æ¥åˆ›å»ºå¾ªç¯å¼•ç”¨ (è¾“å‡ºä¸­çš„ <code>{...}</code> æŒ‡ä¸ <code>a</code> å¼•ç”¨äº†ç›¸åŒçš„å¯¹è±¡). ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„å¾ªç¯å¼•ç”¨çš„ä¾‹å­</p> <pre><code class="language-py">&gt;&gt;&gt; some_list = some_list[0] = [0]
&gt;&gt;&gt; some_list
[[...]]
&gt;&gt;&gt; some_list[0]
[[...]]
&gt;&gt;&gt; some_list is some_list[0]
True
&gt;&gt;&gt; some_list[0][0][0][0][0][0] == some_list
True
</code></pre> <p>æˆ‘ä»¬çš„ä¾‹å­å°±æ˜¯è¿™ç§æƒ…å†µ (<code>a[b][0]</code> ä¸ <code>a</code> æ˜¯ç›¸åŒçš„å¯¹è±¡)</p> </li>
<li> <p>æ€»ç»“ä¸€ä¸‹, ä½ ä¹Ÿå¯ä»¥æŠŠä¾‹å­æ‹†æˆ</p> <pre><code class="language-py">a, b = {}, 5
a[b] = a, b
</code></pre> <p>å¹¶ä¸”å¯ä»¥é€šè¿‡ <code>a[b][0]</code> ä¸ <code>a</code> æ˜¯ç›¸åŒçš„å¯¹è±¡æ¥è¯æ˜æ˜¯å¾ªç¯å¼•ç”¨</p> <pre><code class="language-py">&gt;&gt;&gt; a[b][0] is a
True
</code></pre> </li>
</ul>
<hr>
<hr>
<h2 id="section-appearances-are-deceptiveå¤–è¡¨æ˜¯é ä¸ä½çš„">Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!</h2>
<h3 id="-skipping-linesè·³è¿‡ä¸€è¡Œ">&gt; Skipping lines?/è·³è¿‡ä¸€è¡Œ?</h3>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; value = 11
&gt;&gt;&gt; valuĞµ = 32
&gt;&gt;&gt; value
11
</code></pre>
<p>ä»€ä¹ˆé¬¼?</p>
<p><strong>æ³¨æ„:</strong> å¦‚æœä½ æƒ³è¦é‡ç°çš„è¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥å¤åˆ¶ä¸Šé¢çš„ä»£ç ç‰‡æ®µåˆ°ä½ çš„æ–‡ä»¶æˆ–å‘½ä»¤è¡Œé‡Œ.</p>
<h4 id="-è¯´æ˜-26">ğŸ’¡ è¯´æ˜:</h4>
<p>ä¸€äº›éè¥¿æ–¹å­—ç¬¦è™½ç„¶çœ‹èµ·æ¥å’Œè‹±è¯­å­—æ¯ç›¸åŒ, ä½†ä¼šè¢«è§£é‡Šå™¨è¯†åˆ«ä¸ºä¸åŒçš„å­—æ¯.</p>
<pre><code class="language-py">&gt;&gt;&gt; ord('Ğµ') # è¥¿é‡Œå°”è¯­çš„ 'e' (Ye)
1077
&gt;&gt;&gt; ord('e') # æ‹‰ä¸è¯­çš„ 'e', ç”¨äºè‹±æ–‡å¹¶ä½¿ç”¨æ ‡å‡†é”®ç›˜è¾“å…¥
101
&gt;&gt;&gt; 'Ğµ' == 'e'
False

&gt;&gt;&gt; value = 42 # æ‹‰ä¸è¯­ e
&gt;&gt;&gt; valuĞµ = 23 # è¥¿é‡Œå°”è¯­ 'e', Python 2.x çš„è§£é‡Šå™¨åœ¨è¿™ä¼šæŠ›å‡º `SyntaxError` å¼‚å¸¸
&gt;&gt;&gt; value
42
</code></pre>
<p>å†…ç½®çš„ <code>ord()</code> å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå­—ç¬¦çš„ Unicode <a href="https://en.wikipedia.org/wiki/Code_point">ä»£ç ç‚¹</a>, è¿™é‡Œè¥¿é‡Œå°”è¯­ 'e' å’Œæ‹‰ä¸è¯­ 'e' çš„ä»£ç ç‚¹ä¸åŒè¯å®äº†ä¸Šè¿°ä¾‹å­.</p>
<hr>
<h3 id="-teleportationç©ºé—´ç§»åŠ¨-">&gt; Teleportation/ç©ºé—´ç§»åŠ¨ *</h3>
<pre><code class="language-py">import numpy as np

def energy_send(x):
    # åˆå§‹åŒ–ä¸€ä¸ª numpy æ•°ç»„
    np.array([float(x)])

def energy_receive():
    # è¿”å›ä¸€ä¸ªç©ºçš„ numpy æ•°ç»„
    return np.empty((), dtype=np.float).tolist()
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; energy_send(123.456)
&gt;&gt;&gt; energy_receive()
123.456
</code></pre>
<p>è°æ¥ç»™æˆ‘å‘ä¸ªè¯ºè´å°”å¥–?</p>
<h4 id="-è¯´æ˜-27">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>æ³¨æ„åœ¨ <code>energy_send</code> å‡½æ•°ä¸­åˆ›å»ºçš„ numpy æ•°ç»„å¹¶æ²¡æœ‰è¿”å›, å› æ­¤å†…å­˜ç©ºé—´è¢«é‡Šæ”¾å¹¶å¯ä»¥è¢«é‡æ–°åˆ†é….</li>
<li><code>numpy.empty()</code> ç›´æ¥è¿”å›ä¸‹ä¸€æ®µç©ºé—²å†…å­˜ï¼Œè€Œä¸é‡æ–°åˆå§‹åŒ–. è€Œè¿™ä¸ªå†…å­˜ç‚¹æ°å¥½å°±æ˜¯åˆšåˆšé‡Šæ”¾çš„é‚£ä¸ª(é€šå¸¸æƒ…å†µä¸‹, å¹¶ä¸ç»å¯¹).</li>
</ul>
<hr>
<h3 id="-well-something-is-fishyå—¯æœ‰äº›å¯ç–‘">&gt; Well, something is fishy.../å—¯ï¼Œæœ‰äº›å¯ç–‘...</h3>
<pre><code class="language-py">def square(x):
    """
    ä¸€ä¸ªé€šè¿‡åŠ æ³•è®¡ç®—å¹³æ–¹çš„ç®€å•å‡½æ•°.
    """
    sum_so_far = 0
    for counter in range(x):
        sum_so_far = sum_so_far + x
  return sum_so_far
</code></pre>
<p><strong>Output (Python 2.x):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; square(10)
10
</code></pre>
<p>éš¾é“ä¸åº”è¯¥æ˜¯100å—?</p>
<p><strong>æ³¨æ„:</strong> å¦‚æœä½ æ— æ³•é‡ç°, å¯ä»¥å°è¯•è¿è¡Œè¿™ä¸ªæ–‡ä»¶<a href="../../book/166/mixed_tabs_and_spaces.py">mixed_tabs_and_spaces.py</a>.</p>
<h4 id="-è¯´æ˜-28">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p><strong>ä¸è¦æ··ç”¨åˆ¶è¡¨ç¬¦(tab)å’Œç©ºæ ¼(space)!</strong> åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, return çš„å‰é¢æ˜¯"1ä¸ªåˆ¶è¡¨ç¬¦", è€Œå…¶ä»–éƒ¨åˆ†çš„ä»£ç å‰é¢æ˜¯ "4ä¸ªç©ºæ ¼".</p> </li>
<li> <p>Pythonæ˜¯è¿™ä¹ˆå¤„ç†åˆ¶è¡¨ç¬¦çš„:</p>
<blockquote>
<p>é¦–å…ˆ, åˆ¶è¡¨ç¬¦ä¼šä»å·¦åˆ°å³ä¾æ¬¡è¢«æ›¿æ¢æˆ8ä¸ªç©ºæ ¼, ç›´åˆ°è¢«æ›¿æ¢åçš„å­—ç¬¦æ€»æ•°æ˜¯å…«çš„å€æ•° &lt;...&gt;</p>
</blockquote> </li>
<li> <p>å› æ­¤, <code>square</code> å‡½æ•°æœ€åä¸€è¡Œçš„åˆ¶è¡¨ç¬¦ä¼šè¢«æ›¿æ¢æˆ8ä¸ªç©ºæ ¼, å¯¼è‡´returnè¯­å¥è¿›å…¥å¾ªç¯è¯­å¥é‡Œé¢.</p> </li>
<li> <p>Python 3 å¾ˆå‹å¥½, åœ¨è¿™ç§æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æŠ›å‡ºé”™è¯¯.</p> <p><strong>Output (Python 3.x):</strong></p> <pre><code class="language-py">TabError: inconsistent use of tabs and spaces in indentation
</code></pre> </li>
</ul>
<hr>
<hr>
<h2 id="section-watch-out-for-the-landmineså°å¿ƒåœ°é›·">Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!</h2>
<h3 id="-modifying-a-dictionary-while-iterating-over-itè¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹">&gt; Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹</h3>
<pre><code class="language-py">x = {0: None}

for i in x:
    del x[i]
    x[i+1] = None
    print(i)
</code></pre>
<p><strong>Output (Python 2.7- Python 3.5):</strong></p>
<pre><code>0
1
2
3
4
5
6
7
</code></pre>
<p>æ˜¯çš„, å®ƒè¿è¡Œäº†<strong>å…«æ¬¡</strong>ç„¶åæ‰åœä¸‹æ¥.</p>
<h4 id="-è¯´æ˜-29">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>Pythonä¸æ”¯æŒå¯¹å­—å…¸è¿›è¡Œè¿­ä»£çš„åŒæ—¶ä¿®æ”¹å®ƒ.</li>
<li>å®ƒä¹‹æ‰€ä»¥è¿è¡Œ8æ¬¡, æ˜¯å› ä¸ºå­—å…¸ä¼šè‡ªåŠ¨æ‰©å®¹ä»¥å®¹çº³æ›´å¤šé”®å€¼(æˆ‘ä»¬æœ‰8æ¬¡åˆ é™¤è®°å½•, å› æ­¤éœ€è¦æ‰©å®¹). è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚. (è¯‘: åº”è¯¥æ˜¯å› ä¸ºå­—å…¸çš„åˆå§‹æœ€å°å€¼æ˜¯8, æ‰©å®¹ä¼šå¯¼è‡´æ•£åˆ—è¡¨åœ°å€å‘ç”Ÿå˜åŒ–è€Œä¸­æ–­å¾ªç¯.)</li>
<li>åœ¨ä¸åŒçš„Pythonå®ç°ä¸­åˆ é™¤é”®çš„å¤„ç†æ–¹å¼ä»¥åŠè°ƒæ•´å¤§å°çš„æ—¶é—´å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ.(è¯‘: å°±æ˜¯è¯´ä»€ä¹ˆæ—¶å€™æ‰©å®¹åœ¨ä¸åŒç‰ˆæœ¬ä¸­å¯èƒ½æ˜¯ä¸åŒçš„, åœ¨3.6åŠ3.7çš„ç‰ˆæœ¬ä¸­åˆ°<a href="https://github.com/python/cpython/blob/v3.6.1/Objects/dictobject.c#L103-L110">5</a>å°±ä¼šè‡ªåŠ¨æ‰©å®¹äº†. ä»¥åä¹Ÿæœ‰å¯èƒ½å†æ¬¡å‘ç”Ÿå˜åŒ–. è¿™æ˜¯ä¸ºäº†é¿å…æ•£åˆ—å†²çª. é¡ºå¸¦ä¸€æ, åé¢ä¸¤æ¬¡æ‰©å®¹ä¼šæ‰©å±•ä¸º32å’Œ256. å³<code>8-&gt;32-&gt;256</code>.)</li>
<li>æ›´å¤šçš„ä¿¡æ¯, ä½ å¯ä»¥å‚è€ƒè¿™ä¸ªStackOverflowçš„<a href="https://stackoverflow.com/questions/44763802/bug-in-python-dict">å›ç­”</a>, å®ƒè¯¦ç»†çš„è§£é‡Šä¸€ä¸ªç±»ä¼¼çš„ä¾‹å­.</li>
</ul>
<hr>
<h3 id="-stubborn-del-operatoråšå¼ºçš„-del-">&gt; Stubborn <code>del</code> operator/åšå¼ºçš„ <code>del</code> *</h3>
<pre><code class="language-py">class SomeClass:
    def __del__(self):
        print("Deleted!")
</code></pre>
<p><strong>Output:</strong> 1.</p>
<pre><code class="language-py">&gt;&gt;&gt; x = SomeClass()
&gt;&gt;&gt; y = x
&gt;&gt;&gt; del x # è¿™é‡Œåº”è¯¥ä¼šè¾“å‡º "Deleted!"
&gt;&gt;&gt; del y
Deleted!
</code></pre>
<p>å”·, ç»ˆäºåˆ é™¤äº†. ä½ å¯èƒ½å·²ç»çŒœåˆ°äº†åœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡å°è¯•åˆ é™¤ <code>x</code> æ—¶æ˜¯ä»€ä¹ˆè®© <code>__del__</code> å…äºè¢«è°ƒç”¨çš„. é‚£è®©æˆ‘ä»¬ç»™è¿™ä¸ªä¾‹å­å¢åŠ ç‚¹éš¾åº¦.</p>
<p>2.</p>
<pre><code class="language-py">&gt;&gt;&gt; x = SomeClass()
&gt;&gt;&gt; y = x
&gt;&gt;&gt; del x
&gt;&gt;&gt; y # æ£€æŸ¥ä¸€ä¸‹yæ˜¯å¦å­˜åœ¨
&lt;__main__.SomeClass instance at 0x7f98a1a67fc8&gt;
&gt;&gt;&gt; del y # åƒä¹‹å‰ä¸€æ ·, è¿™é‡Œåº”è¯¥ä¼šè¾“å‡º "Deleted!"
&gt;&gt;&gt; globals() # å¥½å§, å¹¶æ²¡æœ‰. è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰€æœ‰çš„å…¨å±€å˜é‡
Deleted!
{'__builtins__': &lt;module '__builtin__' (built-in)&gt;, 'SomeClass': &lt;class __main__.SomeClass at 0x7f98a1a5f668&gt;, '__package__': None, '__name__': '__main__', '__doc__': None}
</code></pre>
<p>å¥½äº†ï¼Œç°åœ¨å®ƒè¢«åˆ é™¤äº† <a href="https://img.cntofu.com/book/wtfpython-cn//img/confused.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//img/confused.png" alt="emoji people:confused" height="20" width="20" align="absmiddle"></a></p>
<h4 id="-è¯´æ˜-30">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li><code>del x</code> å¹¶ä¸ä¼šç«‹åˆ»è°ƒç”¨ <code>x.__del__()</code>.</li>
<li>æ¯å½“é‡åˆ° <code>del x</code>, Python ä¼šå°† <code>x</code> çš„å¼•ç”¨æ•°å‡1, å½“ <code>x</code> çš„å¼•ç”¨æ•°å‡åˆ°0æ—¶å°±ä¼šè°ƒç”¨ <code>x.__del__()</code>.</li>
<li>åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­, <code>y.__del__()</code> ä¹‹æ‰€ä»¥æœªè¢«è°ƒç”¨, æ˜¯å› ä¸ºå‰ä¸€æ¡è¯­å¥ (<code>&gt;&gt;&gt; y</code>) å¯¹åŒä¸€å¯¹è±¡åˆ›å»ºäº†å¦ä¸€ä¸ªå¼•ç”¨, ä»è€Œé˜²æ­¢åœ¨æ‰§è¡Œ <code>del y</code> åå¯¹è±¡çš„å¼•ç”¨æ•°å˜ä¸º0.</li>
<li>è°ƒç”¨ <code>globals</code> å¯¼è‡´å¼•ç”¨è¢«é”€æ¯, å› æ­¤æˆ‘ä»¬å¯ä»¥çœ‹åˆ° "Deleted!" ç»ˆäºè¢«è¾“å‡ºäº†.</li>
<li>(è¯‘: è¿™å…¶å®æ˜¯ Python äº¤äº’è§£é‡Šå™¨çš„ç‰¹æ€§, å®ƒä¼šè‡ªåŠ¨è®© <code>_</code> ä¿å­˜ä¸Šä¸€ä¸ªè¡¨è¾¾å¼è¾“å‡ºçš„å€¼, è¯¦ç»†å¯ä»¥çœ‹<a href="https://www.cnblogs.com/leisurelylicht/p/diao-pi-de-kong-zhi-tai.html">è¿™é‡Œ</a>.)</li>
</ul>
<hr>
<h3 id="-deleting-a-list-item-while-iteratingè¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ ">&gt; Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ </h3>
<pre><code class="language-py">list_1 = [1, 2, 3, 4]
list_2 = [1, 2, 3, 4]
list_3 = [1, 2, 3, 4]
list_4 = [1, 2, 3, 4]

for idx, item in enumerate(list_1):
    del item

for idx, item in enumerate(list_2):
    list_2.remove(item)

for idx, item in enumerate(list_3[:]):
    list_3.remove(item)

for idx, item in enumerate(list_4):
    list_4.pop(idx)
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; list_1
[1, 2, 3, 4]
&gt;&gt;&gt; list_2
[2, 4]
&gt;&gt;&gt; list_3
[]
&gt;&gt;&gt; list_4
[2, 4]
</code></pre>
<p>ä½ èƒ½çŒœåˆ°ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯ <code>[2, 4]</code> å—?</p>
<h4 id="-è¯´æ˜-31">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>åœ¨è¿­ä»£æ—¶ä¿®æ”¹å¯¹è±¡æ˜¯ä¸€ä¸ªå¾ˆæ„šè ¢çš„ä¸»æ„. æ­£ç¡®çš„åšæ³•æ˜¯è¿­ä»£å¯¹è±¡çš„å‰¯æœ¬, <code>list_3[:]</code> å°±æ˜¯è¿™ä¹ˆåšçš„.</p> <pre><code class="language-py">&gt;&gt;&gt; some_list = [1, 2, 3, 4]
&gt;&gt;&gt; id(some_list)
139798789457608
&gt;&gt;&gt; id(some_list[:]) # æ³¨æ„pythonä¸ºåˆ‡ç‰‡åˆ—è¡¨åˆ›å»ºäº†æ–°å¯¹è±¡.
139798779601192
</code></pre> </li>
</ul>
<p><strong><code>del</code>, <code>remove</code> å’Œ <code>pop</code> çš„ä¸åŒ:</strong></p>
<ul>
<li><code>del var_name</code> åªæ˜¯ä»æœ¬åœ°æˆ–å…¨å±€å‘½åç©ºé—´ä¸­åˆ é™¤äº† <code>var_name</code> (è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>list_1</code> æ²¡æœ‰å—åˆ°å½±å“).</li>
<li><code>remove</code> ä¼šåˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„æŒ‡å®šå€¼, è€Œä¸æ˜¯ç‰¹å®šçš„ç´¢å¼•, å¦‚æœæ‰¾ä¸åˆ°å€¼åˆ™æŠ›å‡º <code>ValueError</code> å¼‚å¸¸.</li>
<li><code>pop</code> åˆ™ä¼šåˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ å¹¶è¿”å›å®ƒ, å¦‚æœæŒ‡å®šäº†æ— æ•ˆçš„ç´¢å¼•åˆ™æŠ›å‡º <code>IndexError</code> å¼‚å¸¸.</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯ <code>[2, 4]</code>?</strong></p>
<ul>
<li>åˆ—è¡¨è¿­ä»£æ˜¯æŒ‰ç´¢å¼•è¿›è¡Œçš„, æ‰€ä»¥å½“æˆ‘ä»¬ä» <code>list_2</code> æˆ– <code>list_4</code> ä¸­åˆ é™¤ <code>1</code> æ—¶, åˆ—è¡¨çš„å†…å®¹å°±å˜æˆäº† <code>[2, 3, 4]</code>. å‰©ä½™å…ƒç´ ä¼šä¾æ¬¡ä½ç§», ä¹Ÿå°±æ˜¯è¯´, <code>2</code> çš„ç´¢å¼•ä¼šå˜ä¸º 0, <code>3</code> ä¼šå˜ä¸º 1. ç”±äºä¸‹ä¸€æ¬¡è¿­ä»£å°†è·å–ç´¢å¼•ä¸º 1 çš„å…ƒç´  (å³ <code>3</code>), å› æ­¤ <code>2</code> å°†è¢«å½»åº•çš„è·³è¿‡. ç±»ä¼¼çš„æƒ…å†µä¼šäº¤æ›¿å‘ç”Ÿåœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Š.</li>
</ul>
<ul>
<li>å‚è€ƒè¿™ä¸ªStackOverflowçš„<a href="https://stackoverflow.com/questions/45946228/what-happens-when-you-try-to-delete-a-list-element-while-iterating-over-it">å›ç­”</a>æ¥è§£é‡Šè¿™ä¸ªä¾‹å­</li>
<li>å…³äºPythonä¸­å­—å…¸çš„ç±»ä¼¼ä¾‹å­, å¯ä»¥å‚è€ƒè¿™ä¸ªStackoverflowçš„<a href="https://stackoverflow.com/questions/45877614/how-to-change-all-the-dictionary-keys-in-a-for-loop-with-d-items">å›ç­”</a>.</li>
</ul>
<hr>
<h3 id="-loop-variables-leaking-outå¾ªç¯å˜é‡æ³„æ¼">&gt; Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!</h3>
<p>1.</p>
<pre><code class="language-py">for x in range(7):
    if x == 6:
        print(x, ': for x inside loop')
print(x, ': x in global')
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">6 : for x inside loop
6 : x in global
</code></pre>
<p>ä½†æ˜¯ <code>x</code> ä»æœªåœ¨å¾ªç¯å¤–è¢«å®šä¹‰...</p>
<p>2.</p>
<pre><code class="language-py"># è¿™æ¬¡æˆ‘ä»¬å…ˆåˆå§‹åŒ–x
x = -1
for x in range(7):
    if x == 6:
        print(x, ': for x inside loop')
print(x, ': x in global')
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">6 : for x inside loop
6 : x in global
</code></pre>
<p>3.</p>
<pre><code>x = 1
print([x for x in range(5)])
print(x, ': x in global')
</code></pre>
<p><strong>Output (on Python 2.x):</strong></p>
<pre><code>[0, 1, 2, 3, 4]
(4, ': x in global')
</code></pre>
<p><strong>Output (on Python 3.x):</strong></p>
<pre><code>[0, 1, 2, 3, 4]
1 : x in global
</code></pre>
<h4 id="-è¯´æ˜-32">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>åœ¨ Python ä¸­, for å¾ªç¯ä½¿ç”¨æ‰€åœ¨ä½œç”¨åŸŸå¹¶åœ¨ç»“æŸåä¿ç•™å®šä¹‰çš„å¾ªç¯å˜é‡. å¦‚æœæˆ‘ä»¬æ›¾åœ¨å…¨å±€å‘½åç©ºé—´ä¸­å®šä¹‰è¿‡å¾ªç¯å˜é‡. åœ¨è¿™ç§æƒ…å†µä¸‹, å®ƒä¼šé‡æ–°ç»‘å®šç°æœ‰å˜é‡.</p> </li>
<li> <p>Python 2.x å’Œ Python 3.x è§£é‡Šå™¨åœ¨åˆ—è¡¨æ¨å¯¼å¼ç¤ºä¾‹ä¸­çš„è¾“å‡ºå·®å¼‚, åœ¨æ–‡æ¡£ <a href="https://docs.python.org/3/whatsnew/3.0.html">Whatâ€™s New In Python 3.0</a> ä¸­å¯ä»¥æ‰¾åˆ°ç›¸å…³çš„è§£é‡Š:</p>
<blockquote>
<p>"åˆ—è¡¨æ¨å¯¼ä¸å†æ”¯æŒå¥æ³•å½¢å¼ <code>[... for var in item1, item2, ...]</code>. å–è€Œä»£ä¹‹çš„æ˜¯ <code>[... for var in (item1, item2, ...)]</code>. å¦å¤–, æ³¨æ„åˆ—è¡¨æ¨å¯¼å…·æœ‰ä¸åŒçš„è¯­ä¹‰: å®ƒä»¬æ›´æ¥è¿‘äº <code>list()</code> æ„é€ å‡½æ•°ä¸­ç”Ÿæˆå™¨è¡¨è¾¾å¼çš„è¯­æ³•ç³–(è¯‘: è¿™ä¸€å¥æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ˜ç™½), ç‰¹åˆ«æ˜¯å¾ªç¯æ§åˆ¶å˜é‡ä¸å†æ³„æ¼åˆ°å‘¨å›´çš„ä½œç”¨åŸŸä¸­."</p>
</blockquote> </li>
</ul>
<hr>
<h3 id="-beware-of-default-mutable-argumentså½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°">&gt; Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!</h3>
<pre><code class="language-py">def some_func(default_arg=[]):
    default_arg.append("some_string")
    return default_arg
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_func()
['some_string']
&gt;&gt;&gt; some_func()
['some_string', 'some_string']
&gt;&gt;&gt; some_func([])
['some_string']
&gt;&gt;&gt; some_func()
['some_string', 'some_string', 'some_string']
</code></pre>
<h4 id="-è¯´æ˜-33">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>Pythonä¸­å‡½æ•°çš„é»˜è®¤å¯å˜å‚æ•°å¹¶ä¸æ˜¯æ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶éƒ½ä¼šè¢«åˆå§‹åŒ–. ç›¸å, å®ƒä»¬ä¼šä½¿ç”¨æœ€è¿‘åˆ†é…çš„å€¼ä½œä¸ºé»˜è®¤å€¼. å½“æˆ‘ä»¬æ˜ç¡®çš„å°† <code>[]</code> ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>some_func</code> çš„æ—¶å€™, å°±ä¸ä¼šä½¿ç”¨ <code>default_arg</code> çš„é»˜è®¤å€¼, æ‰€ä»¥å‡½æ•°ä¼šè¿”å›æˆ‘ä»¬æ‰€æœŸæœ›çš„ç»“æœ.</p> <pre><code class="language-py">def some_func(default_arg=[]):
    default_arg.append("some_string")
    return default_arg
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt; some_func.__defaults__ # è¿™é‡Œä¼šæ˜¾ç¤ºå‡½æ•°çš„é»˜è®¤å‚æ•°çš„å€¼
([],)
&gt;&gt;&gt; some_func()
&gt;&gt;&gt; some_func.__defaults__
(['some_string'],)
&gt;&gt;&gt; some_func()
&gt;&gt;&gt; some_func.__defaults__
(['some_string', 'some_string'],)
&gt;&gt;&gt; some_func([])
&gt;&gt;&gt; some_func.__defaults__
(['some_string', 'some_string'],)
</code></pre> </li>
<li> <p>é¿å…å¯å˜å‚æ•°å¯¼è‡´çš„é”™è¯¯çš„å¸¸è§åšæ³•æ˜¯å°† <code>None</code> æŒ‡å®šä¸ºå‚æ•°çš„é»˜è®¤å€¼, ç„¶åæ£€æŸ¥æ˜¯å¦æœ‰å€¼ä¼ ç»™å¯¹åº”çš„å‚æ•°. ä¾‹:</p> <pre><code class="language-py">def some_func(default_arg=None):
    if not default_arg:
        default_arg = []
    default_arg.append("some_string")
    return default_arg
</code></pre> </li>
</ul>
<hr>
<h3 id="-catching-the-exceptionsæ•è·å¼‚å¸¸">&gt; Catching the Exceptions/æ•è·å¼‚å¸¸</h3>
<pre><code class="language-py">some_list = [1, 2, 3]
try:
    # è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``IndexError``
    print(some_list[4])
except IndexError, ValueError:
    print("Caught!")

try:
    # è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``ValueError``
    some_list.remove(4)
except IndexError, ValueError:
    print("Caught again!")
</code></pre>
<p><strong>Output (Python 2.x):</strong></p>
<pre><code class="language-py">Caught!

ValueError: list.remove(x): x not in list
</code></pre>
<p><strong>Output (Python 3.x):</strong></p>
<pre><code class="language-py">  File "&lt;input&gt;", line 3
    except IndexError, ValueError:
                     ^
SyntaxError: invalid syntax
</code></pre>
<h4 id="-è¯´æ˜-34">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å¦‚æœä½ æƒ³è¦åŒæ—¶æ•è·å¤šä¸ªä¸åŒç±»å‹çš„å¼‚å¸¸æ—¶, ä½ éœ€è¦å°†å®ƒä»¬ç”¨æ‹¬å·åŒ…æˆä¸€ä¸ªå…ƒç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’. ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰åç§°, å¦‚æœä½ æä¾›, å®ƒå°†ä¸è¢«æ•è·çš„å¼‚å¸¸å®ä¾‹ç»‘å®š. ä¾‹,</p> <pre><code class="language-py">some_list = [1, 2, 3]
try:
   # è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``ValueError``
   some_list.remove(4)
except (IndexError, ValueError), e:
   print("Caught again!")
   print(e)
</code></pre> <p><strong>Output (Python 2.x):</strong></p> <pre><code>Caught again!
list.remove(x): x not in list
</code></pre> <p><strong>Output (Python 3.x):</strong></p> <pre><code class="language-py">  File "&lt;input&gt;", line 4
    except (IndexError, ValueError), e:
                                     ^
IndentationError: unindent does not match any outer indentation level
</code></pre> </li>
<li> <p>åœ¨ Python 3 ä¸­, ç”¨é€—å·åŒºåˆ†å¼‚å¸¸ä¸å¯é€‰åç§°æ˜¯æ— æ•ˆçš„; æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨ <code>as</code> å…³é”®å­—. ä¾‹,</p> <pre><code class="language-py">some_list = [1, 2, 3]
try:
    some_list.remove(4)

except (IndexError, ValueError) as e:
    print("Caught again!")
    print(e)
</code></pre> <p><strong>Output:</strong></p> <pre><code>Caught again!
list.remove(x): x not in list
</code></pre> </li>
</ul>
<hr>
<h3 id="-same-operands-different-storyåŒäººä¸åŒå‘½">&gt; Same operands, different story!/åŒäººä¸åŒå‘½!</h3>
<p>1.</p>
<pre><code class="language-py">a = [1, 2, 3, 4]
b = a
a = a + [5, 6, 7, 8]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; a
[1, 2, 3, 4, 5, 6, 7, 8]
&gt;&gt;&gt; b
[1, 2, 3, 4]
</code></pre>
<p>2.</p>
<pre><code class="language-py">a = [1, 2, 3, 4]
b = a
a += [5, 6, 7, 8]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; a
[1, 2, 3, 4, 5, 6, 7, 8]
&gt;&gt;&gt; b
[1, 2, 3, 4, 5, 6, 7, 8]
</code></pre>
<h4 id="-è¯´æ˜-35">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p><code>a += b</code> å¹¶ä¸æ€»æ˜¯ä¸ <code>a = a + b</code> è¡¨ç°ç›¸åŒ. ç±»å®ç° <em><code>op=</code></em> è¿ç®—ç¬¦çš„æ–¹å¼ <em>ä¹Ÿè®¸</em> æ˜¯ä¸åŒçš„, åˆ—è¡¨å°±æ˜¯è¿™æ ·åšçš„.</p> </li>
<li> <p>è¡¨è¾¾å¼ <code>a = a + [5,6,7,8]</code> ä¼šç”Ÿæˆä¸€ä¸ªæ–°åˆ—è¡¨, å¹¶è®© <code>a</code> å¼•ç”¨è¿™ä¸ªæ–°åˆ—è¡¨, åŒæ—¶ä¿æŒ <code>b</code> ä¸å˜.</p> </li>
<li> <p>è¡¨è¾¾å¼ <code>a += [5,6,7,8]</code> å®é™…ä¸Šæ˜¯ä½¿ç”¨çš„æ˜¯ "extend" å‡½æ•°, æ‰€ä»¥ <code>a</code> å’Œ <code>b</code> ä»ç„¶æŒ‡å‘å·²è¢«ä¿®æ”¹çš„åŒä¸€åˆ—è¡¨.</p> </li>
</ul>
<hr>
<h3 id="-the-out-of-scope-variableå¤–éƒ¨ä½œç”¨åŸŸå˜é‡">&gt; The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡</h3>
<pre><code class="language-py">a = 1
def some_func():
    return a

def another_func():
    a += 1
    return a
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_func()
1
&gt;&gt;&gt; another_func()
UnboundLocalError: local variable 'a' referenced before assignment
</code></pre>
<h4 id="-è¯´æ˜-36">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li> <p>å½“ä½ åœ¨ä½œç”¨åŸŸä¸­å¯¹å˜é‡è¿›è¡Œèµ‹å€¼æ—¶, å˜é‡ä¼šå˜æˆè¯¥ä½œç”¨åŸŸå†…çš„å±€éƒ¨å˜é‡. å› æ­¤ <code>a</code> ä¼šå˜æˆ <code>another_func</code> å‡½æ•°ä½œç”¨åŸŸä¸­çš„å±€éƒ¨å˜é‡, ä½†å®ƒåœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰è¢«åˆå§‹åŒ–, æ‰€ä»¥ä¼šå¼•å‘é”™è¯¯.</p> </li>
<li> <p>å¯ä»¥é˜…è¯»<a href="http://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html">è¿™ä¸ª</a>ç®€çŸ­å´å¾ˆæ£’çš„æŒ‡å—, äº†è§£æ›´å¤šå…³äº Python ä¸­å‘½åç©ºé—´å’Œä½œç”¨åŸŸçš„å·¥ä½œåŸç†.</p> </li>
<li> <p>æƒ³è¦åœ¨ <code>another_func</code> ä¸­ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ <code>a</code> çš„è¯, å¯ä»¥ä½¿ç”¨ <code>global</code> å…³é”®å­—.</p> <pre><code class="language-py">def another_func()
    global a
    a += 1
    return a
</code></pre> <p><strong>Output:</strong></p> <pre><code class="language-py">&gt;&gt;&gt; another_func()
2
</code></pre> </li>
</ul>
<hr>
<h3 id="-be-careful-with-chained-operationså°å¿ƒé“¾å¼æ“ä½œ">&gt; Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ</h3>
<pre><code class="language-py">&gt;&gt;&gt; (False == False) in [False] # å¯ä»¥ç†è§£
False
&gt;&gt;&gt; False == (False in [False]) # å¯ä»¥ç†è§£
False
&gt;&gt;&gt; False == False in [False] # ä¸ºæ¯›?
True

&gt;&gt;&gt; True is False == False
False
&gt;&gt;&gt; False is False is False
True

&gt;&gt;&gt; 1 &gt; 0 &lt; 1
True
&gt;&gt;&gt; (1 &gt; 0) &lt; 1
False
&gt;&gt;&gt; 1 &gt; (0 &lt; 1)
False
</code></pre>
<h4 id="-è¯´æ˜-37">ğŸ’¡ è¯´æ˜:</h4>
<p>æ ¹æ® https://docs.python.org/2/reference/expressions.html#not-in</p>
<blockquote>
<p>å½¢å¼ä¸Š, å¦‚æœ a, b, c, ..., y, z æ˜¯è¡¨è¾¾å¼, è€Œ op1, op2, ..., opN æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦, é‚£ä¹ˆé™¤äº†æ¯ä¸ªè¡¨è¾¾å¼æœ€å¤šåªå‡ºç°ä¸€æ¬¡ä»¥å¤– a op1 b op2 c ... y opN z å°±ç­‰äº a op1 b and b op2 c and ... y opN z.</p>
</blockquote>
<p>è™½ç„¶ä¸Šé¢çš„ä¾‹å­ä¼¼ä¹å¾ˆæ„šè ¢, ä½†æ˜¯åƒ <code>a == b == c</code> æˆ– <code>0 &lt;= x &lt;= 100</code> å°±å¾ˆæ£’äº†.</p>
<ul>
<li><code>False is False is False</code> ç›¸å½“äº <code>(False is False) and (False is False)</code></li>
<li><code>True is False == False</code> ç›¸å½“äº <code>True is False and False == False</code>, ç”±äºè¯­å¥çš„ç¬¬ä¸€éƒ¨åˆ† (<code>True is False</code>) ç­‰äº <code>False</code>, å› æ­¤æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœä¸º <code>False</code>.</li>
<li><code>1 &gt; 0 &lt; 1</code> ç›¸å½“äº <code>1 &gt; 0 and 0 &lt; 1</code>, æ‰€ä»¥æœ€ç»ˆç»“æœä¸º <code>True</code>.</li>
<li>è¡¨è¾¾å¼ <code>(1 &gt; 0) &lt; 1</code> ç›¸å½“äº <code>True &lt; 1</code> ä¸” <pre><code class="language-py">&gt;&gt;&gt; int(True)
1
&gt;&gt;&gt; True + 1 # ä¸è¿™ä¸ªä¾‹å­æ— å…³ï¼Œåªæ˜¯å¥½ç©
2
</code></pre> <p>æ‰€ä»¥, <code>1 &lt; 1</code> ç­‰äº <code>False</code></p> </li>
</ul>
<hr>
<h3 id="-name-resolution-ignoring-class-scopeå¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ">&gt; Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ</h3>
<p>1.</p>
<pre><code class="language-py">x = 5
class SomeClass:
    x = 17
    y = (x for i in range(10))
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; list(SomeClass.y)[0]
5
</code></pre>
<p>2.</p>
<pre><code class="language-py">x = 5
class SomeClass:
    x = 17
    y = [x for i in range(10)]
</code></pre>
<p><strong>Output (Python 2.x):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; SomeClass.y[0]
17
</code></pre>
<p><strong>Output (Python 3.x):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; SomeClass.y[0]
5
</code></pre>
<h4 id="-è¯´æ˜-38">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>ç±»å®šä¹‰ä¸­åµŒå¥—çš„ä½œç”¨åŸŸä¼šå¿½ç•¥ç±»å†…çš„åç§°ç»‘å®š.</li>
<li>ç”Ÿæˆå™¨è¡¨è¾¾å¼æœ‰å®ƒè‡ªå·±çš„ä½œç”¨åŸŸ.</li>
<li>ä» Python 3.X å¼€å§‹, åˆ—è¡¨æ¨å¯¼å¼ä¹Ÿæœ‰è‡ªå·±çš„ä½œç”¨åŸŸ.</li>
</ul>
<hr>
<h3 id="-needle-in-a-haystackå¤§æµ·æé’ˆ">&gt; Needle in a Haystack/å¤§æµ·æé’ˆ</h3>
<p>1.</p>
<pre><code class="language-py">x, y = (0, 1) if True else None, None
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>&gt;&gt;&gt; x, y  # æœŸæœ›çš„ç»“æœæ˜¯ (0, 1)
((0, 1), None)
</code></pre>
<p>å‡ ä¹æ¯ä¸ª Python ç¨‹åºå‘˜éƒ½é‡åˆ°è¿‡ç±»ä¼¼çš„æƒ…å†µ.</p>
<p>2.</p>
<pre><code class="language-py">t = ('one', 'two')
for i in t:
    print(i)

t = ('one')
for i in t:
    print(i)

t = ()
print(t)
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">one
two
o
n
e
tuple()
</code></pre>
<h4 id="-è¯´æ˜-39">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>å¯¹äº 1, æ­£ç¡®çš„è¯­å¥æ˜¯ <code>x, y = (0, 1) if True else (None, None)</code>.</li>
<li>å¯¹äº 2, æ­£ç¡®çš„è¯­å¥æ˜¯ <code>t = ('one',)</code> æˆ–è€… <code>t = 'one',</code> (ç¼ºå°‘é€—å·) å¦åˆ™è§£é‡Šå™¨ä¼šè®¤ä¸º <code>t</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸², å¹¶é€ä¸ªå­—ç¬¦å¯¹å…¶è¿›è¡Œè¿­ä»£.</li>
<li><code>()</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ï¼Œè¡¨ç¤ºç©ºå…ƒç»„.</li>
</ul>
<hr>
<hr>
<h2 id="section-the-hidden-treasureséšè—çš„å®è—">Section: The Hidden treasures!/éšè—çš„å®è—!</h2>
<p>This section contains few of the lesser-known interesting things about Python that most beginners like me are unaware of (well, not anymore).</p>
<h3 id="-okay-python-can-you-make-me-flypython-å¯å¦å¸¦æˆ‘é£-">&gt; Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *</h3>
<p>å¥½, å»å§.</p>
<pre><code class="language-py">import antigravity
</code></pre>
<p><strong>Output:</strong> å˜˜.. è¿™æ˜¯ä¸ªè¶…çº§ç§˜å¯†.</p>
<h4 id="-è¯´æ˜-40">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li><code>antigravity</code> æ¨¡å—æ˜¯ Python å¼€å‘äººå‘˜å‘å¸ƒçš„å°‘æ•°å¤æ´»èŠ‚å½©è›‹ä¹‹ä¸€.</li>
<li><code>import antigravity</code> ä¼šæ‰“å¼€ä¸€ä¸ª Python çš„<a href="http://xkcd.com/353/">ç»å…¸ XKCD æ¼«ç”»</a>é¡µé¢.</li>
<li>ä¸æ­¢å¦‚æ­¤. è¿™ä¸ª<strong>å¤æ´»èŠ‚å½©è›‹é‡Œè¿˜æœ‰ä¸€ä¸ªå¤æ´»èŠ‚å½©è›‹</strong>. å¦‚æœä½ çœ‹ä¸€ä¸‹<a href="https://github.com/python/cpython/blob/master/Lib/antigravity.py#L7-L17">ä»£ç </a>, å°±ä¼šå‘ç°è¿˜æœ‰ä¸€ä¸ªå‡½æ•°å®ç°äº† <a href="https://xkcd.com/426/">XKCD's geohashing ç®—æ³•</a>.</li>
</ul>
<hr>
<h3 id="-goto-but-whygoto-ä½†ä¸ºä»€ä¹ˆ-">&gt; <code>goto</code>, but why?/<code>goto</code>, ä½†ä¸ºä»€ä¹ˆ? *</h3>
<pre><code class="language-py">from goto import goto, label
for i in range(9):
    for j in range(9):
        for k in range(9):
            print("I'm trapped, please rescue!")
            if k == 2:
                goto .breakout # ä»å¤šé‡å¾ªç¯ä¸­è·³å‡º
label .breakout
print("Freedom!")
</code></pre>
<p><strong>Output (Python 2.3):</strong></p>
<pre><code class="language-py">I'm trapped, please rescue!
I'm trapped, please rescue!
Freedom!
</code></pre>
<h4 id="-è¯´æ˜-41">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>2004å¹´4æœˆ1æ—¥, Python <a href="https://mail.python.org/pipermail/python-announce-list/2004-April/002982.html">å®£å¸ƒ</a> åŠ å…¥ä¸€ä¸ªå¯ç”¨çš„ <code>goto</code> ä½œä¸ºæ„šäººèŠ‚ç¤¼ç‰©.</li>
<li>å½“å‰ç‰ˆæœ¬çš„ Python å¹¶æ²¡æœ‰è¿™ä¸ªæ¨¡å—.</li>
<li>å°±ç®—å¯ä»¥ç”¨, ä¹Ÿè¯·ä¸è¦ä½¿ç”¨å®ƒ. è¿™é‡Œæ˜¯ä¸ºä»€ä¹ˆPythonä¸­æ²¡æœ‰ <code>goto</code> çš„<a href="https://docs.python.org/3/faq/design.html#why-is-there-no-goto">åŸå› </a>.</li>
</ul>
<hr>
<h3 id="-brace-yourselfåšå¥½æ€æƒ³å‡†å¤‡-">&gt; Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *</h3>
<p>å¦‚æœä½ ä¸å–œæ¬¢åœ¨Pythonä¸­ä½¿ç”¨ç©ºæ ¼æ¥è¡¨ç¤ºä½œç”¨åŸŸ, ä½ å¯ä»¥å¯¼å…¥ C é£æ ¼çš„ {},</p>
<pre><code class="language-py">from __future__ import braces
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">  File "some_file.py", line 1
    from __future__ import braces
SyntaxError: not a chance
</code></pre>
<p>æƒ³ç”¨å¤§æ‹¬å·? æ²¡é—¨! è§‰å¾—ä¸çˆ½, è¯·å»ç”¨java.</p>
<h4 id="-è¯´æ˜-42">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>é€šå¸¸ <code>__future__</code> ä¼šæä¾› Python æœªæ¥ç‰ˆæœ¬çš„åŠŸèƒ½. ç„¶è€Œï¼Œè¿™é‡Œçš„ â€œæœªæ¥â€ æ˜¯ä¸€ä¸ªè®½åˆº.</li>
<li>è¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾ç¤¾åŒºå¯¹æ­¤ç±»é—®é¢˜æ€åº¦çš„å¤æ´»èŠ‚å½©è›‹.</li>
</ul>
<hr>
<h3 id="-lets-meet-friendly-language-uncle-for-lifeè®©ç”Ÿæ´»æ›´å‹å¥½-">&gt; Let's meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *</h3>
<p><strong>Output (Python 3.x)</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; from __future__ import barry_as_FLUFL
&gt;&gt;&gt; "Ruby" != "Python" # è¿™é‡Œæ²¡ä»€ä¹ˆç–‘é—®
  File "some_file.py", line 1
    "Ruby" != "Python"
              ^
SyntaxError: invalid syntax

&gt;&gt;&gt; "Ruby" &lt;&gt; "Python"
True
</code></pre>
<p>è¿™å°±å¯¹äº†.</p>
<h4 id="-è¯´æ˜-43">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>ç›¸å…³çš„ <a href="https://www.python.org/dev/peps/pep-0401/">PEP-401</a> å‘å¸ƒäº 2009å¹´4æœˆ1æ—¥ (æ‰€ä»¥ä½ ç°åœ¨çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆäº†å§).</li>
<li>å¼•ç”¨ PEP-401
<blockquote>
<p>æ„è¯†åˆ° Python 3.0 é‡Œçš„ != è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªä¼šå¼•èµ·æ‰‹æŒ‡ç–¼ç—›çš„ææ€–é”™è¯¯, FLUFL å°† &lt;&gt; è¿ç®—ç¬¦æ¢å¤ä¸ºå”¯ä¸€å†™æ³•.</p>
</blockquote> </li>
<li>Uncle Barry åœ¨ PEP ä¸­è¿˜åˆ†äº«äº†å…¶ä»–ä¸œè¥¿; ä½ å¯ä»¥åœ¨<a href="https://www.python.org/dev/peps/pep-0401/">è¿™é‡Œ</a>è·å¾—ä»–ä»¬.</li>
<li>(è¯‘: è™½ç„¶æ–‡æ¡£ä¸­æ²¡å†™ï¼Œä½†åº”è¯¥æ˜¯åªèƒ½åœ¨äº¤äº’è§£é‡Šå™¨ä¸­ä½¿ç”¨.)</li>
</ul>
<hr>
<h3 id="-even-python-understands-that-love-is-complicatedè¿pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„-">&gt; Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *</h3>
<pre><code class="language-py">import this
</code></pre>
<p>ç­‰ç­‰, <strong>this</strong> æ˜¯ä»€ä¹ˆ? <code>this</code> æ˜¯çˆ± <a href="https://img.cntofu.com/book/wtfpython-cn//img/heart.png" data-uk-lightbox><img src="https://img.cntofu.com/book/wtfpython-cn//img/heart.png" alt="emoji people:heart" height="20" width="20" align="absmiddle"></a></p>
<p><strong>Output:</strong></p>
<pre><code>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
ä¼˜ç¾èƒœäºä¸‘é™‹ï¼ˆPython ä»¥ç¼–å†™ä¼˜ç¾çš„ä»£ç ä¸ºç›®æ ‡ï¼‰
Explicit is better than implicit.
æ˜äº†èƒœäºæ™¦æ¶©ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ˜äº†çš„ï¼Œå‘½åè§„èŒƒï¼Œé£æ ¼ç›¸ä¼¼ï¼‰
Simple is better than complex.
ç®€æ´èƒœäºå¤æ‚ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯ç®€æ´çš„ï¼Œä¸è¦æœ‰å¤æ‚çš„å†…éƒ¨å®ç°ï¼‰
Complex is better than complicated.
å¤æ‚èƒœäºå‡Œä¹±ï¼ˆå¦‚æœå¤æ‚ä¸å¯é¿å…ï¼Œé‚£ä»£ç é—´ä¹Ÿä¸èƒ½æœ‰éš¾æ‡‚çš„å…³ç³»ï¼Œè¦ä¿æŒæ¥å£ç®€æ´ï¼‰
Flat is better than nested.
æ‰å¹³èƒœäºåµŒå¥—ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ‰å¹³çš„ï¼Œä¸èƒ½æœ‰å¤ªå¤šçš„åµŒå¥—ï¼‰
Sparse is better than dense.
é—´éš”èƒœäºç´§å‡‘ï¼ˆä¼˜ç¾çš„ä»£ç æœ‰é€‚å½“çš„é—´éš”ï¼Œä¸è¦å¥¢æœ›ä¸€è¡Œä»£ç è§£å†³é—®é¢˜ï¼‰
Readability counts.
å¯è¯»æ€§å¾ˆé‡è¦ï¼ˆä¼˜ç¾çš„ä»£ç ä¸€å®šæ˜¯å¯è¯»çš„ï¼‰
Special cases aren't special enough to break the rules.
æ²¡æœ‰ç‰¹ä¾‹ç‰¹æ®Šåˆ°éœ€è¦è¿èƒŒè¿™äº›è§„åˆ™ï¼ˆè¿™äº›è§„åˆ™è‡³é«˜æ— ä¸Šï¼‰
Although practicality beats purity.
å°½ç®¡æˆ‘ä»¬æ›´å€¾å‘äºå®ç”¨æ€§
Errors should never pass silently.
ä¸è¦å®‰é™çš„åŒ…å®¹æ‰€æœ‰é”™è¯¯
Unless explicitly silenced.
é™¤éä½ ç¡®å®šéœ€è¦è¿™æ ·åšï¼ˆç²¾å‡†åœ°æ•è·å¼‚å¸¸ï¼Œä¸å†™ except:pass é£æ ¼çš„ä»£ç ï¼‰
In the face of ambiguity, refuse the temptation to guess.
æ‹’ç»è¯±æƒ‘ä½ å»çŒœæµ‹çš„æš§æ˜§äº‹ç‰©
There should be one-- and preferably only one --obvious way to do it.
è€Œæ˜¯å°½é‡æ‰¾ä¸€ç§ï¼Œæœ€å¥½æ˜¯å”¯ä¸€ä¸€ç§æ˜æ˜¾çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœä¸ç¡®å®šï¼Œå°±ç”¨ç©·ä¸¾æ³•ï¼‰
Although that way may not be obvious at first unless you're Dutch.
è™½ç„¶è¿™å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºä½ ä¸æ˜¯ Python ä¹‹çˆ¶ï¼ˆè¿™é‡Œçš„ Dutch æ˜¯æŒ‡ Guido ï¼‰
Now is better than never.
ç°åœ¨è¡ŒåŠ¨å¥½è¿‡æ°¸è¿œä¸è¡ŒåŠ¨
Although never is often better than *right* now.
å°½ç®¡ä¸è¡ŒåŠ¨è¦å¥½è¿‡é²è½è¡ŒåŠ¨
If the implementation is hard to explain, it's a bad idea.
å¦‚æœä½ æ— æ³•å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£è‚¯å®šä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼›
If the implementation is easy to explain, it may be a good idea.
å¦‚æœä½ èƒ½è½»æ¾å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£ä¹Ÿè®¸ä¼šæ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼ˆæ–¹æ¡ˆæµ‹è¯„æ ‡å‡†ï¼‰
Namespaces are one honking great idea -- let's do more of those!
å‘½åç©ºé—´æ˜¯ä¸€ç§ç»å¦™çš„ç†å¿µï¼Œæˆ‘ä»¬åº”å½“å¤šåŠ åˆ©ç”¨ï¼ˆå€¡å¯¼ä¸å·å¬ï¼‰
</code></pre>
<p>è¿™æ˜¯ Python ä¹‹ç¦…!</p>
<pre><code class="language-py">&gt;&gt;&gt; love = this
&gt;&gt;&gt; this is love
True
&gt;&gt;&gt; love is True
False
&gt;&gt;&gt; love is False
False
&gt;&gt;&gt; love is not True or False
True
&gt;&gt;&gt; love is not True or False; love is love  # çˆ±æ˜¯éš¾è¨€çš„
True
</code></pre>
<h4 id="-è¯´æ˜-44">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li><code>this</code> æ¨¡å—æ˜¯å…³äº Python ä¹‹ç¦…çš„å¤æ´»èŠ‚å½©è›‹ (<a href="https://www.python.org/dev/peps/pep-0020">PEP 20</a>).</li>
<li>å¦‚æœä½ è®¤ä¸ºè¿™å·²ç»å¤Ÿæœ‰è¶£çš„äº†, å¯ä»¥çœ‹çœ‹ <a href="https://hg.python.org/cpython/file/c3896275c0f6/Lib/this.py">this.py</a> çš„å®ç°. æœ‰è¶£çš„æ˜¯, Python ä¹‹ç¦…çš„å®ç°ä»£ç è¿åäº†ä»–è‡ªå·± (è¿™å¯èƒ½æ˜¯å”¯ä¸€ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µçš„åœ°æ–¹).</li>
<li></li>
</ul>
<p>è‡³äº <code>love is not True or False; love is love</code>, æ„å¤–å´åˆä¸è¨€è€Œå–».</p>
<hr>
<h3 id="-yes-it-existsæ˜¯çš„-å®ƒå­˜åœ¨">&gt; Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!</h3>
<p><strong>å¾ªç¯çš„ <code>else</code>.</strong> ä¸€ä¸ªå…¸å‹çš„ä¾‹å­:</p>
<pre><code class="language-py">  def does_exists_num(l, to_find):
      for num in l:
          if num == to_find:
              print("Exists!")
              break
      else:
          print("Does not exist")
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; some_list = [1, 2, 3, 4, 5]
&gt;&gt;&gt; does_exists_num(some_list, 4)
Exists!
&gt;&gt;&gt; does_exists_num(some_list, -1)
Does not exist
</code></pre>
<p><strong>å¼‚å¸¸çš„ <code>else</code> .</strong> ä¾‹,</p>
<pre><code class="language-py">try:
    pass
except:
    print("Exception occurred!!!")
else:
    print("Try block executed successfully...")
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">Try block executed successfully...
</code></pre>
<h4 id="-è¯´æ˜-45">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>å¾ªç¯åçš„ <code>else</code> å­å¥åªä¼šåœ¨å¾ªç¯æ²¡æœ‰è§¦å‘ <code>break</code> è¯­å¥, æ­£å¸¸ç»“æŸçš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œ.</li>
<li>try ä¹‹åçš„ <code>else</code> å­å¥ä¹Ÿè¢«ç§°ä¸º "å®Œæˆå­å¥", å› ä¸ºåœ¨ <code>try</code> è¯­å¥ä¸­åˆ°è¾¾ <code>else</code> å­å¥æ„å‘³ç€tryå—å®é™…ä¸Šå·²æˆåŠŸå®Œæˆ.</li>
</ul>
<hr>
<h3 id="-inpinityæ— é™-">&gt; Inpinity/æ— é™ *</h3>
<p>è‹±æ–‡æ‹¼å†™æ˜¯æœ‰æ„çš„, è¯·ä¸è¦ä¸ºæ­¤æäº¤è¡¥ä¸. (è¯‘: è¿™é‡Œæ˜¯ä¸ºäº†çªå‡º Python ä¸­æ— é™çš„å®šä¹‰ä¸<a href="https://en.wikipedia.org/wiki/Pi">Pi</a>æœ‰å…³, æ‰€ä»¥å°†ä¸¤ä¸ªå•è¯æ‹¼æ¥äº†.)</p>
<p><strong>Output (Python 3.x):</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; infinity = float('infinity')
&gt;&gt;&gt; hash(infinity)
314159
&gt;&gt;&gt; hash(float('-inf'))
-314159
</code></pre>
<h4 id="-è¯´æ˜-46">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>infinity çš„å“ˆå¸Œå€¼æ˜¯ 10âµ x Ï€.</li>
<li>æœ‰æ„æ€çš„æ˜¯, <code>float('-inf')</code> çš„å“ˆå¸Œå€¼åœ¨ Python 3 ä¸­æ˜¯ "-10âµ x Ï€" , è€Œåœ¨ Python 2 ä¸­æ˜¯ "-10âµ x e".</li>
</ul>
<hr>
<h3 id="-mangling-timeä¿®é¥°æ—¶é—´-">&gt; Mangling time!/ä¿®é¥°æ—¶é—´! *</h3>
<pre><code class="language-py">class Yo(object):
    def __init__(self):
        self.__honey = True
        self.bitch = True
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; Yo().bitch
True
&gt;&gt;&gt; Yo().__honey
AttributeError: 'Yo' object has no attribute '__honey'
&gt;&gt;&gt; Yo()._Yo__honey
True
</code></pre>
<p>ä¸ºä»€ä¹ˆ <code>Yo()._Yo__honey</code> èƒ½è¿è¡Œ? åªæœ‰å°åº¦äººç†è§£.(è¯‘: è¿™ä¸ªæ¢—å¯èƒ½æ˜¯æŒ‡å°åº¦éŸ³ä¹äºº<a href="https://en.wikipedia.org/wiki/Yo_Yo_Honey_Singh">Yo Yo Honey Singh</a>)</p>
<h4 id="-è¯´æ˜-47">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Name_mangling">åå­—ä¿®é¥°</a> ç”¨äºé¿å…ä¸åŒå‘½åç©ºé—´ä¹‹é—´åç§°å†²çª.</li>
<li>åœ¨ Python ä¸­, è§£é‡Šå™¨ä¼šé€šè¿‡ç»™ç±»ä¸­ä»¥ <code>__</code> (åŒä¸‹åˆ’çº¿)å¼€å¤´ä¸”ç»“å°¾æœ€å¤šåªæœ‰ä¸€ä¸ªä¸‹åˆ’çº¿çš„ç±»æˆå‘˜åç§°åŠ ä¸Š<code>_NameOfTheClass</code> æ¥ä¿®é¥°(mangles)åç§°.</li>
<li>æ‰€ä»¥, è¦è®¿é—® <code>__honey</code> å¯¹è±¡,æˆ‘ä»¬éœ€è¦åŠ ä¸Š <code>_Yo</code> ä»¥é˜²æ­¢ä¸å…¶ä»–ç±»ä¸­å®šä¹‰çš„ç›¸åŒåç§°çš„å±æ€§å‘ç”Ÿå†²çª.</li>
</ul>
<hr>
<hr>
<h2 id="section-miscellaneousæ‚é¡¹">Section: Miscellaneous/æ‚é¡¹</h2>
<h3 id="--is-fasteræ›´å¿«çš„-">&gt; <code>+=</code> is faster/æ›´å¿«çš„ <code>+=</code></h3>
<pre><code class="language-py"># ç”¨ "+" è¿æ¥ä¸‰ä¸ªå­—ç¬¦ä¸²:
&gt;&gt;&gt; timeit.timeit("s1 = s1 + s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=100)
0.25748300552368164
# ç”¨ "+=" è¿æ¥ä¸‰ä¸ªå­—ç¬¦ä¸²:
&gt;&gt;&gt; timeit.timeit("s1 += s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=100)
0.012188911437988281
</code></pre>
<h4 id="-è¯´æ˜-48">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>è¿æ¥ä¸¤ä¸ªä»¥ä¸Šçš„å­—ç¬¦ä¸²æ—¶ <code>+=</code> æ¯” <code>+</code> æ›´å¿«, å› ä¸ºåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸² (ä¾‹å¦‚, <code>s1 += s2 + s3</code> ä¸­çš„ <code>s1</code>) ä¸ä¼šè¢«é”€æ¯.(è¯‘: å°±æ˜¯ <code>+=</code> æ‰§è¡Œçš„æ˜¯è¿½åŠ æ“ä½œï¼Œå°‘äº†ä¸€ä¸ªé”€æ¯æ–°å»ºçš„åŠ¨ä½œ.)</li>
</ul>
<hr>
<h3 id="-lets-make-a-giant-stringæ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§">&gt; Let's make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§ï¼</h3>
<pre><code class="language-py">def add_string_with_plus(iters):
    s = ""
    for i in range(iters):
        s += "xyz"
    assert len(s) == 3*iters

def add_bytes_with_plus(iters):
    s = b""
    for i in range(iters):
        s += b"xyz"
    assert len(s) == 3*iters

def add_string_with_format(iters):
    fs = "{}"*iters
    s = fs.format(*(["xyz"]*iters))
    assert len(s) == 3*iters

def add_string_with_join(iters):
    l = []
    for i in range(iters):
        l.append("xyz")
    s = "".join(l)
    assert len(s) == 3*iters

def convert_list_to_string(l, iters):
    s = "".join(l)
    assert len(s) == 3*iters
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; timeit(add_string_with_plus(10000))
1000 loops, best of 3: 972 Âµs per loop
&gt;&gt;&gt; timeit(add_bytes_with_plus(10000))
1000 loops, best of 3: 815 Âµs per loop
&gt;&gt;&gt; timeit(add_string_with_format(10000))
1000 loops, best of 3: 508 Âµs per loop
&gt;&gt;&gt; timeit(add_string_with_join(10000))
1000 loops, best of 3: 878 Âµs per loop
&gt;&gt;&gt; l = ["xyz"]*10000
&gt;&gt;&gt; timeit(convert_list_to_string(l, 10000))
10000 loops, best of 3: 80 Âµs per loop
</code></pre>
<p>è®©æˆ‘ä»¬å°†è¿­ä»£æ¬¡æ•°å¢åŠ 10å€.</p>
<pre><code class="language-py">&gt;&gt;&gt; timeit(add_string_with_plus(100000)) # æ‰§è¡Œæ—¶é—´çº¿æ€§å¢åŠ 
100 loops, best of 3: 9.75 ms per loop
&gt;&gt;&gt; timeit(add_bytes_with_plus(100000)) # äºŒæ¬¡å¢åŠ 
1000 loops, best of 3: 974 ms per loop
&gt;&gt;&gt; timeit(add_string_with_format(100000)) # çº¿æ€§å¢åŠ 
100 loops, best of 3: 5.25 ms per loop
&gt;&gt;&gt; timeit(add_string_with_join(100000)) # çº¿æ€§å¢åŠ 
100 loops, best of 3: 9.85 ms per loop
&gt;&gt;&gt; l = ["xyz"]*100000
&gt;&gt;&gt; timeit(convert_list_to_string(l, 100000)) # çº¿æ€§å¢åŠ 
1000 loops, best of 3: 723 Âµs per loop
</code></pre>
<h4 id="-è¯´æ˜-49">ğŸ’¡ è¯´æ˜:</h4>
<ul>
<li>ä½ å¯ä»¥åœ¨è¿™è·å¾—æ›´å¤š <a href="https://docs.python.org/3/library/timeit.html">timeit</a> çš„ç›¸å…³ä¿¡æ¯. å®ƒé€šå¸¸ç”¨äºè¡¡é‡ä»£ç ç‰‡æ®µçš„æ‰§è¡Œæ—¶é—´.</li>
<li>ä¸è¦ç”¨ <code>+</code> å»ç”Ÿæˆè¿‡é•¿çš„å­—ç¬¦ä¸², åœ¨ Python ä¸­, <code>str</code> æ˜¯ä¸å¯å˜å¾—, æ‰€ä»¥åœ¨æ¯æ¬¡è¿æ¥ä¸­ä½ éƒ½è¦æŠŠå·¦å³ä¸¤ä¸ªå­—ç¬¦ä¸²å¤åˆ¶åˆ°æ–°çš„å­—ç¬¦ä¸²ä¸­. å¦‚æœä½ è¿æ¥å››ä¸ªé•¿åº¦ä¸º10çš„å­—ç¬¦ä¸², ä½ éœ€è¦æ‹·è´ (10+10) + ((10+10)+10) + (((10+10)+10)+10) = 90 ä¸ªå­—ç¬¦è€Œä¸æ˜¯ 40 ä¸ªå­—ç¬¦. éšç€å­—ç¬¦ä¸²çš„æ•°é‡å’Œå¤§å°çš„å¢åŠ , æƒ…å†µä¼šå˜å¾—è¶Šå‘çš„ç³Ÿç³• (å°±åƒ<code>add_bytes_with_plus</code> å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ä¸€æ ·)</li>
<li>å› æ­¤, æ›´å»ºè®®ä½¿ç”¨ <code>.format.</code> æˆ– <code>%</code> è¯­æ³• (ä½†æ˜¯, å¯¹äºçŸ­å­—ç¬¦ä¸², å®ƒä»¬æ¯” <code>+</code> ç¨æ…¢ä¸€ç‚¹).</li>
<li>åˆæˆ–è€…, å¦‚æœä½ æ‰€éœ€çš„å†…å®¹å·²ç»ä»¥å¯è¿­ä»£å¯¹è±¡çš„å½¢å¼æä¾›äº†, ä½¿ç”¨ <code>''.join(å¯è¿­ä»£å¯¹è±¡)</code> è¦å¿«å¤šäº†.</li>
<li><code>add_string_with_plus</code> çš„æ‰§è¡Œæ—¶é—´æ²¡æœ‰åƒ <code>add_bytes_with_plus</code> ä¸€æ ·å‡ºç°äºŒæ¬¡å¢åŠ æ˜¯å› ä¸ºè§£é‡Šå™¨ä¼šå¦‚åŒä¸Šä¸€ä¸ªåˆ—å­æ‰€è®¨è®ºçš„ä¸€æ ·ä¼˜åŒ– <code>+=</code>. ç”¨ <code>s = s + "x" + "y" + "z"</code> æ›¿ä»£ <code>s += "xyz"</code> çš„è¯, æ‰§è¡Œæ—¶é—´å°±ä¼šäºŒæ¬¡å¢åŠ äº†. <pre><code class="language-py">def add_string_with_plus(iters):
    s = ""
    for i in range(iters):
        s = s + "x" + "y" + "z"
    assert len(s) == 3*iters

&gt;&gt;&gt; timeit(add_string_with_plus(10000))
100 loops, best of 3: 9.87 ms per loop
&gt;&gt;&gt; timeit(add_string_with_plus(100000)) # æ‰§è¡Œæ—¶é—´äºŒæ¬¡å¢åŠ 
1 loops, best of 3: 1.09 s per loop
</code></pre> </li>
</ul>
<hr>
<h3 id="-explicit-typecast-of-stringså­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢">&gt; Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢</h3>
<pre><code class="language-py">a = float('inf')
b = float('nan')
c = float('-iNf')  # è¿™äº›å­—ç¬¦ä¸²ä¸åŒºåˆ†å¤§å°å†™
d = float('nan')
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-py">&gt;&gt;&gt; a
inf
&gt;&gt;&gt; b
nan
&gt;&gt;&gt; c
-inf
&gt;&gt;&gt; float('some_other_string')
ValueError: could not convert string to float: some_other_string
&gt;&gt;&gt; a == -c #inf==inf
True
&gt;&gt;&gt; None == None # None==None
True
&gt;&gt;&gt; b == d #ä½†æ˜¯ nan!=nan
False
&gt;&gt;&gt; 50/a
0.0
&gt;&gt;&gt; a/a
nan
&gt;&gt;&gt; 23 + b
nan
</code></pre>
<h4 id="-è¯´æ˜-50">ğŸ’¡ è¯´æ˜:</h4>
<p><code>'inf'</code> å’Œ <code>'nan'</code> æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²(ä¸åŒºåˆ†å¤§å°å†™), å½“æ˜¾ç¤ºè½¬æ¢æˆ <code>float</code> å‹æ—¶, å®ƒä»¬åˆ†åˆ«ç”¨äºè¡¨ç¤ºæ•°å­¦æ„ä¹‰ä¸Šçš„ "æ— ç©·å¤§" å’Œ "éæ•°å­—".</p>
<hr>
<h3 id="-minor-oneså°çŸ¥è¯†ç‚¹">&gt; Minor Ones/å°çŸ¥è¯†ç‚¹</h3>
<ul>
<li> <p><code>join()</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ“ä½œè€Œä¸æ˜¯åˆ—è¡¨æ“ä½œ. (ç¬¬ä¸€æ¬¡æ¥è§¦ä¼šè§‰å¾—æœ‰ç‚¹è¿åç›´è§‰)</p> <p><strong>ğŸ’¡ è¯´æ˜:</strong> å¦‚æœ <code>join()</code> æ˜¯å­—ç¬¦ä¸²æ–¹æ³• é‚£ä¹ˆå®ƒå°±å¯ä»¥å¤„ç†ä»»ä½•å¯è¿­ä»£çš„å¯¹è±¡(åˆ—è¡¨ï¼Œå…ƒç»„ï¼Œè¿­ä»£å™¨). å¦‚æœå®ƒæ˜¯åˆ—è¡¨æ–¹æ³•, åˆ™å¿…é¡»åœ¨æ¯ç§ç±»å‹ä¸­å•ç‹¬å®ç°. å¦å¤–, åœ¨ <code>list</code> å¯¹è±¡çš„é€šç”¨APIä¸­å®ç°ä¸€ä¸ªä¸“ç”¨äºå­—ç¬¦ä¸²çš„æ–¹æ³•æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰.</p> </li>
<li> <p>çœ‹ç€å¥‡æ€ªä½†èƒ½æ­£ç¡®è¿è¡Œçš„è¯­å¥:</p>
<ul>
<li><code>[] = ()</code> è¯­å¥åœ¨è¯­ä¹‰ä¸Šæ˜¯æ­£ç¡®çš„ (è§£åŒ…ä¸€ä¸ªç©ºçš„ <code>tuple</code> å¹¶èµ‹å€¼ç»™ <code>list</code>)</li>
<li><code>'a'[0][0][0][0][0]</code> åœ¨è¯­ä¹‰ä¸Šä¹Ÿæ˜¯æ­£ç¡®çš„, å› ä¸ºåœ¨ Python ä¸­å­—ç¬¦ä¸²åŒæ—¶ä¹Ÿæ˜¯<a href="https://docs.python.org/3/glossary.html#term-sequence">åºåˆ—</a>(å¯è¿­ä»£å¯¹è±¡æ”¯æŒä½¿ç”¨æ•´æ•°ç´¢å¼•è®¿é—®å…ƒç´ ).</li>
<li><code>3 --0-- 5 == 8</code> å’Œ <code>--5 == 5</code> åœ¨è¯­ä¹‰ä¸Šéƒ½æ˜¯æ­£ç¡®çš„, ä¸”ç»“æœç­‰äº <code>True</code>.(è¯‘: 3å‡è´Ÿ0ç­‰äº3ï¼Œå†å‡è´Ÿ5ç›¸å½“äºåŠ 5ç­‰äº8ï¼›è´Ÿçš„è´Ÿ5ç­‰äº5.)</li>
</ul> </li>
<li> <p>é‰´äº <code>a</code> æ˜¯ä¸€ä¸ªæ•°ç»„, <code>++a</code> å’Œ <code>--a</code> éƒ½æ˜¯æœ‰æ•ˆçš„ Python è¯­å¥, ä½†å…¶æ•ˆæœä¸ C, C++ æˆ– Java ç­‰ä¸ä¸€æ ·.</p> <pre><code class="language-py">&gt;&gt;&gt; a = 5
&gt;&gt;&gt; a
5
&gt;&gt;&gt; ++a
5
&gt;&gt;&gt; --a
5
</code></pre> <p><strong>ğŸ’¡ è¯´æ˜:</strong></p>
<ul>
<li>python é‡Œæ²¡æœ‰ <code>++</code> æ“ä½œç¬¦. è¿™å…¶å®æ˜¯ä¸¤ä¸ª <code>+</code> æ“ä½œç¬¦.</li>
<li><code>++a</code> è¢«è§£æä¸º <code>+(+a)</code> æœ€åç­‰äº <code>a</code>. <code>--a</code> åŒç†.</li>
<li>è¿™ä¸ª StackOverflow <a href="https://stackoverflow.com/questions/3654830/why-are-there-no-and-operators-in-python">å›ç­”</a> è®¨è®ºäº†ä¸ºä»€ä¹ˆ Python ä¸­ç¼ºå°‘å¢é‡å’Œå‡é‡è¿ç®—ç¬¦.</li>
</ul> </li>
<li> <p>Python ä½¿ç”¨ 2ä¸ªå­—èŠ‚å­˜å‚¨å‡½æ•°ä¸­çš„æœ¬åœ°å˜é‡. ç†è®ºä¸Š, è¿™æ„å‘³ç€å‡½æ•°ä¸­åªèƒ½å®šä¹‰65536ä¸ªå˜é‡. ä½†æ˜¯ï¼ŒPython å†…ç½®äº†ä¸€ä¸ªæ–¹ä¾¿çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ç”¨äºå­˜å‚¨è¶…è¿‡216ä¸ªå˜é‡å. ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å½“å®šä¹‰äº†è¶…è¿‡65536ä¸ªå±€éƒ¨å˜é‡æ—¶å †æ ˆä¸­å‘ç”Ÿçš„æƒ…å†µ (è­¦å‘Š: è¿™æ®µä»£ç ä¼šæ‰“å°å¤§çº¦218è¡Œæ–‡æœ¬, è¯·åšå¥½å‡†å¤‡!):</p> <pre><code class="language-py">import dis
exec("""
def f():
    """ + """
    """.join(["X"+str(x)+"=" + str(x) for x in range(65539)]))

f()

print(dis.dis(f))
</code></pre> </li>
<li> <p>ä½ çš„ <em>Python ä»£ç </em> å¹¶ä¸ä¼šå¤šçº¿ç¨‹åŒæ—¶è¿è¡Œ (æ˜¯çš„, ä½ æ²¡å¬é”™!). è™½ç„¶ä½ è§‰å¾—ä¼šäº§ç”Ÿå¤šä¸ªçº¿ç¨‹å¹¶è®©å®ƒä»¬åŒæ—¶æ‰§è¡Œä½ çš„ä»£ç , ä½†æ˜¯, ç”±äº <a href="https://wiki.python.org/moin/GlobalInterpreterLock">å…¨å±€è§£é‡Šé”</a>çš„å­˜åœ¨, ä½ æ‰€åšçš„åªæ˜¯è®©ä½ çš„çº¿ç¨‹ä¾æ¬¡åœ¨åŒä¸€ä¸ªæ ¸å¿ƒä¸Šæ‰§è¡Œ. Python å¤šçº¿ç¨‹é€‚ç”¨äºIOå¯†é›†å‹çš„ä»»åŠ¡, ä½†å¦‚æœæƒ³è¦å¹¶è¡Œå¤„ç†CPUå¯†é›†å‹çš„ä»»åŠ¡, ä½ åº”è¯¥ä¼šæƒ³ä½¿ç”¨ <a href="https://docs.python.org/2/library/multiprocessing.html">multiprocessing</a> æ¨¡å—.</p> </li>
<li> <p>åˆ—è¡¨åˆ‡ç‰‡è¶…å‡ºç´¢å¼•è¾¹ç•Œè€Œä¸å¼•å‘ä»»ä½•é”™è¯¯</p> <pre><code class="language-py">&gt;&gt;&gt; some_list = [1, 2, 3, 4, 5]
&gt;&gt;&gt; some_list[111:]
[]
</code></pre> </li>
<li> <p><code>int('Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©')</code> åœ¨ Python 3 ä¸­ä¼šè¿”å› <code>123456789</code>. åœ¨ Python ä¸­, åè¿›åˆ¶å­—ç¬¦åŒ…æ‹¬æ•°å­—å­—ç¬¦, ä»¥åŠå¯ç”¨äºå½¢æˆåè¿›åˆ¶æ•°å­—çš„æ‰€æœ‰å­—ç¬¦, ä¾‹å¦‚: U+0660, ARABIC-INDIC DIGIT ZERO. è¿™æœ‰ä¸€ä¸ªå…³äºæ­¤çš„ <a href="http://chris.improbable.org/2014/8/25/adventures-in-unicode-digits/">æœ‰è¶£æ•…äº‹</a>.</p> </li>
<li> <p><code>'abc'.count('') == 4</code>. è¿™æœ‰ä¸€ä¸ª <code>count</code> æ–¹æ³•çš„ç›¸è¿‘å®ç°, èƒ½æ›´å¥½çš„è¯´æ˜é—®é¢˜</p> <pre><code class="language-py">def count(s, sub):
    result = 0
    for i in range(len(s) + 1 - len(sub)):
        result += (s[i:i + len(sub)] == sub)
    return result
</code></pre> <p>è¿™ä¸ªè¡Œä¸ºæ˜¯ç”±äºç©ºå­ä¸²(<code>''</code>)ä¸åŸå§‹å­—ç¬¦ä¸²ä¸­é•¿åº¦ä¸º0çš„åˆ‡ç‰‡ç›¸åŒ¹é…å¯¼è‡´çš„.</p> </li>
</ul>
<hr>
<h1 id="contributingè´¡çŒ®">Contributing/è´¡çŒ®</h1>
<p>æ¬¢è¿å„ç§è¡¥ä¸! è¯¦æƒ…è¯·çœ‹<a href="https://github.com/satwikkansal/wtfpython/blob/master/CONTRIBUTING.html">CONTRIBUTING.html</a>.(è¯‘: è¿™æ˜¯ç»™åŸåº“æè´¡çŒ®çš„è¦æ±‚æ¨¡ç‰ˆ)</p>
<p>ä½ å¯ä»¥é€šè¿‡æ–°å»º <a href="https://github.com/satwikkansal/wtfpython/issues/new">issue</a> æˆ–è€…åœ¨ä¸Š <a href="https://gitter.im/wtfpython/Lobby">Gitter</a> ä¸æˆ‘ä»¬è¿›è¡Œè®¨è®º.</p>
<p>(è¯‘: å¦‚æœä½ æƒ³å¯¹è¿™ä¸ªç¿»è¯‘é¡¹ç›®æä¾›å¸®åŠ©, è¯·çœ‹<a href="https://github.com/leisurelicht/wtfpython-cn/blob/master/CONTRIBUTING.html">è¿™é‡Œ</a>)</p>
<h1 id="acknowledgementsè‡´è°¢">Acknowledgements/è‡´è°¢</h1>
<p>è¿™ä¸ªç³»åˆ—æœ€åˆçš„æƒ³æ³•å’Œè®¾è®¡çµæ„Ÿæ¥è‡ªäº Denys Dovhan çš„é¡¹ç›® <a href="https://github.com/denysdovhan/wtfjs">wtfjs</a>. ç¤¾åŒºçš„å¼ºå¤§æ”¯æŒè®©å®ƒæˆé•¿ä¸ºç°åœ¨çš„æ¨¡æ ·.</p>
<h4 id="some-nice-linksä¸€äº›ä¸é”™çš„èµ„æº">Some nice Links!/ä¸€äº›ä¸é”™çš„èµ„æº</h4>
<ul>
<li>https://www.youtube.com/watch?v=sH4XF6pKKmk</li>
<li>https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python</li>
<li>https://sopython.com/wiki/Common_Gotchas_In_Python</li>
<li>https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines</li>
<li>https://stackoverflow.com/questions/1011431/common-pitfalls-in-python</li>
<li>https://www.python.org/doc/humor/</li>
<li>https://www.codementor.io/satwikkansal/python-practices-for-efficient-code-performance-memory-and-usability-aze6oiq65</li>
</ul>
<h1 id="-licenseè®¸å¯">ğŸ“ License/è®¸å¯</h1>
<p><a href="http://www.wtfpl.net"><a href="https://img.shields.io/badge/License-WTFPL 2.0-lightgrey.svg?style=flat-square" data-uk-lightbox><img src="https://img.shields.io/badge/License-WTFPL 2.0-lightgrey.svg?style=flat-square" alt="CC 4.0"></a></a></p>
<p>Â© <a href="https://satwikkansal.xyz">Satwik Kansal</a></p>
<h2 id="helpå¸®åŠ©">Help/å¸®åŠ©</h2>
<p>å¦‚æœæ‚¨æœ‰ä»»ä½•æƒ³æ³•æˆ–å»ºè®®ï¼Œæ¬¢è¿åˆ†äº«.</p>
<h2 id="surprise-your-geeky-pythonist-friendsæƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ">Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?</h2>
<p>æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›å¿«é“¾å‘ Twitter å’Œ Linkedin ä¸Šçš„æœ‹å‹æ¨è wtfpython,</p>
<p><a href="https://twitter.com/intent/tweet?url=https://github.com/satwikkansal/wtfpython&amp;hastags=python,wtfpython">Twitter</a> | <a href="https://www.linkedin.com/shareArticle?url=https://github.com/satwikkansal&amp;title=What the f*ck Python!&amp;summary=An interesting collection of subtle and tricky Python snippets.">Linkedin</a></p>
<h2 id="need-a-pdf-versionéœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„">Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?</h2>
<p>æˆ‘æ”¶åˆ°ä¸€äº›æƒ³è¦pdfç‰ˆæœ¬çš„éœ€æ±‚. ä½ å¯ä»¥å¿«é€Ÿåœ¨<a href="https://satwikkansal.xyz/wtfpython-pdf/">è¿™</a>è·å¾—.</p>
<h2 id="follow-commitè¿½è¸ªcommit">Follow Commit/è¿½è¸ªCommit</h2>
<p>è¿™æ˜¯ä¸­æ–‡ç‰ˆ fork æ—¶æ‰€å¤„çš„åŸåº“ Commit, å½“åŸåº“æ›´æ–°æ—¶æˆ‘ä¼šè·Ÿéšæ›´æ–°.</p>
<p><a href="https://github.com/satwikkansal/wtfpython/commit/30e05a5973930c38cdb59f1c02b85b19b22ac531"><a href="https://img.shields.io/badge/Commit-30e05a-yellow.svg" data-uk-lightbox><img src="https://img.shields.io/badge/Commit-30e05a-yellow.svg" alt="Commit id"></a></a></p>
<h2 id="996icu">996.icu</h2>
<p><a href="https://996.icu"><a href="https://img.shields.io/badge/link-996.icu-red.svg" data-uk-lightbox><img src="https://img.shields.io/badge/link-996.icu-red.svg" alt="996.icu"></a></a></p>
</div>
<hr class="uk-article-divider">
<div class="uk-block uk-block-muted uk-padding-top-remove uk-padding-bottom-remove uk-margin-large-top  book-recommend-wrap">
<div class="uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right">
<div class="uk-margin uk-text-muted "><i class="uk-icon-outdent uk-icon-justify uk-margin-small-right"></i>ä¹¦ç±æ¨è</div>
<div class="books">
<ul class="uk-book-list">
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/165/index.html">
<img class="uk-book-cover" src="../../static/icons/48/python_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/165/index.html">Pythonå­¦ä¹ çŸ¥è¯†åº“</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/94.html">coco369</a>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-badge uk-badge-notification  book-subject" title="python">python</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">85é¡µ</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">2019å¹´5æœˆ26æ—¥</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 190ä¸ª">190</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/68/index.html">
<img class="uk-book-cover" src="../../static/icons/48/python_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/68/index.html">Python èµ„æºå¤§å…¨ä¸­æ–‡ç‰ˆ</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/19.html">ä¼¯ä¹åœ¨çº¿</a>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-badge uk-badge-notification  book-subject" title="python">python</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">1é¡µ</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">2018å¹´6æœˆ6æ—¥</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 10237ä¸ª">10237</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/169/index.html">
<img class="uk-book-cover" src="../../static/icons/48/python_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/169/index.html">PyTorch 1.0 ä¸­æ–‡æ–‡æ¡£ & æ•™ç¨‹</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/18.html">ApacheCN</a>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-badge uk-badge-notification  book-subject" title="python">python</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">87é¡µ</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">2019å¹´5æœˆ26æ—¥</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 874ä¸ª">874</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/78/index.html">
<img class="uk-book-cover" src="../../static/icons/48/java_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/78/index.html">é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/49.html">Alibaba</a>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-badge uk-badge-notification  book-subject" title="java">java</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">24é¡µ</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">2018å¹´6æœˆ24æ—¥</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 9831ä¸ª">9831</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/190/index.html">
<img class="uk-book-cover" src="../../static/icons/48/nginx_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/190/index.html">Nginx ç®¡ç†å‘˜æ‰‹å†Œ</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/107.html">trimstray</a>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-badge uk-badge-notification  book-subject" title="nginx">nginx</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">307é¡µ</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">2019å¹´5æœˆ26æ—¥</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 8424ä¸ª">8424</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/77/index.html">
<img class="uk-book-cover" src="../../static/icons/48/openstack_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/77/index.html">æ·±å…¥ç†è§£ Neutron -- OpenStack ç½‘ç»œå®ç°</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/48.html">yeasy</a>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-badge uk-badge-notification  book-subject" title="openstack">openstack</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">47é¡µ</span>
<span class="uk-margin-small-right  uk-text-middle">â€¢</span>
<span class="uk-margin-small-right  uk-text-middle">2018å¹´6æœˆ24æ—¥</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 136ä¸ª">136</span>
</div>
</div>
</div>
</li>
<hr>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="tm-navbar uk-navbar uk-navbar-attached reader-nav">
<div class="uk-float-left uk-margin-small-top">
<a href="javascript:;" title="ç›®å½•èœå•" class="show-menu  uk-icon-hover  uk-icon-align-justify uk-margin-right"></a>
<div data-uk-dropdown="{mode:'click',pos:'bottom-left'}" class="font-setting-wrap">
<a class="uk-icon-hover uk-icon-font uk-margin-right" aria-label="å­—ä½“è®¾ç½®" href="javascript:;"></a>
<div class="uk-dropdown dropdown-menu">
<div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-reduce">å°å­—</button>
<button class="uk-button-link button size-2 font-enlarge">å¤§å­—</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-1 ">å®‹ä½“</button>
<button class="uk-button-link button size-2 font-2 ">é»‘ä½“</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-3 color-theme-sun "><i class="uk-icon-sun-o"></i>ç™½å¤©</button>
<button class="uk-button-link button size-3 color-theme-eye "><i class="uk-icon-eye"></i>æŠ¤çœ¼</button>
<button class="uk-button-link button size-3 color-theme-moon "><i class="uk-icon-moon-o"></i>å¤œæ™š</button></div>
</div>
</div>
<a class="logo uk-margin-right" href="../../" title="è¿”å›é¦–é¡µ"><img class="" src="../../static/components/images/icon_32.png" /></a>
</div>
<div class="uk-navbar-flip  uk-hidden-small">
<div id="share-box"></div>
</div>
</nav>
<div id="menu-id" class="uk-offcanvas reader-offcanvas">
<div class="uk-offcanvas-bar">
<ul class="book-menu-bar uk-nav uk-nav-offcanvas" data-uk-nav>
<li>
<a href="../../book/166/index.html" data-book-page-rel-url="index.html" data-book-page-id="0" title="å°é¢">å°é¢</a>
</li>
<li>
<a class="pjax" href="../../book/166/readme.html" data-book-page-rel-url="readme.html" data-book-page-id="0" title="ç®€ä»‹">ç®€ä»‹</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#table-of-contentsç›®å½•" title="Table of Contents/ç›®å½•" data-book-page-rel-url="README.html#table-of-contentsç›®å½•" data-book-page-id="11403">Table of Contents/ç›®å½•</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#structure-of-the-examplesç¤ºä¾‹ç»“æ„" title="Structure of the Examples/ç¤ºä¾‹ç»“æ„" data-book-page-rel-url="README.html#structure-of-the-examplesç¤ºä¾‹ç»“æ„" data-book-page-id="11404">Structure of the Examples/ç¤ºä¾‹ç»“æ„</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#usageç”¨æ³•" title="Usage/ç”¨æ³•" data-book-page-rel-url="README.html#usageç”¨æ³•" data-book-page-id="11405">Usage/ç”¨æ³•</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-examplesç¤ºä¾‹" title="ğŸ‘€ Examples/ç¤ºä¾‹" data-book-page-rel-url="README.html#-examplesç¤ºä¾‹" data-book-page-id="11406">ğŸ‘€ Examples/ç¤ºä¾‹</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#section-strain-your-brainå¤§è„‘è¿åŠ¨" title="Section: Strain your brain!/å¤§è„‘è¿åŠ¨!" data-book-page-rel-url="README.html#section-strain-your-brainå¤§è„‘è¿åŠ¨" data-book-page-id="11407">Section: Strain your brain!/å¤§è„‘è¿åŠ¨!</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#-strings-can-be-tricky-sometimeså¾®å¦™çš„å­—ç¬¦ä¸²-" title="> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *" data-book-page-rel-url="README.html#-strings-can-be-tricky-sometimeså¾®å¦™çš„å­—ç¬¦ä¸²-" data-book-page-id="11408">> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-time-for-some-hash-browniesæ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†" title="> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!" data-book-page-rel-url="README.html#-time-for-some-hash-browniesæ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†" data-book-page-id="11409">> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-return-return-everywhereåˆ°å¤„è¿”å›" title="> Return return everywhere!/åˆ°å¤„è¿”å›ï¼" data-book-page-rel-url="README.html#-return-return-everywhereåˆ°å¤„è¿”å›" data-book-page-id="11410">> Return return everywhere!/åˆ°å¤„è¿”å›ï¼</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-deep-down-were-all-the-sameæœ¬è´¨ä¸Šæˆ‘ä»¬éƒ½ä¸€æ ·-" title="> Deep down, we're all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *" data-book-page-rel-url="README.html#-deep-down-were-all-the-sameæœ¬è´¨ä¸Šæˆ‘ä»¬éƒ½ä¸€æ ·-" data-book-page-id="11411">> Deep down, we're all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-for-whatä¸ºä»€ä¹ˆ" title="> For what?/ä¸ºä»€ä¹ˆ?" data-book-page-rel-url="README.html#-for-whatä¸ºä»€ä¹ˆ" data-book-page-id="11412">> For what?/ä¸ºä»€ä¹ˆ?</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-evaluation-time-discrepancyæ‰§è¡Œæ—¶æœºå·®å¼‚" title="> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚" data-book-page-rel-url="README.html#-evaluation-time-discrepancyæ‰§è¡Œæ—¶æœºå·®å¼‚" data-book-page-id="11413">> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-is-is-not-what-it-iså‡ºäººæ„æ–™çš„is" title="> `is` is not what it is!/å‡ºäººæ„æ–™çš„`is`!" data-book-page-rel-url="README.html#-is-is-not-what-it-iså‡ºäººæ„æ–™çš„is" data-book-page-id="11414">> `is` is not what it is!/å‡ºäººæ„æ–™çš„`is`!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-a-tic-tac-toe-where-x-wins-in-the-first-attemptä¸€è¹´å³è‡³" title="> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!" data-book-page-rel-url="README.html#-a-tic-tac-toe-where-x-wins-in-the-first-attemptä¸€è¹´å³è‡³" data-book-page-id="11415">> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-the-sticky-output-functionéº»çƒ¦çš„è¾“å‡º" title="> The sticky output function/éº»çƒ¦çš„è¾“å‡º" data-book-page-rel-url="README.html#-the-sticky-output-functionéº»çƒ¦çš„è¾“å‡º" data-book-page-id="11416">> The sticky output function/éº»çƒ¦çš„è¾“å‡º</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-is-not--is-not-is-not-is-not--ä¸æ˜¯-is-not-" title="> `is not ...` is not `is (not ...)`/`is not ...` ä¸æ˜¯ `is (not ...)`" data-book-page-rel-url="README.html#-is-not--is-not-is-not-is-not--ä¸æ˜¯-is-not-" data-book-page-id="11417">> `is not ...` is not `is (not ...)`/`is not ...` ä¸æ˜¯ `is (not ...)`</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-the-surprising-commaæ„å¤–çš„é€—å·" title="> The surprising comma/æ„å¤–çš„é€—å·" data-book-page-rel-url="README.html#-the-surprising-commaæ„å¤–çš„é€—å·" data-book-page-id="11418">> The surprising comma/æ„å¤–çš„é€—å·</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-backslashes-at-the-end-of-stringå­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ " title="> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ " data-book-page-rel-url="README.html#-backslashes-at-the-end-of-stringå­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ " data-book-page-id="11419">> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ </a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-not-knotåˆ«çº ç»“" title="> not knot!/åˆ«çº ç»“!" data-book-page-rel-url="README.html#-not-knotåˆ«çº ç»“" data-book-page-id="11420">> not knot!/åˆ«çº ç»“!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-half-triple-quoted-stringsä¸‰ä¸ªå¼•å·" title="> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·" data-book-page-rel-url="README.html#-half-triple-quoted-stringsä¸‰ä¸ªå¼•å·" data-book-page-id="11421">> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-midnight-time-doesnt-existä¸å­˜åœ¨çš„åˆå¤œ" title="> Midnight time doesn't exist?/ä¸å­˜åœ¨çš„åˆå¤œ?" data-book-page-rel-url="README.html#-midnight-time-doesnt-existä¸å­˜åœ¨çš„åˆå¤œ" data-book-page-id="11422">> Midnight time doesn't exist?/ä¸å­˜åœ¨çš„åˆå¤œ?</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-whats-wrong-with-booleanså¸ƒå°”ä½ å’‹äº†" title="> What's wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?" data-book-page-rel-url="README.html#-whats-wrong-with-booleanså¸ƒå°”ä½ å’‹äº†" data-book-page-id="11423">> What's wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-class-attributes-and-instance-attributesç±»å±æ€§å’Œå®ä¾‹å±æ€§" title="> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§" data-book-page-rel-url="README.html#-class-attributes-and-instance-attributesç±»å±æ€§å’Œå®ä¾‹å±æ€§" data-book-page-id="11424">> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-yielding-noneç”Ÿæˆ-none" title="> yielding None/ç”Ÿæˆ None" data-book-page-rel-url="README.html#-yielding-noneç”Ÿæˆ-none" data-book-page-id="11425">> yielding None/ç”Ÿæˆ None</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-mutating-the-immutableå¼ºäººæ‰€éš¾" title="> Mutating the immutable!/å¼ºäººæ‰€éš¾" data-book-page-rel-url="README.html#-mutating-the-immutableå¼ºäººæ‰€éš¾" data-book-page-id="11426">> Mutating the immutable!/å¼ºäººæ‰€éš¾</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-the-disappearing-variable-from-outer-scopeæ¶ˆå¤±çš„å¤–éƒ¨å˜é‡" title="> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡" data-book-page-rel-url="README.html#-the-disappearing-variable-from-outer-scopeæ¶ˆå¤±çš„å¤–éƒ¨å˜é‡" data-book-page-id="11427">> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-when-true-is-actually-falseçœŸäº¦å‡" title="> When True is actually False/çœŸäº¦å‡" data-book-page-rel-url="README.html#-when-true-is-actually-falseçœŸäº¦å‡" data-book-page-id="11428">> When True is actually False/çœŸäº¦å‡</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-from-filled-to-none-in-one-instructionä»æœ‰åˆ°æ— " title="> From filled to None in one instruction.../ä»æœ‰åˆ°æ— ..." data-book-page-rel-url="README.html#-from-filled-to-none-in-one-instructionä»æœ‰åˆ°æ— " data-book-page-id="11429">> From filled to None in one instruction.../ä»æœ‰åˆ°æ— ...</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-subclass-relationshipså­ç±»å…³ç³»-" title="> Subclass relationships/å­ç±»å…³ç³» *" data-book-page-rel-url="README.html#-subclass-relationshipså­ç±»å…³ç³»-" data-book-page-id="11430">> Subclass relationships/å­ç±»å…³ç³» *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-the-mysterious-key-type-conversionç¥ç§˜çš„é”®å‹è½¬æ¢-" title="> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *" data-book-page-rel-url="README.html#-the-mysterious-key-type-conversionç¥ç§˜çš„é”®å‹è½¬æ¢-" data-book-page-id="11431">> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-lets-see-if-you-can-guess-thisçœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹" title="> Let's see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?" data-book-page-rel-url="README.html#-lets-see-if-you-can-guess-thisçœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹" data-book-page-id="11432">> Let's see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#section-appearances-are-deceptiveå¤–è¡¨æ˜¯é ä¸ä½çš„" title="Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!" data-book-page-rel-url="README.html#section-appearances-are-deceptiveå¤–è¡¨æ˜¯é ä¸ä½çš„" data-book-page-id="11433">Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#-skipping-linesè·³è¿‡ä¸€è¡Œ" title="> Skipping lines?/è·³è¿‡ä¸€è¡Œ?" data-book-page-rel-url="README.html#-skipping-linesè·³è¿‡ä¸€è¡Œ" data-book-page-id="11434">> Skipping lines?/è·³è¿‡ä¸€è¡Œ?</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-teleportationç©ºé—´ç§»åŠ¨-" title="> Teleportation/ç©ºé—´ç§»åŠ¨ *" data-book-page-rel-url="README.html#-teleportationç©ºé—´ç§»åŠ¨-" data-book-page-id="11435">> Teleportation/ç©ºé—´ç§»åŠ¨ *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-well-something-is-fishyå—¯æœ‰äº›å¯ç–‘" title="> Well, something is fishy.../å—¯, æœ‰äº›å¯ç–‘..." data-book-page-rel-url="README.html#-well-something-is-fishyå—¯æœ‰äº›å¯ç–‘" data-book-page-id="11436">> Well, something is fishy.../å—¯, æœ‰äº›å¯ç–‘...</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#section-watch-out-for-the-landmineså°å¿ƒåœ°é›·" title="Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!" data-book-page-rel-url="README.html#section-watch-out-for-the-landmineså°å¿ƒåœ°é›·" data-book-page-id="11437">Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#-modifying-a-dictionary-while-iterating-over-itè¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹" title="> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹" data-book-page-rel-url="README.html#-modifying-a-dictionary-while-iterating-over-itè¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹" data-book-page-id="11438">> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-stubborn-del-operatoråšå¼ºçš„-del-" title="> Stubborn `del` operator/åšå¼ºçš„ `del` *" data-book-page-rel-url="README.html#-stubborn-del-operatoråšå¼ºçš„-del-" data-book-page-id="11439">> Stubborn `del` operator/åšå¼ºçš„ `del` *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-deleting-a-list-item-while-iteratingè¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ " title="> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ " data-book-page-rel-url="README.html#-deleting-a-list-item-while-iteratingè¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ " data-book-page-id="11440">> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ </a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-loop-variables-leaking-outå¾ªç¯å˜é‡æ³„æ¼" title="> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!" data-book-page-rel-url="README.html#-loop-variables-leaking-outå¾ªç¯å˜é‡æ³„æ¼" data-book-page-id="11441">> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-beware-of-default-mutable-argumentså½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°" title="> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!" data-book-page-rel-url="README.html#-beware-of-default-mutable-argumentså½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°" data-book-page-id="11442">> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-catching-the-exceptionsæ•è·å¼‚å¸¸" title="> Catching the Exceptions/æ•è·å¼‚å¸¸" data-book-page-rel-url="README.html#-catching-the-exceptionsæ•è·å¼‚å¸¸" data-book-page-id="11443">> Catching the Exceptions/æ•è·å¼‚å¸¸</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-same-operands-different-storyåŒäººä¸åŒå‘½" title="> Same operands, different story!/åŒäººä¸åŒå‘½!" data-book-page-rel-url="README.html#-same-operands-different-storyåŒäººä¸åŒå‘½" data-book-page-id="11444">> Same operands, different story!/åŒäººä¸åŒå‘½!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-the-out-of-scope-variableå¤–éƒ¨ä½œç”¨åŸŸå˜é‡" title="> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡" data-book-page-rel-url="README.html#-the-out-of-scope-variableå¤–éƒ¨ä½œç”¨åŸŸå˜é‡" data-book-page-id="11445">> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-be-careful-with-chained-operationså°å¿ƒé“¾å¼æ“ä½œ" title="> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ" data-book-page-rel-url="README.html#-be-careful-with-chained-operationså°å¿ƒé“¾å¼æ“ä½œ" data-book-page-id="11446">> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-name-resolution-ignoring-class-scopeå¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ" title="> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ" data-book-page-rel-url="README.html#-name-resolution-ignoring-class-scopeå¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ" data-book-page-id="11447">> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-needle-in-a-haystackå¤§æµ·æé’ˆ" title="> Needle in a Haystack/å¤§æµ·æé’ˆ" data-book-page-rel-url="README.html#-needle-in-a-haystackå¤§æµ·æé’ˆ" data-book-page-id="11448">> Needle in a Haystack/å¤§æµ·æé’ˆ</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#section-the-hidden-treasureséšè—çš„å®è—" title="Section: The Hidden treasures!/éšè—çš„å®è—!" data-book-page-rel-url="README.html#section-the-hidden-treasureséšè—çš„å®è—" data-book-page-id="11449">Section: The Hidden treasures!/éšè—çš„å®è—!</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#-okay-python-can-you-make-me-flypython-å¯å¦å¸¦æˆ‘é£-" title="> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *" data-book-page-rel-url="README.html#-okay-python-can-you-make-me-flypython-å¯å¦å¸¦æˆ‘é£-" data-book-page-id="11450">> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-goto-but-whygoto-ä½†ä¸ºä»€ä¹ˆ-" title="> `goto`, but why?/`goto`, ä½†ä¸ºä»€ä¹ˆ? *" data-book-page-rel-url="README.html#-goto-but-whygoto-ä½†ä¸ºä»€ä¹ˆ-" data-book-page-id="11451">> `goto`, but why?/`goto`, ä½†ä¸ºä»€ä¹ˆ? *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-brace-yourselfåšå¥½æ€æƒ³å‡†å¤‡-" title="> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *" data-book-page-rel-url="README.html#-brace-yourselfåšå¥½æ€æƒ³å‡†å¤‡-" data-book-page-id="11452">> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-lets-meet-friendly-language-uncle-for-lifeè®©ç”Ÿæ´»æ›´å‹å¥½-" title="> Let's meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *" data-book-page-rel-url="README.html#-lets-meet-friendly-language-uncle-for-lifeè®©ç”Ÿæ´»æ›´å‹å¥½-" data-book-page-id="11453">> Let's meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-even-python-understands-that-love-is-complicatedè¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„-" title="> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *" data-book-page-rel-url="README.html#-even-python-understands-that-love-is-complicatedè¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„-" data-book-page-id="11454">> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-yes-it-existsæ˜¯çš„-å®ƒå­˜åœ¨" title="> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!" data-book-page-rel-url="README.html#-yes-it-existsæ˜¯çš„-å®ƒå­˜åœ¨" data-book-page-id="11455">> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-inpinityæ— é™-" title="> Inpinity/æ— é™ *" data-book-page-rel-url="README.html#-inpinityæ— é™-" data-book-page-id="11456">> Inpinity/æ— é™ *</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-mangling-timeä¿®é¥°æ—¶é—´-" title="> Mangling time!ä¿®é¥°æ—¶é—´! *" data-book-page-rel-url="README.html#-mangling-timeä¿®é¥°æ—¶é—´-" data-book-page-id="11457">> Mangling time!ä¿®é¥°æ—¶é—´! *</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#section-miscellaneousæ‚é¡¹" title="Section: Miscellaneous/æ‚é¡¹" data-book-page-rel-url="README.html#section-miscellaneousæ‚é¡¹" data-book-page-id="11458">Section: Miscellaneous/æ‚é¡¹</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#--is-fasteræ›´å¿«çš„-" title="> `+=` is faster/æ›´å¿«çš„ `+=`" data-book-page-rel-url="README.html#--is-fasteræ›´å¿«çš„-" data-book-page-id="11459">> `+=` is faster/æ›´å¿«çš„ `+=`</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-lets-make-a-giant-stringæ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§" title="> Let's make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§!" data-book-page-rel-url="README.html#-lets-make-a-giant-stringæ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§" data-book-page-id="11460">> Let's make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§!</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-explicit-typecast-of-stringså­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢" title="> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢" data-book-page-rel-url="README.html#-explicit-typecast-of-stringså­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢" data-book-page-id="11461">> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-minor-oneså°çŸ¥è¯†ç‚¹" title="> Minor Ones/å°çŸ¥è¯†ç‚¹" data-book-page-rel-url="README.html#-minor-oneså°çŸ¥è¯†ç‚¹" data-book-page-id="11462">> Minor Ones/å°çŸ¥è¯†ç‚¹</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#contributingè´¡çŒ®" title="Contributing/è´¡çŒ®" data-book-page-rel-url="README.html#contributingè´¡çŒ®" data-book-page-id="11463">Contributing/è´¡çŒ®</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#acknowledgementsè‡´è°¢" title="Acknowledgements/è‡´è°¢" data-book-page-rel-url="README.html#acknowledgementsè‡´è°¢" data-book-page-id="11464">Acknowledgements/è‡´è°¢</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#-licenseè®¸å¯" title="ğŸ“ License/è®¸å¯" data-book-page-rel-url="README.html#-licenseè®¸å¯" data-book-page-id="11465">ğŸ“ License/è®¸å¯</a>
<ul>
<li>
<a class="pjax" href="../../book/166/README.html#helpå¸®åŠ©" title="Help/å¸®åŠ©" data-book-page-rel-url="README.html#helpå¸®åŠ©" data-book-page-id="11466">Help/å¸®åŠ©</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#surprise-your-geeky-pythonist-friendsæƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ" title="Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?" data-book-page-rel-url="README.html#surprise-your-geeky-pythonist-friendsæƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ" data-book-page-id="11467">Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#need-a-pdf-versionéœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„" title="Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?" data-book-page-rel-url="README.html#need-a-pdf-versionéœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„" data-book-page-id="11468">Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#follow-commitè¿½è¸ªCommit" title="Follow Commit/è¿½è¸ªCommit" data-book-page-rel-url="README.html#follow-commitè¿½è¸ªCommit" data-book-page-id="11469">Follow Commit/è¿½è¸ªCommit</a>
</li>
<li>
<a class="pjax" href="../../book/166/README.html#996icu" title="996.icu" data-book-page-rel-url="README.html#996icu" data-book-page-id="11470">996.icu</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/166/mixed_tabs_and_spaces.py" title="mixed_tabs_and_spaces.py" data-book-page-rel-url="mixed_tabs_and_spaces.py" data-book-page-id="11471">mixed_tabs_and_spaces.py</a>
</li>
</ul>
</div>
</div>
<script src="https://cdn.staticfile.net/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../../static/components/uikit-2.27.5/js/uikit.reader.js"></script>
<script type="text/javascript" src="../../static/components/social-share/social-share.min.js"></script>
<script>(function(){var bp =document.createElement('script');var curProtocol =window.location.protocol.split(':')[0];if (curProtocol ==='https') {bp.src ='https://zz.bdstatic.com/linksubmit/push.js';}
else {bp.src ='http://push.zhanzhang.baidu.com/push.js';}
var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
<script src="https://cdn.staticfile.net/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.staticfile.net/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.staticfile.net/uikit/2.27.5/js/components/lightbox.min.js"></script>
<link rel="dns-prefetch" href="../..//cdn.mathjax.org" />
<script type="text/x-mathjax-config">
 function initMathJax() {
    var mathId = $("book-content-section")[0];
    MathJax.Hub.Config({
        tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a']},
        showProcessingMessages: false,
        messageStyle: "none"
    });
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
 };
initMathJax();
</script>
<script src='https://cdn.staticfile.net/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
<style>
	.MathJax_Display{display:inline!important;}
</style>
<script type="text/javascript" src="../../static/components/js/reader.js"></script>
<script type="text/javascript">var bookId =166;</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</body>
</html>