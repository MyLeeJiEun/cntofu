
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>Data Model-HBase中文参考指南 3.0</title>
<meta content='Data Model,HBase中文参考指南 3.0' name='keywords'>
<meta content='Data Model,HBase中文参考指南 3.0' name='description'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"../../../>
<meta name="applicable-device" content="pc,mobile">
<link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon" />
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="../../../static/components/uikit-2.27.5/css/uikit.custom.css">
<link rel="stylesheet" href="../../../static/components/social-share/social-share.min.css">
<link rel="stylesheet" href="../../../static/components/highlight/styles/custom.css">
<link rel="stylesheet" href="../../../static/components/css/base.css">
<link rel="stylesheet" href="../../../static/components/css/reader.css">
<link rel="stylesheet" href="../../../static/components/css/markdown.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5313208362165053" crossorigin="anonymous"></script>
</head>
<body>
<div class=" book-main-wrap uk-container uk-container-center uk-margin-top ">
<div class="uk-grid">
<div class="uk-width-1-1 reader-wrap ">
<div class=" bottom-nav uk-clearfix ">
<div class="uk-align-left ">
<a href="../../../book/173/docs/4.html">
<i class="nav-icon-left uk-icon-small  uk-icon-caret-left"></i>
<span class="">The Apache ..</span>
</a>
</div>
<div class="uk-align-right ">
<a href="../../../book/173/docs/6.html">
<span class="">HBase and S..</span>
<i class="nav-icon-right uk-icon-small  uk-icon-caret-right"></i>
</a>
</div>
</div>
<div class="uk-text-center">
<h2 class="book-page-title uk-container-center">
<a href="../../../book/173/index.html">HBase中文参考指南 3.0</a>
<a target="_blank" rel="nofollow" href="https://github.com/apachecn/hbase-doc-zh" class="uk-icon-button uk-icon-github" title="github项目地址"></a>
</h2>
</div>
<script type="text/javascript" src="../../../static/components/js/app_intro.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5313208362165053" data-ad-slot="1328047120"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script>
<hr class="uk-article-divider">
<div class="book-content-section  md-content-section  uk-margin-bottom">
<h1 id="数据模型">数据模型</h1>
<p>在 HBase 中，数据存储在由行列构成的二维表中。这是与一个关系数据库（RDBMS）重叠的术语，但这不是一个有用的类比。相反，将 HBase 表视为多维映射会很有帮助。</p>
<p><em>HBase 数据模型术语</em></p>
<p><strong>表</strong></p>
<p>HBase 表由多行组成。</p>
<p><strong>行</strong></p>
<p>HBase 中的一行由一个行键和一个或多个具有与之关联的值的列组成。在行存储时，顺序按照字母进行排序。因此，行键的设计非常重要。其目标是以相关行彼此靠近的方式存储数据。常见的行键模式是网站域名。如果您的行键是域名，则应该反向存储它们（org.apache.www，org.apache.mail，org.apache.jira）。这样，所有 Apache 域名都在表中彼此靠近，而不是基于子域名的第一个字母展开。</p>
<p><strong>列</strong></p>
<p>HBase 中的列由列族和列限定符组成，它们由<code>:</code>（冒号）字符分隔。</p>
<p><strong>列族</strong></p>
<p>出于性能原因，列族通常在物理上拥有一簇列及其值。每个列族都有一组存储属性，例如是否应将其值缓存在内存中，如何压缩其数据或对其行键进行编码等。表中的每一行都具有相同的列族，但给定的行可能不会在给定的列族中存储任何内容。</p>
<p><strong>列限定符</strong></p>
<p>列限定符将添加到列族中，以提供给定数据段的索引。给定列族<code>content</code>，列限定符可能是<code>content:html</code>，另一个可能是<code>content:pdf</code>。虽然列族在创建表时是固定的，但列限定符是可变的，并且行之间可能有很大差异。</p>
<p><strong>单元格</strong></p>
<p>单元格是行，列族和列限定符的组合，它包含一个值和一个时间戳，时间戳表示值的版本。</p>
<p><strong>时间戳</strong></p>
<p>时间戳与每个值一起写入，它是该值给定版本的标识符。默认情况下，时间戳表示写入数据时 RegionServer 上的时间，但是当您将数据放入单元格时，可以指定不同的时间戳值。</p>
<h2 id="21概念视角">21.概念视角</h2>
<p>在 Jim R. Wilson 的博客文章<a href="http://jimbojw.com/#understanding hbase">了解 HBase 和 BigTable</a> 中，可以阅读一篇非常容易理解的关于HBase数据模型的解释。另一个很好的解释可以在 Amandeep Khurana 的 <a href="http://0b4af6cdc2f0c5998459-c0245c5c937c5dedcca3f1764ecc9b2f.r43.cf2.rackcdn.com/9353-login1210_khurana.pdf">基本模式设计简介</a>中找到。</p>
<p>阅读不同的观点可能有助于深入了解 HBase 架构设计。链接的文章与本节中的信息具有相同的基础。</p>
<p>以下示例是 <a href="http://research.google.com/archive/bigtable.html">BigTable</a> 论文第 2 页上的一个略微修改的形式。有一个名为<code>webtable</code>的表包含两行（<code>com.cnn.www</code>和<code>com.example.www</code>）和三个列族，名为<code>contents</code>，<code>anchor</code>和<code>people</code>。在此示例中，对于第一行（<code>com.cnn.www</code>），<code>anchor</code>包含两列（<code>anchor:cssnsi.com</code>，<code>anchor:my.look.ca</code>），<code>contents</code>包含一列（<code>contents:html</code>）。此示例包含具有行键<code>com.cnn.www</code>的行的 5 个版本，以及具有行键<code>com.example.www</code>的行的一个版本。 <code>contents:html</code>列限定符包含给定网站的整个 HTML。 <code>anchor</code>列族的限定符每个都包含指向该行所代表的站点的外部站点的链接，以及它在其链接的<code>anchor</code>中使用的文本。 <code>people</code>列系列表示与该站点关联的人员。</p>
<blockquote>
<p>列名</p>
<p>按照惯例，列名由其列族前缀和<em>限定符</em>组成。例如，列 <em>contents:html</em> 由列族<code>contents</code>和<code>html</code>限定符组成。冒号字符（<code>:</code>）从列族<em>限定符</em>中分隔列族。</p>
</blockquote>
<p><em>表 6. Table</em> <code>webtable</code></p>
<table>
<thead>
<tr>
<th align="left">行键</th>
<th align="left">时间戳</th>
<th align="left">ColumnFamily <code>contents</code></th>
<th align="left">ColumnFamily <code>anchor</code></th>
<th>ColumnFamily <code>people</code></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">“com.cnn.www”</td>
<td align="left">T9</td>
<td align="left"></td>
<td align="left"><code>anchor:cnnsi.com = "CNN"</code></td>
<td></td>
</tr>
<tr>
<td align="left">"com.cnn.www"</td>
<td align="left">T8</td>
<td align="left"></td>
<td align="left"><code>anchor:my.look.ca = "CNN.com"</code></td>
<td></td>
</tr>
<tr>
<td align="left">"com.cnn.www"</td>
<td align="left">T6</td>
<td align="left"><code>contents:html = "&lt;html&gt;…"</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr>
<td align="left">"com.cnn.www"</td>
<td align="left">T5</td>
<td align="left"><code>contents:html = "&lt;html&gt;…"</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr>
<td align="left">"com.cnn.www"</td>
<td align="left">T3</td>
<td align="left"><code>contents:html = "&lt;html&gt;…"</code></td>
<td align="left"></td>
<td></td>
</tr>
<tr>
<td align="left">“com.example.www”</td>
<td align="left">t5</td>
<td align="left"><code>contents:html = "&lt;html&gt;…"</code></td>
<td align="left"></td>
<td><code>people:author = "John Doe"</code></td>
</tr>
</tbody>
</table>
<p>此表中看起来为空的单元格在 HBase 中不占用空间，或实际上不存在。这就是 HBase“稀疏”的原因。表格视图不是查看 HBase 中数据的唯一方法，甚至也不是最准确的方法。以下表示与多维映射相同的信息。这只是一个出于演示目的的模型，可能并不完全准确。</p>
<pre><code>{
  "com.cnn.www": {
    contents: {
      t6: contents:html: "&lt;html&gt;..."
      t5: contents:html: "&lt;html&gt;..."
      t3: contents:html: "&lt;html&gt;..."
    }
    anchor: {
      t9: anchor:cnnsi.com = "CNN"
      t8: anchor:my.look.ca = "CNN.com"
    }
    people: {}
  }
  "com.example.www": {
    contents: {
      t5: contents:html: "&lt;html&gt;..."
    }
    anchor: {}
    people: {
      t5: people:author: "John Doe"
    }
  }
} 
</code></pre>
<hr>
<h2 id="22物理视角">22.物理视角</h2>
<p>虽然在概念级别，表可以被视为一系列稀疏的行，但在物理意义上它们是按照列族存储的。可以随时将新的列限定符（column_family:column_qualifier）添加到现有列族中。</p>
<p><em>表 7. ColumnFamily</em> <code>webtable</code></p>
<table>
<thead>
<tr>
<th>Row Key</th>
<th>Time Stamp</th>
<th>列族<code>anchor</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>"com.cnn.www"</code></td>
<td>t9</td>
<td><code>anchor:cnnsi.com = "CNN"</code></td>
</tr>
<tr>
<td><code>"com.cnn.www"</code></td>
<td>t8</td>
<td><code>anchor:my.look.ca = "CNN.com"</code></td>
</tr>
</tbody>
</table>
<p><em>表 8. ColumnFamily</em> <code>contents</code></p>
<table>
<thead>
<tr>
<th>Row Key</th>
<th>Time Stamp</th>
<th>ColumnFamily <code>contents:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>"com.cnn.www"</code></td>
<td>t6</td>
<td><code>contents:html = "…​"</code></td>
</tr>
<tr>
<td><code>"com.cnn.www"</code></td>
<td>t5</td>
<td><code>contents:html = "…​"</code></td>
</tr>
<tr>
<td><code>"com.cnn.www"</code></td>
<td>t3</td>
<td><code>contents:html = "…​"</code></td>
</tr>
</tbody>
</table>
<p>概念视角中显示的空单元格不占据物理存储空间。因此，在时间戳<code>t8</code>处对<code>contents:html</code>列的值的请求将不返回任何值。类似地，在时间戳<code>t9</code>处对<code>anchor:my.look.ca</code>值的请求将不返回任何值。但是，如果未提供时间戳，则将返回特定列的最新值。给定多个版本，最新版本也是第一个版本，因为时间戳按降序存储。因此，如果没有指定时间戳，则对行<code>com.cnn.www</code>中所有列的值的请求将是：来自时间戳<code>t6</code>的<code>contents:html</code>的值，来自时间戳<code>t9</code>的<code>anchor:cnnsi.com</code>的值，来自时间戳<code>t8</code>的<code>anchor:my.look.ca</code>。</p>
<p>有关 Apache HBase 如何存储数据的内部结构的更多信息，请参见 <a href="#regions.arch">regions.arch</a> 。</p>
<hr>
<h2 id="23命名空间">23.命名空间</h2>
<p>命名空间是与关系数据库系统中的数据库类似的表的逻辑分组。这种抽象为即将出现的多租户相关功能奠定了基础：</p>
<ul>
<li> <p>配额管理（ <a href="https://issues.apache.org/jira/browse/HBASE-8410">HBASE-8410</a> ） - 限制命名空间可以使用的资源数量（即区域，表）。</p> </li>
<li> <p>命名空间安全管理（ <a href="https://issues.apache.org/jira/browse/HBASE-9206">HBASE-9206</a> ） - 为租户提供另一级别的安全管理。</p> </li>
<li> <p>区域服务器组（ <a href="https://issues.apache.org/jira/browse/HBASE-6721">HBASE-6721</a> ） - 可以将命名空间/表固定到 RegionServers 的子集上，从而保证粗粒度的隔离级别。</p> </li>
</ul>
<h3 id="231命名空间管理">23.1.命名空间管理</h3>
<p>可以创建，删除或更改命名空间。通过指定表单的完全限定表名，在表创建期间确定命名空间成员资格：</p>
<pre><code class="language-xml">&lt;table namespace&gt;:&lt;table qualifier&gt; 
</code></pre>
<p><em>例 7</em></p>
<pre><code>#Create a namespace
create_namespace 'my_ns' 
</code></pre>
<pre><code>#create my_table in my_ns namespace
create 'my_ns:my_table', 'fam' 
</code></pre>
<pre><code>#drop namespace
drop_namespace 'my_ns' 
</code></pre>
<pre><code>#alter namespace
alter_namespace 'my_ns', {METHOD =&gt; 'set', 'PROPERTY_NAME' =&gt; 'PROPERTY_VALUE'} 
</code></pre>
<h3 id="232预定义的名称空间">23.2.预定义的名称空间</h3>
<p>有两个预定义的特殊命名空间：</p>
<ul>
<li>hbase - 系统命名空间，用于包含 HBase 内部表</li>
<li>default - 没有明确指定名称空间的表将自动落入此名称空间</li>
</ul>
<p><em>例 8</em></p>
<pre><code>#namespace=foo and table qualifier=bar
create 'foo:bar', 'fam'

#namespace=default and table qualifier=bar
create 'bar', 'fam' 
</code></pre>
<hr>
<h2 id="24表">24.表</h2>
<p>表在模式定义时预先声明。</p>
<hr>
<h2 id="25行">25.行</h2>
<p>行键是未解释的字节。行按字典顺序排序，最低顺序首先出现在表中。空字节数组用于表示表的名称空间的开始和结束。</p>
<hr>
<h2 id="26列族">26.列族</h2>
<p>Apache HBase 中的列分组为列族。列族的所有列成员都具有相同的前缀。例如，列 <em>courses:history</em>和<em>courses:math</em>都是<em>courses</em> 列族的成员。冒号字符（<code>:</code>）从列族限定符中分隔列族。列族前缀必须由可打印字符组成。限定符尾部(列族限定符)可以由任意字节组成。列族必须在模式定义时预先声明，而列不需要在模式定义时定义，但可以在表启动和运行时动态变化。</p>
<p>从物理上讲，所有列族成员都存储在文件系统中。由于调优和存储规范是在列族级别完成的，因此建议所有列族成员具有相同的一般访问模式和大小特征。</p>
<hr>
<h2 id="27单元格">27.单元格</h2>
<p><em>{row，column，version}</em> 元组确切地指定了 HBase 中的<code>cell</code>。单元格内容是未解释的字节</p>
<hr>
<h2 id="28数据模型操作">28.数据模型操作</h2>
<p>四个主要的数据模型操作是 Get，Put，Scan 和 Delete。通过<a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Table.html">表</a>实例应用操作。</p>
<h3 id="281get">28.1.Get</h3>
<p><a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Get.html">Get</a> 操作返回指定行的属性。Get操作通过 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Table.html#get-org.apache.hadoop.hbase.client.Get-">Table.get</a> 执行</p>
<h3 id="282put">28.2.Put</h3>
<p><a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Put.html">Put</a> 操作添加到表中的新行（如果键是新的）或者可以更新现有行（如果键已存在）。 Puts 通过 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Table.html#put-org.apache.hadoop.hbase.client.Put-">Table.put</a> （非 writeBuffer）或 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Table.html#batch-java.util.List-java.lang.Object:A-">Table.batch</a> （非 writeBuffer）执行</p>
<h3 id="283scan">28.3.Scan</h3>
<p><a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Scan.html">Scan</a> 允许对指定属性的多行进行迭代。</p>
<p>下面是对表进行扫描的示例。假设一个表填充了具有键“row1”，“row2”，“row3”的行，然后是另一组具有键“abc1”，“abc2”和“abc3”的行。以下示例将展示如何设置 Scan 实例以返回以“row”开头的行。</p>
<pre><code class="language-java">public static final byte[] CF = "cf".getBytes();
public static final byte[] ATTR = "attr".getBytes();
...

Table table = ...      // instantiate a Table instance

Scan scan = new Scan();
scan.addColumn(CF, ATTR);
scan.setRowPrefixFilter(Bytes.toBytes("row"));
ResultScanner rs = table.getScanner(scan);
try {
  for (Result r = rs.next(); r != null; r = rs.next()) {
    // process result...
  }
} finally {
  rs.close();  // always close the ResultScanner!
} 
</code></pre>
<p>请注意，通常，为扫描指定特定停止点的最简单方法是使用 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/filter/InclusiveStopFilter.html">InclusiveStopFilter</a> 类。</p>
<h3 id="284delete">28.4.Delete</h3>
<p><a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Delete.html">Delete</a> 操作从表中删除一行。删除通过 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Table.html#delete-org.apache.hadoop.hbase.client.Delete-">Table.delete</a> 执行。</p>
<p>HBase 不会修改现有数据，而是通过创建名为 <em>tombstones</em> 的新标记来处理删除操作。这些<em>tombstones</em> 标记以及删除的值在主要的压缩（major compactions）中得到了清理。</p>
<p>有关删除列版本的更多信息，请参阅 <a href="#version.delete">version.delete</a> ，有关压缩的详细信息，请参阅<a href="#compaction">compaction</a>。</p>
<hr>
<h2 id="29版本">29.版本</h2>
<p><em>{row，column，version}</em> 元组确切地指定了 HBase 中的<code>cell</code>。可以有一个无限数量的单元格，其中行和列相同但单元格地址仅在其版本维度上有所不同。</p>
<p>虽然行和列键表示为字节，但版本则使用长整数（long integer）类型指定。通常这个长时间类型包含时间实例，例如<code>java.util.Date.getTime()</code>或<code>System.currentTimeMillis()</code>返回的时间实例，即：<em>当前时间与 UTC 时间 1970 年 1 月 1 日午夜之间的差异（以毫秒为单位）</em>。</p>
<p>HBase版本维度按递减顺序存储，以便在从存储文件中读取时，首先找到最近的值。</p>
<p>在 HBase 中，<code>cell</code>版本的语义存在很多混淆。特别是：</p>
<ul>
<li> <p>如果对单元格的多次写入具有相同的版本，则只能读取最后写入的内容。</p> </li>
<li> <p>可以按非增加版本顺序写入单元格。</p> </li>
</ul>
<p>下面我们将介绍 HBase 中的版本维度当前是如何工作的。有关 HBase 版本的讨论，请参见 <a href="https://issues.apache.org/jira/browse/HBASE-2406">HBASE-2406</a> 。HBase 中的<a href="https://www.ngdata.com/bending-time-in-hbase/">弯曲时间</a>可以很好地读取 HBase 中的版本或时间维度。它提供了比这里更多的版本控制细节。</p>
<p>在撰写本文时，文章中提到的限制<em>覆盖现有时间戳的值</em>不再适用于 HBase。本节基本上是由 Bruno Dumon 撰写的概要。</p>
<h3 id="291指定要存储的版本数">29.1.指定要存储的版本数</h3>
<p>要存储给定列的最大版本数是列模式的一部分，该值在表创建时指定，或通过<code>alter</code>命令，或通过<code>HColumnDescriptor.DEFAULT_VERSIONS</code>指定。在 HBase 0.96 之前，保留的默认版本数为<code>3</code>，但是在 0.96 中，更新版本已更改为<code>1</code>。</p>
<p>例 9.修改列族的最大版本数</p>
<blockquote>
<p>此示例使用 HBase Shell 在列族<code>f1</code>中保留所有列的最多 5 个版本。您也可以使用 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/HColumnDescriptor.html">HColumnDescriptor</a> 。</p>
<pre><code class="language-shell">hbase&gt; alter ‘t1′, NAME =&gt; ‘f1′, VERSIONS =&gt; 5 
</code></pre>
</blockquote>
<p>例 10.修改列族的最小版本数</p>
<blockquote>
<p>您还可以指定每个列族存储的最小版本数。默认情况下，此值设置为 0，表示该功能已禁用。以下示例通过 HBase Shell 将列族<code>f1</code>中所有列的最小版本数设置为<code>2</code>。您也可以使用 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/HColumnDescriptor.html">HColumnDescriptor</a> 。</p>
<pre><code class="language-shell">hbase&gt; alter ‘t1′, NAME =&gt; ‘f1′, MIN_VERSIONS =&gt; 2 
</code></pre>
</blockquote>
<p>从 HBase 0.98.2 开始，您可以通过在 <em>hbase-site.xml</em> 中设置<code>hbase.column.max.version</code>，为所有新创建的列指定的最大版本数指定全局默认值。参见 <a href="#hbase.column.max.version">hbase.column.max.version</a> 。</p>
<h3 id="292版本和-hbase-操作">29.2.版本和 HBase 操作</h3>
<p>在本节中，我们将查看每个HBase 核心操作的版本维度的行为。</p>
<h4 id="2921getscan">29.2.1.Get/Scan</h4>
<p>Get是在 Scans 之上实现的。以下对 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Get.html">Get</a> 的讨论同样适用于<a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Scan.html">扫描</a>。</p>
<p>默认情况下，即如果未指定显式版本，则在执行<code>get</code>时，将返回版本具有最大值的单元格（可能是也可能不是最新编写的单元格，请参阅后面的内容）。可以通过以下方式修改默认行为：</p>
<ul>
<li> <p>要返回多个版本，请参阅 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Get.html#setMaxVersions--">Get.setMaxVersions（）</a></p> </li>
<li> <p>要返回最新版本以外的其他版本，请参见 <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/Get.html#setTimeRange-long-long-">Get.setTimeRange（）</a></p> <p>要检索小于或等于给定值的最新版本，从而在某个时间点给出记录的“最新”状态，只需使用从 0 到所需版本的范围，并将最大版本设置为 1 。</p> </li>
</ul>
<h4 id="2922默认版本的get示例">29.2.2.默认版本的Get示例</h4>
<p>以下 Get 将仅检索行的当前版本</p>
<pre><code class="language-java">public static final byte[] CF = "cf".getBytes();
public static final byte[] ATTR = "attr".getBytes();
...
Get get = new Get(Bytes.toBytes("row1"));
Result r = table.get(get);
byte[] b = r.getValue(CF, ATTR);  // returns current version of value 
</code></pre>
<h4 id="2923给定版本的get示例">29.2.3.给定版本的Get示例</h4>
<p>以下 Get 将返回该行的最后 3 个版本。</p>
<pre><code class="language-java">public static final byte[] CF = "cf".getBytes();
public static final byte[] ATTR = "attr".getBytes();
...
Get get = new Get(Bytes.toBytes("row1"));
get.setMaxVersions(3);  // will return last 3 versions of row
Result r = table.get(get);
byte[] b = r.getValue(CF, ATTR);  // returns current version of value
List&lt;KeyValue&gt; kv = r.getColumn(CF, ATTR);  // returns all versions of this column 
</code></pre>
<h4 id="2924put">29.2.4.Put</h4>
<p>执行 put 总是在某个时间戳创建<code>cell</code>的新版本。默认情况下，系统使用服务器的<code>currentTimeMillis</code>，但您可以在针对每一列指定版本（=长整数）。这意味着您可以在过去或将来指定时间，或者将long值用于非时间目的。</p>
<p>要覆盖现有值，请在与要覆盖的单元格完全相同的行，列和版本上执行 put。</p>
<p><strong>隐式版本示例</strong></p>
<p>HBase 将使用当前时间隐式地对以下 Put 进行版本控制。</p>
<pre><code class="language-java">public static final byte[] CF = "cf".getBytes();
public static final byte[] ATTR = "attr".getBytes();
...
Put put = new Put(Bytes.toBytes(row));
put.add(CF, ATTR, Bytes.toBytes( data));
table.put(put); 
</code></pre>
<p><strong>显式版本示例</strong></p>
<p>以下 Put 具有显式设置的版本时间戳。</p>
<pre><code class="language-java">public static final byte[] CF = "cf".getBytes();
public static final byte[] ATTR = "attr".getBytes();
...
Put put = new Put( Bytes.toBytes(row));
long explicitTimeInMs = 555;  // just an example
put.add(CF, ATTR, explicitTimeInMs, Bytes.toBytes(data));
table.put(put); 
</code></pre>
<p>注意：HBase 内部使用版本时间戳来处理生存时间计算等事情。通常最好避免自己设置此时间戳。首选使用行的单独时间戳属性，或将时间戳作为行键的一部分，或两者都使用。</p>
<h4 id="2925delete">29.2.5.Delete</h4>
<p>有三种不同类型的内部删除标记。请参阅 Lars Hofhansl 的博客，讨论他试图添加另一个，<a href="http://hadoop-hbase.blogspot.com/2012/01/scanning-in-hbase.html">扫描 HBase：前缀删除标记</a>（Scanning in HBase: Prefix Delete Marker）。</p>
<ul>
<li> <p>删除：对于特定版本的列。</p> </li>
<li> <p>删除列：适用于列的所有版本。</p> </li>
<li> <p>删除系列：适用于特定 ColumnFamily 的所有列</p> </li>
</ul>
<p>删除整行时，HBase 将在内部为每个 ColumnFamily 创建一个tombstone（逻辑删除标记），而不是每个单独的列。</p>
<p>通过创建<em>tombstone</em>标记删除工作。例如，假设我们要删除一行。为此您可以指定版本，否则默认使用<code>currentTimeMillis</code>。这意味着 <em>删除版本小于或等于此版本的所有单元格</em>。 HBase 从不在原址修改数据，因此例如delete操作不会立即删除(或标记为已删除)存储文件中与delete条件相对应的条目。相反，标记一个tombstone标志，它将屏蔽删除的值。当HBase进行主要压缩时，将处理tombstone来实际删除值，同时删除tombstone标记。如果删除行时指定的版本大于行中任何值的版本，则删除整行。</p>
<p>有关删除和版本控制如何交互的信息性讨论，请参阅用户邮件列表中的思路 <a href="http://comments.gmane.org/gmane.comp.java.hadoop.hbase.user/28421">Put w / timestamp→Deleteall→Put w / timestamp failed</a> 。</p>
<p>有关内部 KeyValue 格式的更多信息，另请参见 <a href="#keyvalue">keyvalue</a> 。</p>
<p>除非在列族中设置<code>KEEP_DELETED_CELLS</code>选项，否则在下一次主要压缩存储期间将清除删除标记（请参阅<a href="#cf.keep.deleted">保留已删除的单元格</a>。要将删除保留一段可配置的时间，可以通过 <em>hbase-site.xml</em> 中的 <code>hbase.hstore.time.to.purge.deletes</code> 属性设置删除 TTL。如果未设置<code>hbase.hstore.time.to.purge.deletes</code>或设置为 0，则在下一次主要压缩过程中将清除所有删除标记，包括将来具有时间戳的标记。否则，将保留具有将来时间戳的删除标记，直到在标记的时间戳加上<code>hbase.hstore.time.to.purge.deletes</code>的值所表示的时间之后发生的主要压缩，以毫秒为单位。</p>
<blockquote>
<p>HBase 0.94中此行为表示对引入的意外更改的修复，在 <a href="https://issues.apache.org/jira/browse/HBASE-10118">HBASE-10118</a> 中得到修复。该变更已被移植到 HBase 0.94 和更新的分支机构。</p>
</blockquote>
<h3 id="293hbase-200-中的可选新版本和删除行为">29.3.HBase-2.0.0 中的可选新版本和删除行为</h3>
<p>在<code>hbase-2.0.0</code>中，操作员可以通过将列描述符属性<code>NEW_VERSION_BEHAVIOR</code>设置为 true 来指定备用版本和删除处理（要在列族描述符上设置属性，必须先禁用该表，然后更改列族描述符）;有关编辑列族描述符属性的示例，请参阅<a href="#cf.keep.deleted">保留已删除单元格</a>。</p>
<p>“新版本行为”撤消了下面列出的限制，即如果在同一位置，<code>Delete</code>操作总是屏蔽<code>Put</code>操作（在相同的行，列族，限定符和时间戳，而无论哪个首先到达）。版本统计也会更改，因为已删除的版本被视为总版本计数。这样做是为了确保在主要的压缩过程中不会改变结果。有关讨论请参阅<code>HBASE-15968</code>以及链接的问题。</p>
<p>目前使用这种新配置运行成本;每次比较时，我们都将计算单元MVCC分解，从而消耗更多的CPU。在测试中，我们发现性能下降在 0％到 25％之间。</p>
<p>如果复制，建议您使用新的串行复制特性（请参阅<code>HBASE-9465</code>;串行复制功能未进入<code>hbase-2.0.0</code>但应该在后续的 hbase-2.x 版本中发布），就像现在一样，突变到达的顺序是一个关键因素。</p>
<h3 id="294目前的限制">29.4.目前的限制</h3>
<p>以下限制在 hbase-2.0.0 中得到解决。请参阅上面的部分，<a href="#new.version.behavior">可选新版本和 HBase-2.0.0中的删除行为</a>。</p>
<h4 id="2941deletes屏蔽puts">29.4.1.Deletes屏蔽Puts</h4>
<p>Deletes操作屏蔽Puts操作，甚至Puts操作发生在Deletes操作之后。参见 <a href="https://issues.apache.org/jira/browse/HBASE-2256">HBASE-2256</a> 。请记住，删除会写一个tombstone（逻辑删除标记），只有在下一次主要压缩运行后才会消失。假设你删除了所有内容⇐T。在此之后你运行了一个带有时间戳⇐T 的新 put。这个 put，即使它发生在删除之后，也会被删除tombstone标记屏蔽。同时执行put操作并不会失败，但是当执行get时，您会注意到put操作没有效果。在主要压缩运行后它将再次开始工作。如果您对行添加使用始终增加的版本，则这些问题不应成为问题。但即使你不关心时间，它们也会发生：只需完成删除并立刻进行put操作，它们有可能在同一毫秒内发生。</p>
<h4 id="2942主压缩会更改查询结果">29.4.2.主压缩会更改查询结果</h4>
<p><em>...在 t1，t2 和 t3 创建三个单元版本，最大版本设置为 2.因此，在获取所有版本时，仅返回 t2 和 t3 处的值。但是如果你在 t2 或 t3 删除了版本，t1 上的版本将再次出现。显然，一旦主压缩运行，这样的行为将不再存在......（参见 <a href="https://www.ngdata.com/bending-time-in-hbase/"> HBase中的弯曲时间</a> 中的垃圾回收部分）</em></p>
<h2 id="30排序顺序">30.排序顺序</h2>
<p>HBase 中所有数据模型的操作都将按照排序顺序返回数据。首先是行，然后是列族，后面是列限定符，最后是时间戳（反向排序，因此首先返回最新的时间戳）。</p>
<h2 id="31列的元数据">31.列的元数据</h2>
<p>列族的内部 KeyValue 实例之外没有列的元数据存储。因此，尽管 HBase 不仅可以支持每行的大量列，而且还可以支持行之间的异构列，因此有必要跟踪列名。</p>
<p>获取列族存在的完整列集合的唯一方法是处理所有行。有关 HBase 如何在内部存储数据的更多信息，请参阅 <a href="#keyvalue">keyvalue</a> 。</p>
<h2 id="32joins">32.Joins</h2>
<p>HBase是否支持join操作是发行版列表上的一个常见问题，这有一个简单的答案：它不会，至少在RDBMS支持它们的方式上是这样（例如，在 SQL 中使用 equi-joins 或 outer-joins）。如本章所述，HBase 中的读取数据模型操作是 Get 和 Scan。</p>
<p>但是，这并不意味着您的应用程序不支持等效的连接功能，但必须自己实现。向HBase写入数据时有两种主要策略，一种是反规范化数据，另一种是在应用程序或MapReduce代码中有查找表并以此在HBase表之间进行连接（并且正如 RDBMS 所示，有几种策略可以根据大小而定这些表，例如，嵌套循环与散列连接）。那么哪种方法最好？这取决于你想要做什么，因此没有一个答案适用于每个用例。</p>
<h2 id="33acid">33.ACID</h2>
<p>参见 <a href="../../../book/173/acid-semantics.html">ACID 语义</a>。更多的，可以参考Lars Hofhansl 写的一份关于<a href="http://hadoop-hbase.blogspot.com/2012/03/acid-in-hbase.html">HBase中ACID</a>的笔记。</p>
</div>
<hr class="uk-article-divider">
<div class="uk-block uk-block-muted uk-padding-top-remove uk-padding-bottom-remove uk-margin-large-top  book-recommend-wrap">
<div class="uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right">
<div class="uk-margin uk-text-muted "><i class="uk-icon-outdent uk-icon-justify uk-margin-small-right"></i>书籍推荐</div>
<div class="books">
<ul class="uk-book-list">
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/116/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/116/index.html">Protocol Buffer 3学习笔记</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/62.html">tzivanmoe</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">37页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年7月1日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 0个">0</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/205/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/205/index.html">从0到1实战微服务架构</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/115.html">skyline75489</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="java">java</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="mysql">mysql</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="netty">netty</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="nginx">nginx</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">62页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2021年10月24日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1个">1</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/200/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/200/index.html">软件开发基础知识宝典</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/112.html">frank-lam</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">20页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2021年10月24日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 0个">0</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/37/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/android_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/37/index.html">安卓逆向系列教程</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/15.html">wizardforcel</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="android">android</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">20页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 87个">87</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/46/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/linux_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/46/index.html">软件开发平台及语言笔记大全(超详细)</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/22.html">jasonblog</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="android">android</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="linux">linux</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="java">java</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="cplusplus">cplusplus</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="python">python</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">1,399页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月30日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 16个">16</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/73/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/go_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/73/index.html">Go语言高级编程</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/44.html">chai2010</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="go">go</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">49页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月8日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 2423个">2423</span>
</div>
</div>
</div>
</li>
<hr>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="tm-navbar uk-navbar uk-navbar-attached reader-nav">
<div class="uk-float-left uk-margin-small-top">
<a href="javascript:;" title="目录菜单" class="show-menu  uk-icon-hover  uk-icon-align-justify uk-margin-right"></a>
<div data-uk-dropdown="{mode:'click',pos:'bottom-left'}" class="font-setting-wrap">
<a class="uk-icon-hover uk-icon-font uk-margin-right" aria-label="字体设置" href="javascript:;"></a>
<div class="uk-dropdown dropdown-menu">
<div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-reduce">小字</button>
<button class="uk-button-link button size-2 font-enlarge">大字</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-1 ">宋体</button>
<button class="uk-button-link button size-2 font-2 ">黑体</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-3 color-theme-sun "><i class="uk-icon-sun-o"></i>白天</button>
<button class="uk-button-link button size-3 color-theme-eye "><i class="uk-icon-eye"></i>护眼</button>
<button class="uk-button-link button size-3 color-theme-moon "><i class="uk-icon-moon-o"></i>夜晚</button></div>
</div>
</div>
<a class="logo uk-margin-right" href="../../../" title="返回首页"><img class="" src="../../../static/components/images/icon_32.png" /></a>
</div>
<div class="uk-navbar-flip  uk-hidden-small">
<div id="share-box"></div>
</div>
</nav>
<div id="menu-id" class="uk-offcanvas reader-offcanvas">
<div class="uk-offcanvas-bar">
<ul class="book-menu-bar uk-nav uk-nav-offcanvas" data-uk-nav>
<li>
<a href="../../../book/173/index.html" data-book-page-rel-url="index.html" data-book-page-id="0" title="封面">封面</a>
</li>
<li>
<a class="pjax" href="../../../book/173/readme.html" data-book-page-rel-url="readme.html" data-book-page-id="0" title="简介">简介</a>
</li>
<li>
<a class="pjax" href="../../../book/173/README.html" title="HBase™ 中文参考指南 3.0" data-book-page-rel-url="README.html" data-book-page-id="11767">HBase™ 中文参考指南 3.0</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/0.html" title="Preface" data-book-page-rel-url="docs/0.html" data-book-page-id="11768">Preface</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/1.html" title="Getting Started" data-book-page-rel-url="docs/1.html" data-book-page-id="11769">Getting Started</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/2.html" title="Apache HBase Configuration" data-book-page-rel-url="docs/2.html" data-book-page-id="11770">Apache HBase Configuration</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/3.html" title="Upgrading" data-book-page-rel-url="docs/3.html" data-book-page-id="11771">Upgrading</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/4.html" title="The Apache HBase Shell" data-book-page-rel-url="docs/4.html" data-book-page-id="11772">The Apache HBase Shell</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/5.html" title="Data Model" data-book-page-rel-url="docs/5.html" data-book-page-id="11773">Data Model</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/6.html" title="HBase and Schema Design" data-book-page-rel-url="docs/6.html" data-book-page-id="11774">HBase and Schema Design</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/7.html" title="RegionServer Sizing Rules of Thumb" data-book-page-rel-url="docs/7.html" data-book-page-id="11775">RegionServer Sizing Rules of Thumb</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/8.html" title="HBase and MapReduce" data-book-page-rel-url="docs/8.html" data-book-page-id="11776">HBase and MapReduce</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/9.html" title="Securing Apache HBase" data-book-page-rel-url="docs/9.html" data-book-page-id="11777">Securing Apache HBase</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/10.html" title="Architecture" data-book-page-rel-url="docs/10.html" data-book-page-id="11778">Architecture</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/11.html" title="In-memory Compaction" data-book-page-rel-url="docs/11.html" data-book-page-id="11779">In-memory Compaction</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/12.html" title="Backup and Restore" data-book-page-rel-url="docs/12.html" data-book-page-id="11780">Backup and Restore</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/13.html" title="Synchronous Replication" data-book-page-rel-url="docs/13.html" data-book-page-id="11781">Synchronous Replication</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/14.html" title="Apache HBase APIs" data-book-page-rel-url="docs/14.html" data-book-page-id="11782">Apache HBase APIs</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/15.html" title="Apache HBase External APIs" data-book-page-rel-url="docs/15.html" data-book-page-id="11783">Apache HBase External APIs</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/16.html" title="Thrift API and Filter Language" data-book-page-rel-url="docs/16.html" data-book-page-id="11784">Thrift API and Filter Language</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/17.html" title="HBase and Spark" data-book-page-rel-url="docs/17.html" data-book-page-id="11785">HBase and Spark</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/18.html" title="Apache HBase Coprocessors" data-book-page-rel-url="docs/18.html" data-book-page-id="11786">Apache HBase Coprocessors</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/19.html" title="Apache HBase Performance Tuning" data-book-page-rel-url="docs/19.html" data-book-page-id="11787">Apache HBase Performance Tuning</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/20.html" title="Troubleshooting and Debugging Apache HBase" data-book-page-rel-url="docs/20.html" data-book-page-id="11788">Troubleshooting and Debugging Apache HBase</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/21.html" title="Apache HBase Case Studies" data-book-page-rel-url="docs/21.html" data-book-page-id="11789">Apache HBase Case Studies</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/22.html" title="Apache HBase Operational Management" data-book-page-rel-url="docs/22.html" data-book-page-id="11790">Apache HBase Operational Management</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/23.html" title="Building and Developing Apache HBase" data-book-page-rel-url="docs/23.html" data-book-page-id="11791">Building and Developing Apache HBase</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/24.html" title="Unit Testing HBase Applications" data-book-page-rel-url="docs/24.html" data-book-page-id="11792">Unit Testing HBase Applications</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/25.html" title="Protobuf in HBase" data-book-page-rel-url="docs/25.html" data-book-page-id="11793">Protobuf in HBase</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/26.html" title="Procedure Framework (Pv2): HBASE-12439" data-book-page-rel-url="docs/26.html" data-book-page-id="11794">Procedure Framework (Pv2): HBASE-12439</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/27.html" title="AMv2 Description for Devs" data-book-page-rel-url="docs/27.html" data-book-page-id="11795">AMv2 Description for Devs</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/28.html" title="ZooKeeper" data-book-page-rel-url="docs/28.html" data-book-page-id="11796">ZooKeeper</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/29.html" title="Community" data-book-page-rel-url="docs/29.html" data-book-page-id="11797">Community</a>
</li>
<li>
<a class="pjax" href="../../../book/173/docs/30.html" title="Appendix" data-book-page-rel-url="docs/30.html" data-book-page-id="11798">Appendix</a>
</li>
</ul>
</div>
</div>
<script src="https://cdn.staticfile.net/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../../../static/components/uikit-2.27.5/js/uikit.reader.js"></script>
<script type="text/javascript" src="../../../static/components/social-share/social-share.min.js"></script>
<script>(function(){var bp =document.createElement('script');var curProtocol =window.location.protocol.split(':')[0];if (curProtocol ==='https') {bp.src ='https://zz.bdstatic.com/linksubmit/push.js';}
else {bp.src ='http://push.zhanzhang.baidu.com/push.js';}
var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
<script src="https://cdn.staticfile.net/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.staticfile.net/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.staticfile.net/uikit/2.27.5/js/components/lightbox.min.js"></script>
<link rel="dns-prefetch" href="../../..//cdn.mathjax.org" />
<script type="text/x-mathjax-config">
 function initMathJax() {
    var mathId = $("book-content-section")[0];
    MathJax.Hub.Config({
        tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a']},
        showProcessingMessages: false,
        messageStyle: "none"
    });
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
 };
initMathJax();
</script>
<script src='https://cdn.staticfile.net/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
<style>
	.MathJax_Display{display:inline!important;}
</style>
<script type="text/javascript" src="../../../static/components/js/reader.js"></script>
<script type="text/javascript">var bookId =173;var bookPageId =11773;var bookPageRelUrl ='docs/5.html';</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</body>
</html>