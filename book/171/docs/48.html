
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>39.正则表达式（`RegExp`）-[译] 写给不耐烦程序员的 JavaScript</title>
<meta content='39.正则表达式（`RegExp`）,[译] 写给不耐烦程序员的 JavaScript' name='keywords'>
<meta content='39.正则表达式（`RegExp`）,[译] 写给不耐烦程序员的 JavaScript' name='description'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"../../../>
<meta name="applicable-device" content="pc,mobile">
<link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon" />
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="../../../static/components/uikit-2.27.5/css/uikit.custom.css">
<link rel="stylesheet" href="../../../static/components/social-share/social-share.min.css">
<link rel="stylesheet" href="../../../static/components/highlight/styles/custom.css">
<link rel="stylesheet" href="../../../static/components/css/base.css">
<link rel="stylesheet" href="../../../static/components/css/reader.css">
<link rel="stylesheet" href="../../../static/components/css/markdown.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5313208362165053" crossorigin="anonymous"></script>
</head>
<body>
<div class=" book-main-wrap uk-container uk-container-center uk-margin-top ">
<div class="uk-grid">
<div class="uk-width-1-1 reader-wrap ">
<div class=" bottom-nav uk-clearfix ">
<div class="uk-align-left ">
<a href="../../../book/171/docs/47.html">
<i class="nav-icon-left uk-icon-small  uk-icon-caret-left"></i>
<span class="">IX.更多标准库</span>
</a>
</div>
<div class="uk-align-right ">
<a href="../../../book/171/docs/49.html">
<span class="">40.日期（`Date..</span>
<i class="nav-icon-right uk-icon-small  uk-icon-caret-right"></i>
</a>
</div>
</div>
<div class="uk-text-center">
<h2 class="book-page-title uk-container-center">
<a href="../../../book/171/index.html">[译] 写给不耐烦程序员的 JavaScript</a>
<a target="_blank" rel="nofollow" href="https://github.com/apachecn/impatient-js-zh" class="uk-icon-button uk-icon-github" title="github项目地址"></a>
</h2>
</div>
<script type="text/javascript" src="../../../static/components/js/app_intro.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5313208362165053" data-ad-slot="1328047120"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script>
<hr class="uk-article-divider">
<div class="book-content-section  md-content-section  uk-margin-bottom">
<h2 id="39-正则表达式regexp">39. 正则表达式（<code>RegExp</code>）</h2>
<blockquote>
<p>原文： <a href="http://exploringjs.com/impatient-js/ch_regular-expressions.html">http://exploringjs.com/impatient-js/ch_regular-expressions.html</a></p>
</blockquote>
<blockquote>
<p><a href="https://img.cntofu.com/book/impatient-js-zh/docs/img/214efb09e8a6ea25668102c7098d3668.svg" data-uk-lightbox><img src="https://img.cntofu.com/book/impatient-js-zh/docs/img/214efb09e8a6ea25668102c7098d3668.svg" alt=""></a><strong>功能的可用性</strong></p>
</blockquote>
<blockquote>
<p>除非另有说明，否则 ES5 及更高版本支持所有正则表达式功能。</p>
</blockquote>
<h3 id="391-创建正则表达式">39.1. 创建正则表达式</h3>
<h4 id="3911-字面义式-vs-构造函数式">39.1.1. 字面义式 vs. 构造函数式</h4>
<p>创建正则表达式的两种主要方法是：</p>
<ul>
<li>字面义式：<code>/abc/ui</code>，被静态编译（在加载时）。</li>
<li>构造函数式：<code>new RegExp('abc', 'ui')</code>，被动态编译（在运行时）
<ul>
<li>第二个参数是可选的。</li>
</ul> </li>
</ul>
<p>两个正则表达式都有相同的两个部分：</p>
<ul>
<li><em>表达式体</em> <code>abc</code> - 实际正则表达式。</li>
<li><em>标志</em> <code>u</code> 和 <code>i</code>。标志配置了表达式模式如何被解释：<code>u</code>切换到 <a href="ch_regular-expressions.html#regexp-unicode-mode">_Unicode 模式 _</a> 。 <code>i</code>启用大小写不敏感匹配。</li>
</ul>
<h4 id="3912-克隆和非破坏性地修改正则表达式">39.1.2. 克隆和非破坏性地修改正则表达式</h4>
<p>构造函数<code>RegExp()</code>有两种变体：</p>
<ul>
<li> <p><code>new RegExp(pattern : string, flags = '')</code></p> <p>通过指定的<code>pattern</code>创建新的正则表达式。如果缺少<code>flags</code>，则使用空字符串<code>''</code>。</p> </li>
<li> <p><code>new RegExp(regExp : RegExp, flags = regExp.flags)</code>[ES6]</p> <p><code>regExp</code>被克隆。如果提供了<code>flags</code>，则它确定副本的标志。</p> </li>
</ul>
<p>第二个变体可用于克隆正则表达式，在修改它们时也是可选的。标志是不可变的，这是改变它们的唯一方法。例如：</p>
<pre><code class="language-JavaScript">function copyAndAddFlags(regExp, flags='') {
  // The constructor doesn’t allow duplicate flags,
  // make sure there aren’t any:
  const newFlags = [...new Set(regExp.flags + flags)].join('');
  return new RegExp(regExp, newFlags);
}
assert.equal(/abc/i.flags, 'i');
assert.equal(copyAndAddFlags(/abc/i, 'g').flags, 'gi');
</code></pre>
<h3 id="392-语法">39.2. 语法</h3>
<h4 id="3921-语法字符">39.2.1. 语法字符</h4>
<p>在正则表达式的顶层，以下 <em>语法字符</em> 是特殊的。它们通过前缀反斜杠（<code>\</code>）进行转义。</p>
<pre><code class="language-JavaScript">\ ^ $ . * + ? ( ) [ ] { } |
</code></pre>
<p>在正则表达式字面义中，您还必须转义斜杠（用<code>new RegExp()</code>就没有必要了）：</p>
<pre><code class="language-JavaScript">&gt; /\//.test('/')
true
&gt; new RegExp('/').test('/')
true
</code></pre>
<h4 id="3922-基本原子">39.2.2. 基本原子</h4>
<p><em>原子</em> 是正则表达式的基本构建块。</p>
<ul>
<li>模式字符：除语法字符（<code>^</code>，<code>$</code>等）外的所有字符。模式字符匹配自己。示例：<code>A b %</code></li>
<li><code>.</code>匹配任何字符。您可以使用标志<code>/s</code>（<code>dotall</code>）来控制点<code>.</code>是否与行终止符匹配（<a href="ch_regular-expressions.html#reg-exp-flags">下面详述</a>）。</li>
<li>字符转义（每个转义匹配一个固定字符）：
<ul>
<li>控制转义（用于一些控制字符）：
<ul>
<li><code>\f</code>：换页（FF）</li>
<li><code>\n</code>：换行（LF）</li>
<li><code>\r</code>：回车（CR）</li>
<li><code>\t</code>：角色列表</li>
<li><code>\v</code>：行列表</li>
</ul> </li>
<li>任意控制字​​符：<code>\cA</code>（Ctrl-A），<code>\cB</code>（Ctrl-B）等。</li>
<li>Unicode 代码单位：<code>\u00E4</code></li>
<li>Unicode 代码点（需要标志<code>/u</code>）：<code>\u{1F44D}</code></li>
</ul> </li>
<li>字符类转义（每个转义匹配一组字符中的一个）：
<ul>
<li><code>\d</code>：数字（与<code>[0-9]</code>相同）
<ul>
<li><code>\D</code>：非数字</li>
</ul> </li>
<li><code>\w</code>：“单词”字符（与<code>[A-Za-z0-9_]</code>相同）
<ul>
<li><code>\W</code>：非单词字符</li>
</ul> </li>
<li><code>\s</code>：空白（空格，制表符，行终止符等）
<ul>
<li><code>\S</code>：非空白</li>
</ul> </li>
<li>Unicode 属性转义（ES2018）：<code>\p{White_Space}</code>，<code>\P{White_Space}</code>等.
<ul>
<li>需要标志<code>/u</code>。</li>
<li>在下一小节中描述。</li>
</ul> </li>
</ul> </li>
</ul>
<h5 id="39221--unicode-属性转义">39.2.2.1. Unicode 属性转义</h5>
<p>Unicode 属性转义看起来像这样：</p>
<ol>
<li><code>\p{prop=value}</code>：匹配属性<code>prop</code>具有值<code>value</code>的所有字符。</li>
<li><code>\P{prop=value}</code>：匹配所有没有属性<code>prop</code>的字符，其值为<code>value</code>。</li>
<li><code>\p{bin_prop}</code>：匹配二进制属性<code>bin_prop</code>为 True 的所有字符。</li>
<li><code>\P{bin_prop}</code>：匹配二进制属性<code>bin_prop</code>为 False 的所有字符。</li>
</ol>
<p>评论：</p>
<ul>
<li> <p>如果设置了标志<code>/u</code>，则只能使用 Unicode 属性转义。没有<code>/u</code>，<code>\p</code>与<code>p</code>相同。</p> </li>
<li> <p>如果属性是<code>General_Category</code>，则表格（3）和（4）可以用作缩写。例如，<code>\p{Lowercase_Letter}</code>是<code>\p{General_Category=Lowercase_Letter}</code>的缩写</p> </li>
</ul>
<p>例子：</p>
<ul>
<li> <p>检查空格：</p> <pre><code class="language-JavaScript">&gt; /^\p{White_Space}+$/u.test('\t \n\r')
true
</code></pre> </li>
<li> <p>检查希腊字母：</p> <pre><code class="language-JavaScript">&gt; /^\p{Script=Greek}+$/u.test('μετά')
true
</code></pre> </li>
<li> <p>删除任何字母：</p> <pre><code class="language-JavaScript">&gt; '1π2ü3é4'.replace(/\p{Letter}/ug, '')
'1234'
</code></pre> </li>
<li> <p>删除小写字母：</p> <pre><code class="language-JavaScript">&gt; 'AbCdEf'.replace(/\p{Lowercase_Letter}/ug, '')
'ACE'
</code></pre> </li>
</ul>
<p>进一步阅读：</p>
<ul>
<li>Unicode 属性及其值的列表：<a href="https://unicode.org/reports/tr44/#Properties">“Unicode 标准附件＃44：Unicode 字符数据库”</a>（编辑：Mark Davis，LaurenţiuIancu，Ken Whistler）</li>
<li>Unicode 属性更深入地转义：“探索 ES2018 和 ES2019”中的章节<a href="http://exploringjs.com/es2018-es2019/ch_regexp-unicode-property-escapes.html">“RegEx Unicode 属性转义”</a></li>
</ul>
<h4 id="3923角色类">39.2.3。角色类</h4>
<ul>
<li> <p>匹配一组字符中的一个：<code>[abc]</code></p>
<ul>
<li>匹配不在集合中的任何字符：<code>[^abc]</code></li>
</ul> </li>
<li> <p>在方括号内，只有以下字符是特殊的，必须进行转义：</p> <pre><code class="language-JavaScript">^ \ - ]
</code></pre> <p><code>^</code>只有先到时才需要进行转义。 <code>-</code>如果是第一个或最后一个，则无需转义</p> </li>
<li> <p>字符转义（<code>\n</code>，<code>\u{1F44D}</code>）和字符类转义（<code>\d</code>，<code>\p{White_Space}</code>）照常工作。</p>
<ul>
<li>例外：在方括号内，<code>\b</code>匹配退格。在其他地方，它匹配单词边界。</li>
</ul> </li>
<li> <p>字符范围通过短划线指定：<code>[a-z]</code>，<code>[^a-z]</code></p> </li>
</ul>
<h4 id="3924-组">39.2.4. 组</h4>
<ul>
<li>位置捕获组：<code>(#+)</code>
<ul>
<li>反向引用：<code>\1</code>，<code>\2</code>等</li>
</ul> </li>
<li>命名捕获组（ES2018）：<code>(?&lt;hashes&gt;#+)</code>
<ul>
<li>反向引用：<code>\k&lt;hashes&gt;</code></li>
</ul> </li>
<li>非捕获组：<code>(?:#+)</code></li>
</ul>
<h4 id="3925-量词">39.2.5. 量词</h4>
<p>默认情况下，以下所有量词都是贪心的：</p>
<ul>
<li><code>?</code>：匹配从不或一次</li>
<li><code>*</code>：匹配零次或多次</li>
<li><code>+</code>：匹配一次或多次</li>
<li><code>{n}</code>：匹配<code>n</code>次</li>
<li><code>{n,}</code>：匹配<code>n</code>次或更多次</li>
<li><code>{n,m}</code>：至少匹配<code>n</code>次，最多<code>m</code>次。</li>
</ul>
<p>为了使他们不情愿，在他们后面加上问号（<code>?</code>）：</p>
<pre><code class="language-JavaScript">&gt; /".*"../../../.exec('"abc"def"')[0]  // greedy
'"abc"def"'
&gt; /".*?"../../../.exec('"abc"def"')[0] // reluctant
'"abc"'
</code></pre>
<h4 id="3926-断言">39.2.6. 断言</h4>
<ul>
<li> <p><code>^</code>仅在输入的开头匹配</p> </li>
<li> <p><code>$</code>仅在输入结束时匹配</p> </li>
<li> <p><code>\b</code>仅匹配单词边界</p>
<ul>
<li><code>\B</code>仅在不在单词边界时匹配</li>
</ul> </li>
<li> <p>向前看:</p>
<ul>
<li>如果<code>pattern</code>匹配下一个（积极前瞻），则<code>(?=«pattern»)</code>匹配。示例（“<code>X</code>后跟小写字母的序列” - 请注意<code>X</code>本身不是匹配的子字符串的一部分）：</li>
</ul> <pre><code class="language-JavaScript">&gt; 'abcX def'.match(/[a-z]+(?=X)/g)
[ 'abc' ]
</code></pre>
<ul>
<li>如果<code>pattern</code>与接下来的内容不匹配，则<code>(?!«pattern»)</code>匹配（消极前瞻）。示例（“小写字母的序列，后面没有<code>X</code>”）</li>
</ul> <pre><code class="language-JavaScript">&gt; 'abcX def'.match(/[a-z]+(?!X)/g)
[ 'ab', 'def' ]
</code></pre>
<ul>
<li>进一步阅读：<a href="http://exploringjs.com/es2018-es2019/ch_regexp-lookbehind-assertions.html">“探索 ES2018 和 ES2019”中的“RegExp lookbehind 断言”</a>（也涵盖了先行断言）</li>
</ul> </li>
<li> <p>向后看 (ES2018):</p>
<ul>
<li>如果<code>pattern</code>与之前的相符，则<code>(?&lt;=«pattern»)</code>匹配（积极后观）</li>
</ul> <pre><code class="language-JavaScript">&gt; 'Xabc def'.match(/(?&lt;=X)[a-z]+/g)
[ 'abc' ]
</code></pre>
<ul>
<li>如果<code>pattern</code>与之前的不匹配，则<code>(?&lt;!«pattern»)</code>匹配（消极后观）</li>
</ul> <pre><code class="language-JavaScript">&gt; 'Xabc def'.match(/(?&lt;!X)[a-z]+/g)
[ 'bc', 'def' ]
</code></pre>
<ul>
<li>进一步阅读：<a href="http://exploringjs.com/es2018-es2019/ch_regexp-lookbehind-assertions.html">“探索 ES2018 和 ES2019”中的“RegExp lookbehind 断言”</a></li>
</ul> </li>
</ul>
<h4 id="3927-分离">39.2.7. 分离（<code>|</code>）</h4>
<p>警告：此运算符的优先级较低。必要时使用组：</p>
<ul>
<li><code>^aa|zz$</code>匹配以<code>aa</code>开头和/或以<code>zz</code>结束的所有字符串。请注意，<code>|</code>的优先级低于<code>^</code>和<code>$</code>。</li>
<li><code>^(aa|zz)$</code>匹配两个字符串<code>'aa'</code>和<code>'zz'</code>。</li>
<li><code>^a(a|z)z$</code>匹配两个字符串<code>'aaz'</code>和<code>'azz'</code>。</li>
</ul>
<h3 id="393-标志">39.3. 标志</h3>
<p>表格 20: 这些是JavaScript支持的正则表达式标志。</p>
<table>
<thead>
<tr>
<th>字面义标志</th>
<th>属性名称</th>
<th>ES</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>g</code></td>
<td><code>global</code></td>
<td>ES3</td>
<td>匹配多次</td>
</tr>
<tr>
<td><code>i</code></td>
<td><code>ignoreCase</code></td>
<td>ES3</td>
<td>不区分大小写</td>
</tr>
<tr>
<td><code>m</code></td>
<td><code>multiline</code></td>
<td>ES3</td>
<td>每行<code>^</code>和<code>$</code>匹配</td>
</tr>
<tr>
<td><code>s</code></td>
<td><code>dotall</code></td>
<td>ES2018</td>
<td>点<code>.</code>匹配行终止符</td>
</tr>
<tr>
<td><code>u</code></td>
<td><code>unicode</code></td>
<td>ES6</td>
<td>Unicode 模式（推荐）</td>
</tr>
<tr>
<td><code>y</code></td>
<td><code>sticky</code></td>
<td>ES6</td>
<td>匹配之间没有字符</td>
</tr>
</tbody>
</table>
<p>JavaScript 中提供了以下正则表达式标志（表格<a href="#tbl:reg-exp-flags-table">20</a> 提供了紧凑的概述）：</p>
<ul>
<li> <p><code>/g</code>（<code>.global</code>）：从根本上改变方法<code>RegExp.prototype.test()</code>，<code>RegExp.prototype.exec()</code>和<code>String.prototype.match()</code>的工作方式。将与这些方法一起详细解释。简而言之：如果没有<code>/g</code>，方法只考虑输入字符串中正则表达式的第一个匹配项。使用<code>/g</code>，他们会考虑所有匹配。</p> </li>
<li> <p><code>/i</code>（<code>.ignoreCase</code>）：打开不区分大小写的匹配：</p> </li>
</ul>
<pre><code class="language-JavaScript">&gt; /a/.test('A')
false
&gt; /a/i.test('A')
true
</code></pre>
<ul>
<li><code>/m</code>（<code>.multiline</code>）：如果该标志打开，<code>^</code>匹配每一行的开头，<code>$</code>匹配每一行的结尾。如果它关闭，<code>^</code>匹配整个输入字符串的开头，<code>$</code>匹配整个输入字符串的结尾。</li>
</ul>
<pre><code class="language-JavaScript">&gt; 'a1\na2\na3'.match(/^a./gm)
[ 'a1', 'a2', 'a3' ]
&gt; 'a1\na2\na3'.match(/^a./g)
[ 'a1' ]
</code></pre>
<ul>
<li> <p><code>/u</code>（<code>.unicode</code>）：该标志用于打开正则表达式的 Unicode 模式。该模式将在下一小节中解释。</p> </li>
<li> <p><code>/y</code>（<code>.sticky</code>）：该标志仅与<code>/g</code>一起使用。当两者都打开时，第一个之后的任何匹配必须直接跟随前一个匹配（它们之间没有任何字符）。</p> </li>
</ul>
<pre><code class="language-JavaScript">&gt; 'a1a2 a3'.match(/a./gy)
[ 'a1', 'a2' ]
&gt; 'a1a2 a3'.match(/a./g)
[ 'a1', 'a2', 'a3' ]
</code></pre>
<ul>
<li><code>/s</code>（<code>.dotall</code>）：默认情况下，点与行终止符不匹配。有了这个标志，它确实：</li>
</ul>
<pre><code class="language-JavaScript">&gt; /./.test('\n')
false
&gt; /./s.test('\n')
true
</code></pre>
<p>旧版 ECMAScript 版本的替代方案：</p>
<pre><code class="language-JavaScript">&gt; /[^]/.test('\n')
true
</code></pre>
<h4 id="3931-标志通过u的-unicode-模式">39.3.1. 标志：通过<code>/u</code>的 Unicode 模式</h4>
<p>标志<code>/u</code>为正则表达式打开特殊的 Unicode 模式。该模式支持多种功能：</p>
<ul>
<li> <p>在模式中，您可以使用 Unicode 代码点转义（例如<code>\u{1F42A}</code>）来指定字符。诸如<code>\u03B1</code>之类的代码单元转义只有四个十六进制数字的范围（等于基本的多语言平面）。</p> </li>
<li> <p>在模式中，您可以使用 Unicode 属性转义（ES2018），例如<code>\p{White_Space}</code>。</p> </li>
<li> <p>现在禁止许多转义（这使得之前的功能成为可能）：</p> </li>
</ul>
<pre><code class="language-JavaScript">&gt; /\a/
/\a/
&gt; /\a/u
SyntaxError: Invalid regular expression: /\a/: Invalid escape

&gt; /\-/
/\-/
&gt; /\-/u
SyntaxError: Invalid regular expression: /\-/: Invalid escape

&gt; /\:/
/\:/
&gt; /\:/u
SyntaxError: Invalid regular expression: /\:/: Invalid escape
</code></pre>
<ul>
<li>匹配的原子单位（“字符”）是代码点，而不是代码单元。</li>
</ul>
<p>以下小节将更详细地解释最后一项。它们使用以下 Unicode 字符来解释原子单位何时是代码点以及何时是代码单元：</p>
<pre><code class="language-JavaScript">const codePoint = '🙂';
const codeUnits = '\uD83D\uDE42'; // UTF-16

assert.equal(codePoint, codeUnits); // same string!
</code></pre>
<p>我只在<code>🙂</code>和<code>\uD83D\uDE42</code>之间切换，以说明 JavaScript 如何看待事物。两者都是等价的，可以在字符串和正则表达式中互换使用。</p>
<h5 id="39311-结果您可以将代码点放在字符类中">39.3.1.1. 结果：您可以将代码点放在字符类中</h5>
<p>使用<code>/u</code>，<code>🙂</code>的两个代码单元被解释为单个字符：</p>
<pre><code class="language-JavaScript">&gt; /^[🙂]$/u.test('🙂')
true
</code></pre>
<p>没有<code>/u</code>，<code>🙂</code>被解释为两个字符：</p>
<pre><code class="language-JavaScript">&gt; /^[\uD83D\uDE42]$/.test('\uD83D\uDE42')
false
&gt; /^[\uD83D\uDE42]$/.test('\uDE42')
true
</code></pre>
<p>请注意，<code>^</code>和<code>$</code>要求输入字符串具有单个字符。这就是为什么第一个结果是<code>false</code>。</p>
<h5 id="39312-结果点运算符匹配代码点而不是代码单元">39.3.1.2. 结果：点运算符（<code>.</code>）匹配代码点，而不是代码单元</h5>
<p>使用<code>/u</code>，点运算符匹配代码点（<code>.match()</code>加<code>/g</code>返回一个包含正则表达式的所有匹配项的数组）：</p>
<pre><code class="language-JavaScript">&gt; '🙂'.match(/./gu).length
1
</code></pre>
<p>没有<code>/u</code>，点运算符匹配单个代码单元：</p>
<pre><code class="language-JavaScript">&gt; '\uD83D\uDE80'.match(/./g).length
2
</code></pre>
<h5 id="39313-后果量词适用于代码点而不是代码单元">39.3.1.3. 后果：量词适用于代码点，而不是代码单元</h5>
<p>使用<code>/u</code>，量词适用于整个前面的代码点：</p>
<pre><code class="language-JavaScript">&gt; /^🙂{3}$/u.test('🙂🙂🙂')
true
</code></pre>
<p>没有<code>/u</code>，量词仅适用于前面的代码单元：</p>
<pre><code class="language-JavaScript">&gt; /^\uD83D\uDE80{3}$/.test('\uD83D\uDE80\uDE80\uDE80')
true
</code></pre>
<h3 id="394-正则表达式对象的属性">39.4. 正则表达式对象的属性</h3>
<p>值得注意的是：</p>
<ul>
<li>严格地说，只有<code>.lastIndex</code>是一个真实的实例属性。所有其他属性都通过 getter 实现。</li>
<li>因此，<code>.lastIndex</code>是唯一可变的属性。所有其他属性都是只读的。如果要更改它们，则需要复制正则表达式（有关详细信息，请参阅<a href="ch_regular-expressions.html#cloning-regexps">克隆部分</a>）。</li>
</ul>
<h4 id="3941-标志作为属性">39.4.1. 标志作为属性</h4>
<p>每个正则表达式标志都作为属性存在，具有更长，更具描述性的名称：</p>
<pre><code class="language-JavaScript">&gt; /a/i.ignoreCase
true
&gt; /a/.ignoreCase
false
</code></pre>
<p>这是标志属性的完整列表：</p>
<ul>
<li><code>.dotall</code>（<code>/s</code>）</li>
<li><code>.global</code>（<code>/g</code>）</li>
<li><code>.ignoreCase</code>（<code>/i</code>）</li>
<li><code>.multiline</code>（<code>/m</code>）</li>
<li><code>.sticky</code>（<code>/y</code>）</li>
<li><code>.unicode</code>（<code>/u</code>）</li>
</ul>
<h4 id="3942-其他财产">39.4.2. 其他财产</h4>
<p>每个正则表达式还具有以下属性：</p>
<ul>
<li><code>.source</code>：正则表达式模式。</li>
</ul>
<pre><code class="language-JavaScript">&gt; /abc/ig.source
'abc'
</code></pre>
<ul>
<li><code>.flags</code>：正则表达式的标志。</li>
</ul>
<pre><code class="language-JavaScript">&gt; /abc/ig.flags
'gi'
</code></pre>
<ul>
<li><code>.lastIndex</code>：当标志<code>/g</code>打开时使用。有关详细信息，请参阅<a href="ch_regular-expressions.html#regexp-flag-g">关于该标志</a>的部分。</li>
</ul>
<h3 id="395-使用正则表达式的方法">39.5. 使用正则表达式的方法</h3>
<h4 id="3951--regexpteststr有匹配吗">39.5.1. <code>regExp.test(str)</code>：有匹配吗？</h4>
<p>如果<code>regExp</code>与<code>str</code>匹配，则正则表达式方法<code>.test()</code>返回<code>true</code>：</p>
<pre><code class="language-JavaScript">&gt; /abc/.test('ABC')
false
&gt; /abc/i.test('ABC')
true
&gt; /\.js$/.test('main.js')
true
</code></pre>
<p>使用<code>.test()</code>时，通常应避免使用<code>/g</code>标志。如果您使用它，每次调用方法时通常不会得到相同的结果：</p>
<pre><code class="language-JavaScript">&gt; const r = /a/g;
&gt; r.test('aab')
true
&gt; r.test('aab')
true
&gt; r.test('aab')
false
</code></pre>
<p>结果是由于<code>/a/</code>在字符串中有两个匹配项。找到所有这些后，<code>.test()</code>返回<code>false</code>。</p>
<h4 id="3952--strsearchregexp匹配的是什么指数">39.5.2. <code>str.search(regExp)</code>：匹配的是什么指数？</h4>
<p>字符串方法<code>.search()</code>返回<code>regExp</code>的第一个索引，其中<code>regExp</code>匹配：</p>
<pre><code class="language-JavaScript">&gt; '_abc_'.search(/abc/)
1
&gt; 'main.js'.search(/\.js$/)
4
</code></pre>
<h4 id="3953--regexpexecstr捕获组">39.5.3. <code>regExp.exec(str)</code>：捕获组</h4>
<h5 id="39531-获取第一场比赛的匹配对象">39.5.3.1. 获取第一场比赛的匹配对象</h5>
<p>如果没有标志<code>/g</code>，<code>.exec()</code>将返回<code>str</code>中<code>regExp</code>的第一个匹配的所有捕获：</p>
<pre><code class="language-JavaScript">assert.deepEqual(
  /(a+)b/.exec('ab aab'),
  {
    0: 'ab',
    1: 'a',
    index: 0,
    input: 'ab aab',
    groups: undefined,
  }
);
</code></pre>
<p>结果是 _ 匹配对象 _ 具有以下属性：</p>
<ul>
<li><code>[0]</code>：正则表达式匹配的完整子字符串</li>
<li><code>[1]</code>：捕获位置组 1（等）</li>
<li><code>.index</code>：匹配发生在哪里？</li>
<li><code>.input</code>：匹配的字符串</li>
<li><code>.groups</code>：命名组的捕获</li>
</ul>
<h5 id="39532-命名组es2018">39.5.3.2. 命名组（ES2018）</h5>
<p>前一个示例包含一个位置组。以下示例演示了命名组：</p>
<pre><code class="language-JavaScript">const regExp = /^(?&lt;key&gt;[A-Za-z]+): (?&lt;value&gt;.*)$/u;
assert.deepEqual(
  regExp.exec('first: Jane'),
  {
    0: 'first: Jane',
    1: 'first',
    2: 'Jane',
    index: 0,
    input: 'first: Jane',
    groups: { key: 'first', value: 'Jane' },
  }
);
</code></pre>
<p>如您所见，命名组<code>key</code>和<code>value</code>也作为位置组存在。</p>
<h5 id="39533-循环多场比赛">39.5.3.3. 循环多场比赛</h5>
<p>如果要检索正则表达式的所有匹配（而不仅仅是第一个），则需要打开标志<code>/g</code>。然后你可以多次调用<code>.exec()</code>并每次获得另一场比赛。在最后一场比赛之后，<code>.exec()</code>返回<code>null</code>。</p>
<pre><code class="language-JavaScript">&gt; const regExp = /(a+)b/g;
&gt; regExp.exec('ab aab')
{ 0: 'ab', 1: 'a', index: 0, input: 'ab aab', groups: undefined }
&gt; regExp.exec('ab aab')
{ 0: 'aab', 1: 'aa', index: 3, input: 'ab aab', groups: undefined }
&gt; regExp.exec('ab aab')
null
</code></pre>
<p>因此，您可以循环所有匹配，如下所示：</p>
<pre><code class="language-JavaScript">const regExp = /(a+)b/g;
const str = 'ab aab';

let match;
// Check for null via truthiness
// Alternative: while ((match = regExp.exec(str)) !== null)
while (match = regExp.exec(str)) {
  console.log(match[1]);
}
// Output:
// 'a'
// 'aa'
</code></pre>
<p>与<code>/g</code>共享正则表达式有一些陷阱，<a href="ch_regular-expressions.html#regexp-flag-g">稍后会解释</a>。</p>
<p><a href="https://img.cntofu.com/book/impatient-js-zh/docs/img/326f85074b5e7828bef014ad113651df.svg" data-uk-lightbox><img src="https://img.cntofu.com/book/impatient-js-zh/docs/img/326f85074b5e7828bef014ad113651df.svg" alt=""></a> <strong>练习：通过<code>.exec()</code></strong> 提取引用文本</p>
<p><code>exercises/reg-exp/extract_quoted_test.js</code></p>
<h4 id="3954--strmatchregexp返回所有匹配的子串">39.5.4. <code>str.match(regExp)</code>：返回所有匹配的子串</h4>
<p>没有<code>/g</code>，<code>.match()</code>就像<code>.exec()</code>一样 - 它返回一个匹配对象。</p>
<p>使用<code>/g</code>，<code>.match()</code>返回与<code>regExp</code>匹配的<code>str</code>的所有子串：</p>
<pre><code class="language-JavaScript">&gt; 'ab aab'.match(/(a+)b/g)  // important: /g
[ 'ab', 'aab' ]
</code></pre>
<p>如果没有匹配，<code>.match()</code>返回<code>null</code>：</p>
<pre><code class="language-JavaScript">&gt; 'xyz'.match(/(a+)b/g)
null
</code></pre>
<p>您可以使用 Or 运算符来保护自己免受<code>null</code>的影响：</p>
<pre><code class="language-JavaScript">const numberOfMatches = (str.match(regExp) || []).length;
</code></pre>
<h4 id="3955--strreplacesearchvalue-replacementvalue">39.5.5. <code>str.replace(searchValue, replacementValue)</code></h4>
<p><code>.replace()</code>有几种不同的模式，具体取决于您为其参数提供的值：</p>
<ul>
<li><code>searchValue</code>是......
<ul>
<li>没有<code>/g</code>的正则表达式：替换第一次出现。</li>
<li>带<code>/g</code>的正则表达式：替换所有出现的事件。</li>
<li>字符串：替换第一次出现（字符串逐字解释，而不是正则表达式）。唉，这意味着字符串作为搜索值的用途有限。在本章的后面，你会发现<a href="ch_regular-expressions.html#escapeForRegExp">是一个工具函数，用于将任意文本转换为正则表达式</a>。</li>
</ul> </li>
<li><code>replacementValue</code>是......
<ul>
<li>字符串：描述替换</li>
<li>功能：计算替换</li>
</ul> </li>
</ul>
<p>下一小节假设正在使用带有<code>/g</code>的正则表达式。</p>
<h5 id="39551--replacementvalue是一个字符串">39.5.5.1. <code>replacementValue</code>是一个字符串</h5>
<p>如果替换值是字符串，则美元符号具有特殊含义 - 它插入与正则表达式匹配的内容：</p>
<table>
<thead>
<tr>
<th>文本</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$$</code></td>
<td>单<code>$</code></td>
</tr>
<tr>
<td><code>$&amp;</code></td>
<td>完全匹配</td>
</tr>
<tr>
<td>`$``</td>
<td>比赛前的文字</td>
</tr>
<tr>
<td><code>$'</code></td>
<td>比赛后的文字</td>
</tr>
<tr>
<td><code>$n</code></td>
<td>捕获位置组<code>n</code>（<code>n</code>&gt; 0）</td>
</tr>
<tr>
<td><code>$&lt;name&gt;</code></td>
<td>捕获命名组<code>name</code></td>
</tr>
</tbody>
</table>
<p>示例：在匹配的子字符串之前，之内和之后插入文本。</p>
<pre><code class="language-JavaScript">&gt; 'a1 a2'.replace(/a/g, "($`|$&amp;|$')")
'(|a|1 a2)1 (a1 |a|2)2'
</code></pre>
<p>示例：插入位置组的捕获。</p>
<pre><code class="language-JavaScript">&gt; const regExp = /^([A-Za-z]+): (.*)$/ug;
&gt; 'first: Jane'.replace(regExp, 'KEY: $1, VALUE: $2')
'KEY: first, VALUE: Jane'
</code></pre>
<p>示例：插入命名组的捕获。</p>
<pre><code class="language-JavaScript">&gt; const regExp = /^(?&lt;key&gt;[A-Za-z]+): (?&lt;value&gt;.*)$/ug;
&gt; 'first: Jane'.replace(regExp, 'KEY: $&lt;key&gt;, VALUE: $&lt;value&gt;')
'KEY: first, VALUE: Jane'
</code></pre>
<h5 id="39552--replacementvalue是一个功能">39.5.5.2. <code>replacementValue</code>是一个功能</h5>
<p>如果替换值是函数，则可以计算每个替换值。在下面的示例中，我们将我们找到的每个非负整数乘以 2。</p>
<pre><code class="language-JavaScript">assert.equal(
  '3 cats and 4 dogs'.replace(/[0-9]+/g, (all) =&gt; 2 * Number(all)),
  '6 cats and 8 dogs'
);
</code></pre>
<p>替换函数获取以下参数。请注意它们与匹配对象的相似程度。这些参数都是位置的，但我已经包含了通常如何命名它们：</p>
<ul>
<li><code>all</code>：完全匹配</li>
<li><code>g1</code>：捕获位置组 1</li>
<li>等等。</li>
<li><code>index</code>：匹配发生在哪里？</li>
<li><code>input</code>：匹配的字符串</li>
<li><code>groups</code>：命名组（对象）的捕获</li>
</ul>
<p><a href="https://img.cntofu.com/book/impatient-js-zh/docs/img/326f85074b5e7828bef014ad113651df.svg" data-uk-lightbox><img src="https://img.cntofu.com/book/impatient-js-zh/docs/img/326f85074b5e7828bef014ad113651df.svg" alt=""></a> <strong>练习：通过<code>.replace()</code>和命名组</strong>更改引号</p>
<p><code>exercises/reg-exp/change_quotes_test.js</code></p>
<h4 id="3956-使用正则表达式的其他方法">39.5.6. 使用正则表达式的其他方法</h4>
<p><code>String.prototype.split()</code>的第一个参数是字符串或正则表达式。如果是后者，则将组捕获的子串添加到方法的结果中：</p>
<pre><code class="language-JavaScript">&gt; 'a : b : c'.split(/( *):( *)/)
[ 'a', ' ', ' ', 'b', ' ', ' ', 'c' ]
</code></pre>
<p>有关更多信息，请参阅<a href="ch_strings.html#string-api-extracting">有关字符串</a>的章节。</p>
<h3 id="396-标志g及其陷阱">39.6. 标志<code>/g</code>及其陷阱</h3>
<p>如果打开<code>/g</code>，以下两个正则表达式方法会执行异常操作：</p>
<ul>
<li><code>RegExp.prototype.exec()</code></li>
<li><code>RegExp.prototype.test()</code></li>
</ul>
<p>然后可以重复调用它们并在字符串中传递所有匹配项。正则表达式的属性<code>.lastIndex</code>用于跟踪字符串中的当前位置。例如：</p>
<pre><code class="language-JavaScript">const r = /a/g;
assert.equal(r.lastIndex, 0);

assert.equal(r.test('aa'), true); // 1st match?
assert.equal(r.lastIndex, 1); // after 1st match

assert.equal(r.test('aa'), true); // 2nd match?
assert.equal(r.lastIndex, 2); // after 2nd match

assert.equal(r.test('aa'), false); // 3rd match?
assert.equal(r.lastIndex, 0); // start over
</code></pre>
<p>那么 flag <code>/g</code>怎么会有问题呢？我们将首先探讨问题然后解决问题。</p>
<h4 id="3961-问题您无法使用标志g内联正则表达式">39.6.1. 问题：您无法使用标志<code>/g</code>内联正则表达式</h4>
<p>无法内联带有<code>/g</code>的正则表达式：例如，在以下<code>while</code>循环中，每次检查条件时都会创建正则表达式。因此，它的<code>.lastIndex</code>始终为零，循环永远不会终止。</p>
<pre><code class="language-JavaScript">let count = 0;
// Infinite loop
while (/a/g.test('babaa')) {
  count++;
}
</code></pre>
<h4 id="3962-问题删除g可能会破坏代码">39.6.2. 问题：删除<code>/g</code>可能会破坏代码</h4>
<p>如果代码需要带有<code>/g</code>的正则表达式并且在<code>.exec()</code>或<code>.test()</code>的结果上有一个循环，那么没有<code>/g</code>的正则表达式会导致无限循环：</p>
<pre><code class="language-JavaScript">const regExp = /a/; // Missing: flag /g

let count = 0;
// Infinite loop
while (regExp.test('babaa')) {
  count++;
}
</code></pre>
<p>为什么？因为<code>.test()</code>总是返回第一个结果，<code>true</code>，而不是<code>false</code>。</p>
<h4 id="3963-问题添加g可能会破坏代码">39.6.3. 问题：添加<code>/g</code>可能会破坏代码</h4>
<p>使用<code>.test()</code>时，还有另一个警告：如果要检查正则表达式是否与字符串匹配，则正则表达式必须不具有<code>/g</code>。否则，每次调用<code>.test()</code>时，通常会得到不同的结果：</p>
<pre><code class="language-JavaScript">&gt; const r = /^X/g;
&gt; r.test('Xa')
true
&gt; r.test('Xa')
false
</code></pre>
<p>通常，如果您打算以这种方式使用<code>.test()</code>，则不会添加<code>/g</code>。但是，例如，如果您使用相同的正则表达式进行测试和替换，则会发生这种情况。或者，如果您通过参数获得正则表达式。</p>
<h4 id="3964-问题如果lastindex不为零代码可能会中断">39.6.4. 问题：如果<code>.lastIndex</code>不为零，代码可能会中断</h4>
<p>创建正则表达式时，<code>.lastIndex</code>初始化为零。如果代码曾经收到<code>.lastIndex</code>不为零的正则表达式，它可能会中断。例如：</p>
<pre><code class="language-JavaScript">const regExp = /a/g;
regExp.lastIndex = 4;

let count = 0;
while (regExp.test('babaa')) {
  count++;
}
assert.equal(count, 1); // should be 3
</code></pre>
<p>如果正则表达式被共享且未正确处理，则<code>.lastIndex</code>不为零可能相对容易发生。</p>
<h4 id="3965-处理g和lastindex">39.6.5. 处理<code>/g</code>和<code>.lastIndex</code></h4>
<p>请考虑以下情形：您想要实现一个函数<code>countOccurrences(regExp, str)</code>，它计算<code>regExp</code>在<code>str</code>内​​的匹配频率。你如何防止错误的<code>regExp</code>破坏你的代码？我们来看看三种方法。</p>
<p>首先，如果未设置<code>/g</code>或<code>.lastIndex</code>不为零，则可以抛出异常：</p>
<pre><code class="language-JavaScript">function countOccurrences(regExp, str) {
  if (!regExp.global) {
    throw new Error('Flag /g of regExp must be set');
  }
  if (regExp.lastIndex !== 0) {
    throw new Error('regExp.lastIndex must be zero');
  }
  
  let count = 0;
  while (regExp.test(str)) {
    count++;
  }
  return count;
}
</code></pre>
<p>其次，您可以克隆参数。这具有额外的好处，即<code>regExp</code>不会改变。</p>
<pre><code class="language-JavaScript">function countOccurrences(regExp, str) {
  const cloneFlags = regExp.flags + (regExp.global ? '' : 'g');
  const clone = new RegExp(regExp, cloneFlags);

  let count = 0;
  while (clone.test(str)) {
    count++;
  }
  return count;
}
</code></pre>
<p>第三，您可以使用<code>.match()</code>计算出现次数 - 这些次数不会改变或取决于<code>.lastIndex</code>。</p>
<pre><code class="language-JavaScript">function countOccurrences(regExp, str) {
  if (!regExp.global) {
    throw new Error('Flag /g of regExp must be set');
  }
  return (str.match(regExp) || []).length;
}
</code></pre>
<h3 id="397-使用正则表达式的技巧">39.7. 使用正则表达式的技巧</h3>
<h4 id="3971-转义正则表达式的任意文本">39.7.1. 转义正则表达式的任意文本</h4>
<p>以下函数会转义任意文本，以便在将其放入正则表达式中时逐字匹配：</p>
<pre><code class="language-JavaScript">function escapeForRegExp(str) {
  return str.replace(/[\\^$.*+?()[\]{}|]/g, '\\$&amp;'); // (A)
}
assert.equal(escapeForRegExp('[yes?]'), String.raw`\[yes\?\]`);
assert.equal(escapeForRegExp('_g_'), String.raw`_g_`);
</code></pre>
<p>在 A 行中，我们转义所有语法字符。请注意，<code>/u</code>禁止许多逃逸：其中包括<code>\:</code>和<code>\-</code>。</p>
<p>这是您可以使用<code>escapeForRegExp()</code>多次替换任意文本的方法：</p>
<pre><code class="language-JavaScript">&gt; const re = new RegExp(escapeForRegExp(':-)'), 'ug');
&gt; ':-) :-) :-)'.replace(re, '🙂')
'🙂 🙂 🙂'
</code></pre>
<h4 id="3972-匹配一切或什么也没有">39.7.2. 匹配一切或什么也没有</h4>
<p>有时，您可能需要一个匹配所有内容的正则表达式。例如，作为标记值。</p>
<ul>
<li>匹配所有内容：<code>/(?:)/</code>（空组匹配所有内容;使其无法捕获，避免不必要的工作）</li>
</ul>
<pre><code class="language-JavaScript">&gt; /(?:)/.test('')
true
&gt; /(?:)/.test('abc')
true
</code></pre>
<ul>
<li>什么都不匹配：<code>/.^/</code>（一旦匹配进展超出第一个字符，<code>^</code>就不再匹配了）</li>
</ul>
<pre><code class="language-JavaScript">&gt; /.^/.test('')
false
&gt; /.^/.test('abc')
false
</code></pre>
</div>
<hr class="uk-article-divider">
<div class="uk-block uk-block-muted uk-padding-top-remove uk-padding-bottom-remove uk-margin-large-top  book-recommend-wrap">
<div class="uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right">
<div class="uk-margin uk-text-muted "><i class="uk-icon-outdent uk-icon-justify uk-margin-small-right"></i>书籍推荐</div>
<div class="books">
<ul class="uk-book-list">
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/61/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/javascript_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/61/index.html">前端开发者手册</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/37.html">dwqs</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="html5">html5</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="javascript">javascript</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="css3">css3</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">92页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月5日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 548个">548</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/51/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/javascript_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/51/index.html">前端开发笔记本</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/28.html">li-xinyang</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="javascript">javascript</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="html5">html5</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="css3">css3</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">67页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月2日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1436个">1436</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/147/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/javascript_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/147/index.html">JSON风格指南</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/79.html">darcyliu</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="javascript">javascript</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">1页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2019年3月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1139个">1139</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/30/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/atom_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/30/index.html">Atom飞行手册</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/15.html">wizardforcel</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="atom">atom</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">41页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 45个">45</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/116/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/116/index.html">Protocol Buffer 3学习笔记</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/62.html">tzivanmoe</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">37页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年7月1日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 0个">0</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/70/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/cplusplus_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/70/index.html">C++ 资源大全中文版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/19.html">伯乐在线</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="cplusplus">cplusplus</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">1页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月6日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1422个">1422</span>
</div>
</div>
</div>
</li>
<hr>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="tm-navbar uk-navbar uk-navbar-attached reader-nav">
<div class="uk-float-left uk-margin-small-top">
<a href="javascript:;" title="目录菜单" class="show-menu  uk-icon-hover  uk-icon-align-justify uk-margin-right"></a>
<div data-uk-dropdown="{mode:'click',pos:'bottom-left'}" class="font-setting-wrap">
<a class="uk-icon-hover uk-icon-font uk-margin-right" aria-label="字体设置" href="javascript:;"></a>
<div class="uk-dropdown dropdown-menu">
<div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-reduce">小字</button>
<button class="uk-button-link button size-2 font-enlarge">大字</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-1 ">宋体</button>
<button class="uk-button-link button size-2 font-2 ">黑体</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-3 color-theme-sun "><i class="uk-icon-sun-o"></i>白天</button>
<button class="uk-button-link button size-3 color-theme-eye "><i class="uk-icon-eye"></i>护眼</button>
<button class="uk-button-link button size-3 color-theme-moon "><i class="uk-icon-moon-o"></i>夜晚</button></div>
</div>
</div>
<a class="logo uk-margin-right" href="../../../" title="返回首页"><img class="" src="../../../static/components/images/icon_32.png" /></a>
</div>
<div class="uk-navbar-flip  uk-hidden-small">
<div id="share-box"></div>
</div>
</nav>
<div id="menu-id" class="uk-offcanvas reader-offcanvas">
<div class="uk-offcanvas-bar">
<ul class="book-menu-bar uk-nav uk-nav-offcanvas" data-uk-nav>
<li>
<a href="../../../book/171/index.html" data-book-page-rel-url="index.html" data-book-page-id="0" title="封面">封面</a>
</li>
<li>
<a class="pjax" href="../../../book/171/readme.html" data-book-page-rel-url="readme.html" data-book-page-id="0" title="简介">简介</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/1.html" title="I.背景" data-book-page-rel-url="docs/1.html" data-book-page-id="11641">I.背景</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/2.html" title="1.关于本书（ES2019 版）" data-book-page-rel-url="docs/2.html" data-book-page-id="11642">1.关于本书（ES2019 版）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/3.html" title="2.常见问题：本书" data-book-page-rel-url="docs/3.html" data-book-page-id="11643">2.常见问题：本书</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/4.html" title="3. JavaScript 的历史和演变" data-book-page-rel-url="docs/4.html" data-book-page-id="11644">3. JavaScript 的历史和演变</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/5.html" title="4.常见问题：JavaScript" data-book-page-rel-url="docs/5.html" data-book-page-id="11645">4.常见问题：JavaScript</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/6.html" title="II.第一步" data-book-page-rel-url="docs/6.html" data-book-page-id="11646">II.第一步</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/7.html" title="5.概览" data-book-page-rel-url="docs/7.html" data-book-page-id="11647">5.概览</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/8.html" title="6.语法" data-book-page-rel-url="docs/8.html" data-book-page-id="11648">6.语法</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/9.html" title="7.在控制台上打印信息（`console.*`）" data-book-page-rel-url="docs/9.html" data-book-page-id="11649">7.在控制台上打印信息（`console.*`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/10.html" title="8.断言 API" data-book-page-rel-url="docs/10.html" data-book-page-id="11650">8.断言 API</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/11.html" title="9.测验和练习入门" data-book-page-rel-url="docs/11.html" data-book-page-id="11651">9.测验和练习入门</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/12.html" title="III.变量和值" data-book-page-rel-url="docs/12.html" data-book-page-id="11652">III.变量和值</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/13.html" title="10.变量和赋值" data-book-page-rel-url="docs/13.html" data-book-page-id="11653">10.变量和赋值</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/14.html" title="11.值" data-book-page-rel-url="docs/14.html" data-book-page-id="11654">11.值</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/15.html" title="12.运算符" data-book-page-rel-url="docs/15.html" data-book-page-id="11655">12.运算符</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/16.html" title="IV.原始值" data-book-page-rel-url="docs/16.html" data-book-page-id="11656">IV.原始值</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/17.html" title="13.非值`undefined`和`null`" data-book-page-rel-url="docs/17.html" data-book-page-id="11657">13.非值`undefined`和`null`</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/18.html" title="14.布尔值" data-book-page-rel-url="docs/18.html" data-book-page-id="11658">14.布尔值</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/19.html" title="15.数字" data-book-page-rel-url="docs/19.html" data-book-page-id="11659">15.数字</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/20.html" title="16. `Math`" data-book-page-rel-url="docs/20.html" data-book-page-id="11660">16. `Math`</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/21.html" title="17. Unicode - 简要介绍（高级）" data-book-page-rel-url="docs/21.html" data-book-page-id="11661">17. Unicode - 简要介绍（高级）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/22.html" title="18.字符串" data-book-page-rel-url="docs/22.html" data-book-page-id="11662">18.字符串</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/23.html" title="19.使用模板字面值和标记模板" data-book-page-rel-url="docs/23.html" data-book-page-id="11663">19.使用模板字面值和标记模板</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/24.html" title="20.符号" data-book-page-rel-url="docs/24.html" data-book-page-id="11664">20.符号</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/25.html" title="V.控制流和数据流" data-book-page-rel-url="docs/25.html" data-book-page-id="11665">V.控制流和数据流</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/26.html" title="21.控制流语句" data-book-page-rel-url="docs/26.html" data-book-page-id="11666">21.控制流语句</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/27.html" title="22.异常处理" data-book-page-rel-url="docs/27.html" data-book-page-id="11667">22.异常处理</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/28.html" title="23.可调用值" data-book-page-rel-url="docs/28.html" data-book-page-id="11668">23.可调用值</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/29.html" title="VI.模块化" data-book-page-rel-url="docs/29.html" data-book-page-id="11669">VI.模块化</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/30.html" title="24.模块" data-book-page-rel-url="docs/30.html" data-book-page-id="11670">24.模块</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/31.html" title="25.单个对象" data-book-page-rel-url="docs/31.html" data-book-page-id="11671">25.单个对象</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/32.html" title="26.原型链和类" data-book-page-rel-url="docs/32.html" data-book-page-id="11672">26.原型链和类</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/33.html" title="七.集合" data-book-page-rel-url="docs/33.html" data-book-page-id="11673">七.集合</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/34.html" title="27.同步迭代" data-book-page-rel-url="docs/34.html" data-book-page-id="11674">27.同步迭代</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/35.html" title="28.数组（`Array`）" data-book-page-rel-url="docs/35.html" data-book-page-id="11675">28.数组（`Array`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/36.html" title="29.类型化数组：处理二进制数据（高级）" data-book-page-rel-url="docs/36.html" data-book-page-id="11676">29.类型化数组：处理二进制数据（高级）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/37.html" title="30.映射（`Map`）" data-book-page-rel-url="docs/37.html" data-book-page-id="11677">30.映射（`Map`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/38.html" title="31. WeakMaps（`WeakMap`）" data-book-page-rel-url="docs/38.html" data-book-page-id="11678">31. WeakMaps（`WeakMap`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/39.html" title="32.集（`Set`）" data-book-page-rel-url="docs/39.html" data-book-page-id="11679">32.集（`Set`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/40.html" title="33. WeakSets（`WeakSet`）" data-book-page-rel-url="docs/40.html" data-book-page-id="11680">33. WeakSets（`WeakSet`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/41.html" title="34.解构" data-book-page-rel-url="docs/41.html" data-book-page-id="11681">34.解构</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/42.html" title="35.同步生成器（高级）" data-book-page-rel-url="docs/42.html" data-book-page-id="11682">35.同步生成器（高级）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/43.html" title="八.异步" data-book-page-rel-url="docs/43.html" data-book-page-id="11683">八.异步</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/44.html" title="36. JavaScript 中的异步编程" data-book-page-rel-url="docs/44.html" data-book-page-id="11684">36. JavaScript 中的异步编程</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/45.html" title="37.异步编程的 Promise" data-book-page-rel-url="docs/45.html" data-book-page-id="11685">37.异步编程的 Promise</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/46.html" title="38.异步函数" data-book-page-rel-url="docs/46.html" data-book-page-id="11686">38.异步函数</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/47.html" title="IX.更多标准库" data-book-page-rel-url="docs/47.html" data-book-page-id="11687">IX.更多标准库</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/48.html" title="39.正则表达式（`RegExp`）" data-book-page-rel-url="docs/48.html" data-book-page-id="11688">39.正则表达式（`RegExp`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/49.html" title="40.日期（`Date`）" data-book-page-rel-url="docs/49.html" data-book-page-id="11689">40.日期（`Date`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/50.html" title="41.创建和解析 JSON（`JSON`）" data-book-page-rel-url="docs/50.html" data-book-page-id="11690">41.创建和解析 JSON（`JSON`）</a>
</li>
<li>
<a class="pjax" href="../../../book/171/docs/51.html" title="42.其余章节在哪里？" data-book-page-rel-url="docs/51.html" data-book-page-id="11691">42.其余章节在哪里？</a>
</li>
</ul>
</div>
</div>
<script src="https://cdn.staticfile.net/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../../../static/components/uikit-2.27.5/js/uikit.reader.js"></script>
<script type="text/javascript" src="../../../static/components/social-share/social-share.min.js"></script>
<script>(function(){var bp =document.createElement('script');var curProtocol =window.location.protocol.split(':')[0];if (curProtocol ==='https') {bp.src ='https://zz.bdstatic.com/linksubmit/push.js';}
else {bp.src ='http://push.zhanzhang.baidu.com/push.js';}
var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
<script src="https://cdn.staticfile.net/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.staticfile.net/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.staticfile.net/uikit/2.27.5/js/components/lightbox.min.js"></script>
<link rel="dns-prefetch" href="../../..//cdn.mathjax.org" />
<script type="text/x-mathjax-config">
 function initMathJax() {
    var mathId = $("book-content-section")[0];
    MathJax.Hub.Config({
        tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a']},
        showProcessingMessages: false,
        messageStyle: "none"
    });
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
 };
initMathJax();
</script>
<script src='https://cdn.staticfile.net/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
<style>
	.MathJax_Display{display:inline!important;}
</style>
<script type="text/javascript" src="../../../static/components/js/reader.js"></script>
<script type="text/javascript">var bookId =171;var bookPageId =11688;var bookPageRelUrl ='docs/48.html';</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</body>
</html>