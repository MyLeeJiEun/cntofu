
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>手把手教你，搭建内网穿透服务简介</title>
<meta content='手把手教你，搭建内网穿透服务' name='keywords'>
<meta content='手把手教你，搭建内网穿透服务' name='description'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"../../>
<meta name="applicable-device" content="pc,mobile">
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" />
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="../../static/components/uikit-2.27.5/css/uikit.custom.css">
<link rel="stylesheet" href="../../static/components/social-share/social-share.min.css">
<link rel="stylesheet" href="../../static/components/highlight/styles/custom.css">
<link rel="stylesheet" href="../../static/components/css/base.css">
<link rel="stylesheet" href="../../static/components/css/reader.css">
<link rel="stylesheet" href="../../static/components/css/markdown.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5313208362165053" crossorigin="anonymous"></script>
</head>
<body>
<div class=" book-main-wrap uk-container uk-container-center uk-margin-top ">
<div class="uk-grid">
<div class="uk-width-1-1 reader-wrap ">
<div class=" bottom-nav uk-clearfix ">
<div class="uk-align-right ">
<a href="../../book/197/README.html#一概述">
<span class="">一、概述</span>
<i class="nav-icon-right uk-icon-small  uk-icon-caret-right"></i>
</a>
</div>
</div>
<div class="uk-text-center">
<h2 class="book-page-title uk-container-center">
<a href="../../book/197/index.html">手把手教你，搭建内网穿透服务</a>
<a target="_blank" rel="nofollow" href="https://github.com/frank-lam/lanproxy-nat" class="uk-icon-button uk-icon-github" title="github项目地址"></a>
</h2>
</div>
<script type="text/javascript" src="../../static/components/js/app_intro.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5313208362165053" data-ad-slot="1328047120"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script>
<hr class="uk-article-divider">
<div class="book-content-section  md-content-section  uk-margin-bottom">
<ul>
<li><a href="#手把手教你搭建内网穿透服务">手把手教你，搭建内网穿透服务</a>
<ul>
<li><a href="#一概述">一、概述</a>
<ul>
<li><a href="#11-什么是内网穿透">1.1 什么是内网穿透</a></li>
<li><a href="#12-什么是-lanproxy">1.2 什么是 lanproxy</a></li>
<li><a href="#13-原理">1.3 原理</a></li>
</ul> </li>
<li><a href="#二快速指南">二、快速指南</a>
<ul>
<li><a href="#硬件与环境要求">硬件与环境要求</a></li>
<li><a href="#提供安装方式">提供安装方式</a></li>
<li><a href="#服务端与客户端">服务端与客户端</a></li>
<li><a href="#docker-hub-镜像">Docker Hub 镜像</a></li>
</ul> </li>
<li><a href="#三公网服务器配置docker-一键启动">三、公网服务器配置（Docker 一键启动）</a>
<ul>
<li><a href="#31-基础环境安装">3.1 基础环境安装</a></li>
<li><a href="#32-docker-启动服务端程序-">3.2 Docker 启动服务端程序 ⭐⭐⭐</a>
<ul>
<li><a href="#方式一docker-run">方式一：docker run</a></li>
<li><a href="#方式二docker-compose">方式二：docker compose</a></li>
</ul> </li>
<li><a href="#33-nginx-反向代理配置域名">3.3 Nginx 反向代理配置域名</a></li>
<li><a href="#34-继续配置-lanproxy-后台服务">3.4 继续配置 lanproxy 后台服务</a></li>
</ul> </li>
<li><a href="#四内网电脑客户端配置">四、内网电脑客户端配置</a>
<ul>
<li><a href="#41-强烈推荐开箱即用的-docker-版客户端-">4.1 强烈推荐：开箱即用的 Docker 版客户端 ⭐⭐⭐</a>
<ul>
<li><a href="#运行-lanproxy-client-服务">运行 lanproxy client 服务</a>
<ul>
<li><a href="#方式一docker-run-1">方式一：docker run</a></li>
<li><a href="#方式二docker-compose">方式二：docker-compose</a></li>
</ul> </li>
<li><a href="#lanproxy-网页后台服务查看">lanproxy 网页后台服务查看</a></li>
</ul> </li>
<li><a href="#42-推荐开箱即用客户端仅需安装-java-环境-">4.2 推荐：开箱即用客户端，仅需安装 Java 环境 ⭐⭐</a>
<ul>
<li><a href="#java-jdk-18-安装">Java JDK 1.8 安装</a></li>
<li><a href="#下载-java-客户端开箱即用">下载 Java 客户端（开箱即用）</a></li>
<li><a href="#运行-lanproxy-client-服务-1">运行 lanproxy client 服务</a></li>
<li><a href="#lanproxy-网页后台服务查看-1">lanproxy 网页后台服务查看</a></li>
</ul> </li>
<li><a href="#43-java-客户端通过-maven-方式安装依赖-">4.3 Java 客户端，通过 Maven 方式安装依赖 ⭐</a>
<ul>
<li><a href="#java-18-安装">Java 1.8 安装</a></li>
<li><a href="#maven-安装">maven 安装</a></li>
<li><a href="#启动内网服务">启动内网服务</a></li>
<li><a href="#运行-lanproxy-client-服务-2">运行 lanproxy client 服务</a></li>
<li><a href="#lanproxy-网页后台服务查看-2">lanproxy 网页后台服务查看</a></li>
</ul> </li>
<li><a href="#44-go-客户端">4.4 Go 客户端</a>
<ul>
<li><a href="#安装-go-环境安装">安装 Go 环境安装</a></li>
<li><a href="#拉取-ffaylanproxy-go-client-代码">拉取 ffay/lanproxy-go-client 代码</a></li>
<li><a href="#安装客户端依赖包">安装客户端依赖包</a></li>
<li><a href="#启动客户端">启动客户端</a></li>
<li><a href="#lanproxy-网页后台服务查看-3">lanproxy 网页后台服务查看</a></li>
</ul> </li>
</ul> </li>
<li><a href="#五总结">五、总结</a></li>
<li><a href="#todo-list">Todo List</a></li>
<li><a href="#参考资料">参考资料</a></li>
<li><a href="#关于作者-boy">关于作者 👦</a></li>
</ul> </li>
</ul>
<h1 id="手把手教你搭建内网穿透服务">手把手教你，搭建内网穿透服务</h1>
<p>在很多场景下内网穿透都是我们常常遇到的需求，之前也用过花生壳、ngrok、FRP 等等一些工具，但是由于限速、收费、安全各方面因素只好放弃了。</p>
<p>目前所在实验室主要从事深度学习和机器学习相关工作，有一台高配 GPU 计算型服务器，大家使用 Jupyter Notebook 在网页上进行编码工作，但是只能在学院内网才能进行使用，在外面就无法使用让人比较抓狂。如果购买阿里云等深度学习服务，价格昂贵，只好决定通过内网穿透实现公网工作。</p>
<p>近期无意间看到 <a href="https://github.com/ffay/lanproxy">「传送门：lanproxy」</a> 这款开源工具，正好实验室购置了一台公网服务器，正好可以实现内网穿透，决定入坑折腾一番。对于有后台开发基础的同学还是挺简单的，不过好记性不如烂笔头，来吧，这里手把手深入探索一番。</p>
<h2 id="一概述">一、概述</h2>
<h3 id="11-什么是内网穿透">1.1 什么是内网穿透</h3>
<p>好吧，先上一段百度百科的定义</p>
<blockquote>
<p>内网穿透，即NAT穿透，网络连接时术语，计算机是局域网内时，外网与内网的计算机节点需要连接通信，有时就会出现不支持内网穿透。</p>
</blockquote>
<p>反正简单来说，就是能通过公网访问你的内网服务，把你的内网通过一台公网服务器，穿透出去。</p>
<h3 id="12-什么是-lanproxy">1.2 什么是 lanproxy</h3>
<p>lanproxy 是一个将局域网个人电脑、服务器代理到公网的内网穿透工具，目前仅支持 tcp 流量转发，可支持任何 tcp 上层协议（访问内网网站、本地支付接口调试、ssh 访问、远程桌面...）。目前市面上提供类似服务的有花生壳、TeamView、GoToMyCloud 等等，但要使用第三方的公网服务器就必须为第三方付费，并且这些服务都有各种各样的限制，此外，由于数据包会流经第三方，因此对数据安全也是一大隐患。<a href="https://lanproxy.io2c.com/">https://lanproxy.io2c.com</a></p>
<h3 id="13-原理">1.3 原理</h3>
<p>内网穿透的原理如下图所示：</p>
<ol>
<li> <p>用户访问我们的服务器，这个服务器是有公网IP的，所以用户可以无压力访问</p> </li>
<li> <p>服务器与本地电脑保持长链接，当有请求的时候，服务器将请求转发到我们的本地电脑</p> </li>
<li> <p>本地电脑将响应回复给服务器</p> </li>
<li> <p>服务器将响应回复给用户</p>
<div align="center">
<a href="https://img.cntofu.com/book/lanproxy-nat/assets/1547174721865.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1547174721865.png" width=""></a>
</div> </li>
</ol>
<p>要搭建内网穿透，我们得完成两个任务</p>
<ol>
<li>在公网能访问的服务器上运行我们的内网穿透服务；</li>
<li>在本地电脑上面运行内网穿透客户端。</li>
</ol>
<p>当然，你可以自己根据原理实现一套，不过我们有现成的三方开源工具，可以帮我们实现这一套功能。这个就是我们今天的主角 <a href="https://github.com/ffay/lanproxy">lanproxy</a>。</p>
<h2 id="二快速指南">二、快速指南</h2>
<blockquote>
<p>这里我将手把手带你配置 lanproxy 穿透服务，这里配置主要分成了 <strong>公网服务器配置</strong>（请按照 2.2 中的说明进行安装） 和 <strong>内网电脑配置</strong>（推荐通过 4.1 中的说明安装） 。</p>
<p>在内网电脑配置中分为：Java 客户端和 GO 客户端</p>
</blockquote>
<h3 id="硬件与环境要求">硬件与环境要求</h3>
<blockquote>
<p>这里以我的环境为例</p>
</blockquote>
<ol>
<li><strong>一台公网服务器</strong>（Centos 7.4，当然这不重要，反正都 docker 啦）
<ul>
<li>docker（简化更多的配置，这里采用 docker 容器进行搭建）</li>
<li>Nginx 环境</li>
</ul> </li>
<li><strong>一台内网电脑</strong>（Ubuntu 16.04）
<ul>
<li>这里提供了四种方式进行客户端启动
<ul>
<li>Docker容器部署</li>
<li>Java &gt; 1.7 的 JDK环境 + 客户端下载</li>
<li>Java &gt; 1.7 的 JDK环境 + maven + 源码下载</li>
<li>Go 客户端下载启动</li>
</ul> </li>
<li>docker 启动服务，tensorflow（jupyter notebook）</li>
</ul> </li>
<li><strong>已备案的域名</strong>（可选）
<ul>
<li>此步骤也可省略，但端口太多通过 Nginx 配合域名进行转发，使用更加优雅。故这里我也将会配置两个公网域名</li>
</ul> </li>
</ol>
<h3 id="提供安装方式">提供安装方式</h3>
<table width="" border="0" cellpadding="0" cellspacing="0">
<colgroup>
<col width="94.47" style="mso-width-source:userset;mso-width-alt:3022;">
<col width="125.47" style="mso-width-source:userset;mso-width-alt:4014;">
<col width="90.27" style="mso-width-source:userset;mso-width-alt:2888;">
<col width="373.73" span="2" style="mso-width-source:userset;mso-width-alt:11959;">
</colgroup>
<tbody>
<tr height="18" style="height:13.50pt;">
<td class="xl65" height="18" width="94.47" style="height:13.50pt;width:70.85pt;" x:str>安装服务</td>
<td class="xl65" width="150" style="width:94.10pt;" x:str>说明</td>
<td class="xl65" width="90.27" style="width:67.70pt;" x:str>推荐</td>
<td class="xl65" width="400" style="width:280.30pt;" x:str>安装方式</td>
</tr>
<tr height="18" style="height:13.50pt;">
<td class="xl66" height="18" style="height:13.50pt;" x:str>服务端</td>
<td class="xl66" x:str>一台公网服务器</td>
<td class="xl66" x:str>⭐⭐⭐</td>
<td x:str>方式1：Docker容器部署</td>
</tr>
<tr height="18" style="height:13.50pt;">
<td class="xl66" height="72" rowspan="4" style="height:54.00pt;border-right:none;border-bottom:none;" x:str>客户端</td>
<td class="xl66" rowspan="4" style="border-right:none;border-bottom:none;" x:str>一台内网电脑</td>
<td class="xl66" x:str>⭐⭐⭐</td>
<td x:str>方式1：Docker容器部署</td>
</tr>
<tr height="18" style="height:13.50pt;">
<td class="xl66" x:str>⭐⭐</td>
<td x:str>方式2：Java &gt; 1.7 的 JDK环境 + 客户端下载</td>
</tr>
<tr height="18" style="height:13.50pt;">
<td class="xl66" x:str>⭐</td>
<td x:str>方式3：Java &gt; 1.7 的 JDK环境 + maven + 源码下载</td>
</tr>
<tr height="18" style="height:13.50pt;">
<td class="xl66" x:str>⭐</td>
<td x:str>方式4：Go 客户端下载启动</td>
</tr>
</tbody>
</table>
<h3 id="服务端与客户端">服务端与客户端</h3>
<table>
<thead>
<tr>
<th>服务</th>
<th>下载地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>lanproxy client for java</td>
<td><a href="https://github.com/frank-lam/lanproxy-client">GitHub</a></td>
</tr>
<tr>
<td>lanproxy server for java</td>
<td><a href="https://github.com/frank-lam/lanproxy-server">GitHub</a></td>
</tr>
</tbody>
</table>
<h3 id="docker-hub-镜像">Docker Hub 镜像</h3>
<table>
<thead>
<tr>
<th>镜像</th>
<th>下载地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>franklin5/lanproxy-server</td>
<td><a href="https://cloud.docker.com/u/franklin5/repository/docker/franklin5/lanproxy-server">Docker Hub</a></td>
</tr>
<tr>
<td>franklin5/lanproxy-client</td>
<td><a href="https://cloud.docker.com/repository/docker/franklin5/lanproxy-client">Docker Hub</a></td>
</tr>
</tbody>
</table>
<h2 id="三公网服务器配置docker-一键启动">三、公网服务器配置（Docker 一键启动）</h2>
<h3 id="31-基础环境安装">3.1 基础环境安装</h3>
<ol>
<li>安装 docker 服务，以 CentOS 7.4 为例</li>
</ol>
<pre><code class="language-shell">1、安装依赖包
$ sudo yum install -y yum-utils  device-mapper-persistent-data  lvm2

2、设置稳定版仓库
$ sudo yum-config-manager   --add-repo  https://download.docker.com/linux/centos/docker-ce.repo

3、安装
//安装最新版本
$ sudo yum install docker-ce

//或者安装指定版本
$ yum list docker-ce --showduplicates | sort -r
    //显示有以下版本
    docker-ce.x86_64            18.03.0.ce-1.el7.centos             docker-ce-stable
//指定一个版本进行安装
$ sudo yum install docker-ce-&lt;VERSION STRING&gt;

4、启动doker
$ sudo systemctl start docker

5、通过运行hello-world镜像验证安装是否成功
$ sudo docker run hello-world
</code></pre>
<ol start="2">
<li>安装 Nginx 服务，以 CentOS 7.4 为例</li>
</ol>
<pre><code class="language-shell">1.添加Nginx到YUM源
$ sudo rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm

2.安装Nginx
$ sudo yum install -y nginx
Nginx将完成安装在你的CentOS 7 服务器中。

3.启动Nginx
$ service nginx start
</code></pre>
<ul>
<li>更多配置请参考：<a href="https://blog.csdn.net/u012486840/article/details/52610320">CentOS 7 yum 安装 Nginx - 菜鸟路上的小白 - CSDN博客</a></li>
</ul>
<h3 id="32-docker-启动服务端程序-">3.2 Docker 启动服务端程序 ⭐⭐⭐</h3>
<h4 id="方式一docker-run">方式一：docker run</h4>
<ul>
<li>通过 Docker，启动 lanproxy 服务，<code>service docker start</code></li>
<li>启动 Docker 后运行一下代码</li>
</ul>
<pre><code class="language-shell">docker run -d \
           --name lanproxy-server \
           -p 8090:8090 \
           -p 4900:4900 \
           -p 4993:4993 \
           -p 9000-9100:9000-9100 \
           --restart=always \
           -e LANPROXY_USERNAME="admin" \
           -e LANPROXY_PASSWORD="admin" \
           -v - /usr/local/docker/lanproxy-server/config-data:/root/.lanproxy \
           franklin5/lanproxy-server
</code></pre>
<ul>
<li>参数：
<ul>
<li>LANPROXY_USERNAME：配置后台管理账号，默认admin</li>
<li>LANPROXY_PASSWORD：配置后台管理密码，默认admin</li>
</ul> </li>
<li>可选：我也为你创建了上述的下载脚本，方便每次的启动</li>
</ul>
<pre><code>wget https://raw.githubusercontent.com/frank-lam/lanproxy-nat/master/docker-server/docker-run.sh
</code></pre>
<p>输入你的公网服务器 IP:8090，例如：<code>http://120.92.10.120:8090</code>，即可看到后台管理 Web 页面。好啦，到这里 lanproxy 的基础环境已经搭建成功，是不是很快，这就是 docker 的魅力。如果不用 docker 启动，请参考 lanproxy 的官方文档。</p>
<p>这里的 9000-9100 即为需要映射的端口地址，可以自定义设置。</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1546568207628.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1546568207628.png" alt="1546568207628"></a></p>
<h4 id="方式二docker-compose">方式二：docker compose</h4>
<ol>
<li>创建 docker-compose.yml 文件</li>
</ol>
<pre><code class="language-yml">version: '3.1'
services:
  lanproxy-client:
    image: franklin5/lanproxy-server
    container_name: lanproxy-server
    environment:
     # 配置后台管理账号，默认admin
     - LANPROXY_USERNAME=admin
     # 配置后台管理密码，默认admin
     - LANPROXY_PASSWORD=admin
    volumes:
     # 用于保存创建的配置文件，避免重启服务后配置消失
     - /usr/local/docker/lanproxy-server/config-data:/root/.lanproxy
    ports:
     - 8090:8090
     - 4900:4900
     - 4993:4993
     - 9000-9100:9000-9100
    restart: always
</code></pre>
<ul>
<li>可选：你可以手工复制创建，当然这里也为你提供方便下载的 <code>docker-compose.yml</code></li>
</ul>
<pre><code class="language-shell">wget https://raw.githubusercontent.com/frank-lam/lanproxy-nat/master/docker-server/docker-compose.yml
</code></pre>
<ol start="2">
<li>启动服务</li>
</ol>
<pre><code class="language-shell">docker-compose up -d
</code></pre>
<ol start="3">
<li>停止服务</li>
</ol>
<pre><code class="language-shell">docker-compose down
</code></pre>
<p>😎 至此你的 lanproxy 服务端已经配置成功，账号密码：即为 docker 配置中你配置的账号密码</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1546568207628.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1546568207628.png" alt="1546568207628"></a></p>
<h3 id="33-nginx-反向代理配置域名">3.3 Nginx 反向代理配置域名</h3>
<p>在上一步，我们通过 docker 启动了一个 lanproxy 环境，但是通过 IP 和端口号组合的方式并不优雅。这里我将解析两个域名通过 Nginx 进行端口转发。</p>
<pre><code class="language-shell"># 两个域名都解析到你的公网上去

# 这个域名由于访问 lanproxy 管理后台
lanproxy.frankfeekr.cn  =&gt; 120.92.10.120  | Nginx to =&gt; 127.0.0.1:8090

# 这个域名由于访问你的内网电脑服务，9000 端口可自由的在 lanproxy 管理后台进行配置
jupyter.frankfeekr.cn   =&gt; 120.92.10.120  | Nginx to =&gt; 127.0.0.1:9000
</code></pre>
<p>好啦，上门就是对域名进行了一些简单的解释，现在开始 Nginx 的配置</p>
<ol>
<li> <p>进入 <code>/etc/nginx/conf.d</code> Nginx 的配置目录，在这里创建配置文件</p> </li>
<li> <p>创建 <code>lanproxy.frankfeekr.cn.conf</code> 配置文件</p> </li>
</ol>
<pre><code class="language-yml">server {
    listen 80;
    # 这里使用自己的域名
    server_name lanproxy.frankfeekr.cn;
    charset utf-8;
    location / {
        proxy_set_header   X-Real-IP $remote_addr;
        proxy_set_header   Host      $http_host;
        # 这里根据你的 lanproxy 配置，改成 config.server.port的值
        proxy_pass       http://127.0.0.1:8090;
        client_max_body_size 35m;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
</code></pre>
<ol start="3">
<li>创建 <code>jupyter.frankfeekr.cn.conf</code> 配置文件</li>
</ol>
<pre><code class="language-yml">server {
    listen 80;
    # 这里使用自己的域名
    server_name jupyter.frankfeekr.cn;
    charset utf-8;
    location / {
        proxy_set_header   X-Real-IP $remote_addr;
        proxy_set_header   Host      $http_host;
        # 这里根据你的lanproxy配置，改成 外网接口 的值，在lanproxy后台网页上配置，后面配置
        proxy_pass       http://127.0.0.1:9000;
        client_max_body_size 35m;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
</code></pre>
<ol start="4">
<li>重启 Nginx 服务</li>
</ol>
<pre><code class="language-shell">$ service nginx restart
</code></pre>
<p>😚 至此，你可以通过域名 http://lanproxy.frankfeekr.cn 进行访问 lanproxy 网页后台配置</p>
<h3 id="34-继续配置-lanproxy-后台服务">3.4 继续配置 lanproxy 后台服务</h3>
<ol>
<li>添加一个客户端</li>
</ol>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544795186699.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544795186699.png" alt="1544795186699"></a></p>
<ol start="2">
<li>添加配置</li>
</ol>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544795764181.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544795764181.png" alt="1544795764181"></a></p>
<p>如果准备使用 Docker 客户端启动服务的请注意 🔥🔥🔥</p>
<ol>
<li>如果通过 Java 客户端直接在主机启动客户端服务则 IP 地址为：<code>127.0.0.1:port</code> ；</li>
<li>如果通过 Docker 方式启动客户端，则 IP 地址为：<code>172.17.0.1:port</code>，这是 Docker 宿主机默认网卡 IP，如果自己手动修改过了 IP 地址，则填写你的 IP。可以通过命令 <code>ip a | grep docker</code> 查看你的宿主机 IP 地址。</li>
</ol>
<p>😜 至此，服务端的配置就完成了。下面开始内网电脑的配置。</p>
<h2 id="四内网电脑客户端配置">四、内网电脑客户端配置</h2>
<h3 id="41-强烈推荐开箱即用的-docker-版客户端-">4.1 强烈推荐：开箱即用的 Docker 版客户端 ⭐⭐⭐</h3>
<blockquote>
<p>由于在不同的主机上配置客户端，发现非常消耗时间，同时也缺乏稳定性。于是决定来定制一款开箱即用的 docker 容器版客户端，这里你将不需要安装任何客户端环境，甚至只需要几行优雅的命令即可启动一个客户端，速度和服务端配置一样飞起来。</p>
</blockquote>
<p>lanproxy-client docker images：<a href="https://cloud.docker.com/repository/docker/franklin5/lanproxy-client">franklin5/lanproxy-client - Docker Hub</a></p>
<h4 id="运行-lanproxy-client-服务">运行 lanproxy client 服务</h4>
<h5 id="方式一docker-run-1">方式一：docker run</h5>
<ol>
<li>一键启动客户端</li>
</ol>
<pre><code class="language-shell">docker run -d \
           --name lanproxy-client \
           -e LANPROXY_KEY="input_your_key" \
           -e LANPROXY_HOST="input_your_host" \
           --restart=always \
           franklin5/lanproxy-client
</code></pre>
<p>参数说明</p>
<ul>
<li> <p>input_your_key：这里是在 lanproxy 后台配置的密钥</p> </li>
<li> <p>input_your_host：服务器的 ip，支持域名</p> </li>
<li> <p>可选：为了这里也为你提供了执行的 <code>docker-run.sh</code> （保存成 shell 修改和运行更方便）</p> </li>
</ul>
<pre><code class="language-shell">wget https://raw.githubusercontent.com/frank-lam/lanproxy-nat/master/docker-client/docker-run.sh
</code></pre>
<ol>
<li>停止容器</li>
</ol>
<pre><code class="language-shell">docker stop lanproxy-client
</code></pre>
<ol>
<li>删除容器</li>
</ol>
<pre><code class="language-shell">docker rm lanproxy-client
</code></pre>
<ol>
<li>强制删除容器</li>
</ol>
<pre><code class="language-shell"> docker rm -f lanproxy-client
</code></pre>
<ol>
<li>重启容器</li>
</ol>
<pre><code class="language-shell">docker restart lanproxy-client
</code></pre>
<h5 id="方式二docker-compose-1">方式二：docker-compose</h5>
<ol>
<li>在你的项目目录下创建：docker-compose.yml</li>
</ol>
<pre><code class="language-yml">version: '3.1'
services:
  lanproxy-client:
    image: franklin5/lanproxy-client
    container_name: lanproxy-client
    environment:
     # 这里是在lanproxy后台配置的密钥
     - LANPROXY_KEY=input_your_key
     # 服务器的ip，支持域名
     - LANPROXY_HOST=input_your_host
    restart: always
</code></pre>
<ul>
<li>可选：你可以手工复制创建，当然这里也为你提供方便下载的 <code>docker-compose.yml</code></li>
</ul>
<pre><code class="language-shell">wget https://raw.githubusercontent.com/frank-lam/lanproxy-nat/master/docker-client/docker-compose.yml
</code></pre>
<ol>
<li>后台启动容器</li>
</ol>
<pre><code class="language-shell">docker-compose up -d
</code></pre>
<p><strong>🚩使用 docker 方式运行客户端，请务必阅读</strong></p>
<blockquote>
<p>以上两种运行方式，选择一种运行即可一键启动 docker 客户端容器。但使用 docker 直接运行容器和在宿主机上运行时有所不同。在 docker 服务启动后，docker 会为宿主机和容器各自分配一个 docker 网卡，而宿主机上会分配默认的 IP 地址，即：<code>172.17.0.1</code>，故容器中可以 ping 通宿主机上 <code>172.17.0.1</code> 的任何 TCP 端口。</p>
<p>所以我们在后面的后台网页上的端口配置，不再是 <code>172.0.0.1</code>，必须是 <code>172.17.0.1:port</code>。</p>
<p>话不多说，请进入下一个步奏慢慢体会。</p>
</blockquote>
<h4 id="lanproxy-网页后台服务查看">lanproxy 网页后台服务查看</h4>
<p>客户端启动服务后，后台可查看状态（在线 / 离线）</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" alt="1544798600592"></a></p>
<p>流量统计</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" alt="1544798624799"></a></p>
<h3 id="42-推荐开箱即用客户端仅需安装-java-环境-">4.2 推荐：开箱即用客户端，仅需安装 Java 环境 ⭐⭐</h3>
<blockquote>
<p>如果你的本地已经有了 Java 环境（无论你是编译安装，还是 yum/apt-get 安装，都 ok），最低环境 JDK 1.7 以上。那么我推荐你是用本节中的配置说明，可以不用配置 maven 环境，直接拉取客户端一键运行，更加方便。</p>
</blockquote>
<h4 id="java-jdk-18-安装">Java JDK 1.8 安装</h4>
<ol>
<li>验证你的本地是否有 Java 环境，如果已经存在 Java 1.7 以上的环境，即可调到下一个步骤</li>
</ol>
<pre><code class="language-shell">java -version
</code></pre>
<ol start="2">
<li>安装 Java 1.8（Ubuntu/apt-get）</li>
</ol>
<pre><code class="language-shell"># 首先，更新包索引
apt-get update
# 安装Java运行时环境（JRE）
apt-get install default-jre -y
# 验证安装是否成功
java -version
</code></pre>
<p>详细可参考：<a href="https://www.cnblogs.com/guxiaobei/p/8556586.html">在Ubuntu 16.04如何安装Java使用apt-get的 - 一只宅男的自我修养 - 博客园</a></p>
<ol start="3">
<li>安装 Java 1.8（Centos/yum）</li>
</ol>
<pre><code class="language-shell"># 首先，更新包索引
yum update
# 安装 Java 1.8
yum install java-1.8.0-openjdk.x86_64 -y
# 验证安装是否成功
java -version
</code></pre>
<p>详细可参考：<a href="https://blog.csdn.net/a360616218/article/details/76736988">centos7通过yum安装JDK1.8 - 来吧 单刷各种经典 - CSDN博客</a></p>
<h4 id="下载-java-客户端开箱即用">下载 Java 客户端（开箱即用）</h4>
<ol>
<li>为了免去 mvn 安装中出现的意外，我已经为你打造了一款开箱即用的客户端</li>
</ol>
<pre><code class="language-shell">git clone https://github.com/frank-lam/lanproxy-client.git
</code></pre>
<ol start="2">
<li>客户端目录</li>
</ol>
<pre><code class="language-shell">drwxr-xr-x 7 root root 4096 Jan  2 08:17 ./
drwxr-xr-x 1 root root 4096 Jan  2 08:17 ../
drwxr-xr-x 8 root root 4096 Jan  2 08:17 .git/
drwxr-xr-x 3 root root 4096 Jan  2 08:17 distribution/
drwxr-xr-x 4 root root 4096 Jan  2 08:17 proxy-client/
drwxr-xr-x 4 root root 4096 Jan  2 08:17 proxy-common/
drwxr-xr-x 4 root root 4096 Jan  2 08:17 proxy-protocol/
-rw-r--r-- 1 root root  606 Jan  2 08:17 restart.sh
-rw-r--r-- 1 root root  570 Jan  2 08:17 start.sh
-rw-r--r-- 1 root root  375 Jan  2 08:17 status.sh
-rw-r--r-- 1 root root  588 Jan  2 08:17 stop.sh
</code></pre>
<ol start="3">
<li>修改配置文件信息 打包完成之后，客户端文件会出现在 <code>distribution/proxy-client-0.1</code> 目录下，打开之后有是个文件夹：<code>bin</code>、<code>conf</code>、<code>lib</code>和<code>log</code>，配置信息在 <code>conf/config.properties</code> 文件内，根据前面服务端的配置信息修改一下。</li>
</ol>
<pre><code class="language-bash"># 这里是在lanproxy后台配置的密钥
client.key=e6a49a19b8024652ab4ff2210abf2c6a

# 配置ssl信息，根据服务端的配置填写（enable = false 就不需要配置）
ssl.enable=false
ssl.jksPath=test.jks
ssl.keyStorePassword=123456

# 服务器的ip，也支持域名
server.host=120.92.10.120

#proxy-server ssl默认端口4993，默认普通端口4900
#ssl.enable=true时这里填写ssl端口，ssl.enable=false时这里填写普通端口
server.port=4900
</code></pre>
<h4 id="运行-lanproxy-client-服务-1">运行 lanproxy client 服务</h4>
<ol>
<li>启动客户端（官方脚本） 客户端信息配置完成之后就可以启动客户端了</li>
</ol>
<pre><code class="language-bash"># mac/linux使用这个
$ bash  bin/startup.sh

# Windows 直接运行 bin/startup.bat
</code></pre>
<ol start="2">
<li>当然这里我也为你准备了一些开箱即用的脚本（推荐使用）</li>
</ol>
<pre><code class="language-shell"># 切换到项目根目录

# 重启
sh restart.sh
# 启动
sh start.sh
# 停止客户端
sh stop.sh
# 当前客户端运行状态
sh status.sh
</code></pre>
<h4 id="lanproxy-网页后台服务查看-1">lanproxy 网页后台服务查看</h4>
<p>客户端启动服务后，后台可查看状态（在线 / 离线）</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" alt="1544798600592"></a></p>
<p>流量统计</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" alt="1544798624799"></a></p>
<h3 id="43-java-客户端通过-maven-方式安装依赖-">4.3 Java 客户端，通过 Maven 方式安装依赖 ⭐</h3>
<blockquote>
<p>这里我的内网是一台 Ubuntu 16.04 的服务器，以下我都将以此为例</p>
</blockquote>
<h4 id="java-18-安装">Java 1.8 安装</h4>
<ol>
<li>下载 JDK1.8（lanproxy 支持 JDK1.7 以上环境）</li>
</ol>
<pre><code class="language-shell">$ wget https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz
</code></pre>
<ol>
<li>解压安装包，移动文件夹到 /user/lib 目录</li>
</ol>
<pre><code class="language-shell">$ tar -zxvf jdk-8u191-linux-x64.tar.gz
$ mv jdk1.8.0_191 /usr/lib/jdk/jdk1.8.0_191
</code></pre>
<ol>
<li> <p>环境变量配置</p> <p>这里是将环境变量配置在 etc/profile，即为所有用户配置 JDK 环境。</p> </li>
</ol>
<pre><code class="language-shell">$ vim + etc/profile
</code></pre>
<p>​ 环境设置</p>
<pre><code class="language-shell">#set java env
export JAVA_HOME=/usr/lib/jdk/jdk1.8.0_191
export JRE_HOME=${JAVA_HOME}/jre    
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib    
export PATH=${JAVA_HOME}/bin:$PATH
</code></pre>
<p>​ 执行命令使修改立即生效</p>
<pre><code class="language-shell">$ source /etc/profile
</code></pre>
<ol>
<li> <p>配置软连接</p> <p>软连接相当于windows系统中的快捷键，部分软件可能会从/usr/bin目录下查找Java，因此添加该软连接防止其他软件查找不到的情况。</p> </li>
</ol>
<pre><code class="language-shell">$ sudo update-alternatives --install /usr/bin/java  java  /usr/lib/jdk/jdk1.8.0_191/java 300   
$ sudo update-alternatives --install /usr/bin/javac  javac  /usr/lib/jdk/jdk1.8.0_191/bin/javac 300 
</code></pre>
<ol>
<li>测试安装是否成功</li>
</ol>
<pre><code class="language-shell"># 在终端输入，出现版本号则表示安装成功
$ java -version
</code></pre>
<p>更详细文档：</p>
<ul>
<li><a href="https://blog.csdn.net/smile_from_2015/article/details/80056297">ubuntu16.04搭建jdk1.8运行环境 - 朝花夕拾 - CSDN博客</a></li>
</ul>
<h4 id="maven-安装">maven 安装</h4>
<p>maven 是个项目管理工具，在编程领域应用广泛。</p>
<ol>
<li><a href="http://maven.apache.org/download.cgi">官网</a> 下载maven。</li>
</ol>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/20170724230855998.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/20170724230855998.png" alt="img"></a></p>
<pre><code class="language-shell">$ wget https://www-eu.apache.org/dist/maven/maven-3/3.6.0/binaries/apache-maven-3.6.0-bin.tar.gz
</code></pre>
<ol start="2">
<li>解压到 /opt/maven 目录</li>
</ol>
<p>创建 manve 目录。</p>
<pre><code class="language-shell">$ sudo mkdir /opt/maven
</code></pre>
<p>解压到 /opt/maven 目录下。</p>
<pre><code class="language-shell">$ sudo tar zxvf apache-maven-3.6.0-bin.tar.gz -C /opt/maven
</code></pre>
<ol start="3">
<li>配置 maven 环境</li>
</ol>
<pre><code class="language-shell">$ vim + /etc/profile
</code></pre>
<p>在文件内容后面添加以下内容：</p>
<pre><code class="language-shell"># set maven env
export M2_HOME=/opt/maven/apache-maven-3.6.0
export CLASSPATH=$CLASSPATH:$M2_HOME/lib
export PATH=$PATH:$M2_HOME/bin
</code></pre>
<p>保存，输入以下命令使配置文件生效。</p>
<pre><code class="language-shell">$ source /etc/profile
</code></pre>
<p>验证是否安装成功。</p>
<pre><code class="language-shell">$ mvn -v
</code></pre>
<ol start="4">
<li>修改 maven 源为阿里云，以及仓库默认存放路径。这样 maven 下载 jar 包的速度会快很多。</li>
</ol>
<p>打开 maven 的配置文件</p>
<pre><code class="language-shell">$ vim /opt/maven/apache-maven-3.6.0/conf/settings.xml
</code></pre>
<p>在 /home 目录下生成 maven/repository 文件夹</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544797073237.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544797073237.png" alt="1544797073237"></a></p>
<pre><code class="language-xml">&lt;localRepository&gt;maven/reposity&lt;/localRepository&gt;
</code></pre>
<p>修改源</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544797106999.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544797106999.png" alt="1544797106999"></a></p>
<pre><code class="language-xml">&lt;mirrors&gt;
    &lt;mirror&gt;
      &lt;id&gt;alimaven&lt;/id&gt;
      &lt;name&gt;aliyun maven&lt;/name&gt;
  　　&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;        
    &lt;/mirror&gt;
&lt;/mirrors&gt;
</code></pre>
<p>😚 至此，Maven 安装成功</p>
<p>参考资料：</p>
<ul>
<li><a href="https://blog.csdn.net/qq_24091555/article/details/76039475">ubuntu16.04安装maven - Rocky的编程随记 - CSDN博客</a></li>
</ul>
<h4 id="启动内网服务">启动内网服务</h4>
<p>在前面我们将 jupyter.frankfeekr.cn 反向代理（公网服务器 9000 服务，内网 5050）</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544797593907.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544797593907.png" alt="1544797593907"></a></p>
<p>这里我们需要确保在内网电脑上，浏览器能够访问到 127.0.0.1:5050 这个服务。以我的 jupyter notebook 为例：</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544797708925.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544797708925.png" alt="1544797708925"></a></p>
<p>这里，我的内网服务已经启动。接下来只需要启动 lanproxy 客户端即可。</p>
<h4 id="运行-lanproxy-client-服务-2">运行 lanproxy client 服务</h4>
<p>官方提供了两种方式运行客户端，一种方式是使用官方提供的 GO，另一种通过 Java 环境运行。本文采用主流的 Java 方式运行</p>
<ol>
<li>克隆 <code>lanproxy</code> 代码到本地电脑</li>
</ol>
<pre><code class="language-bash">$ git clone https://github.com/ffay/lanproxy.git lanproxy
</code></pre>
<ol start="2">
<li>打包 <code>lanproxy</code> 打包之前需要确保你安装了 <code>maven</code></li>
</ol>
<pre><code class="language-bash">$ cd lanproxy
$ mvn package
</code></pre>
<ol start="3">
<li>修改配置文件信息 打包完成之后，客户端文件会出现在 <code>distribution/proxy-client-0.1</code> 目录下，打开之后有是个文件夹：<code>bin</code>、<code>conf</code>、<code>lib</code>和<code>log</code>，配置信息在 <code>conf/config.properties</code> 文件内，根据前面服务端的配置信息修改一下。</li>
</ol>
<pre><code class="language-bash"># 这里是在lanproxy后台配置的密钥
client.key=e6a49a19b8024652ab4ff2210abf2c6a

# 配置ssl信息，根据服务端的配置填写（enable = false 就不需要配置）
ssl.enable=false
ssl.jksPath=test.jks
ssl.keyStorePassword=123456

# 服务器的ip
server.host=120.92.10.120

#proxy-server ssl默认端口4993，默认普通端口4900
#ssl.enable=true时这里填写ssl端口，ssl.enable=false时这里填写普通端口
server.port=4900
</code></pre>
<ol start="4">
<li>启动客户端 客户端信息配置完成之后就可以启动客户端了</li>
</ol>
<pre><code class="language-bash"># mac/linux使用这个
$ bash  bin/startup.sh

# Windows 直接运行 bin/startup.bat
</code></pre>
<ol start="5">
<li> <p>访问测试</p> <p>😚 至此，即可通过公网域名 http://jupyter.frankfeekr.cn 访问内网服务，实现内网穿透</p> </li>
</ol>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798196919.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798196919.png" alt="1544798196919"></a></p>
<p>当然你也可以通过公网 IP 和域名访问，例如：http://120.92.10.120:9000 这种方式访问！</p>
<ol start="6">
<li>停止客户端</li>
</ol>
<pre><code class="language-shell">$ bash  bin/stop.sh
</code></pre>
<h4 id="lanproxy-网页后台服务查看-2">lanproxy 网页后台服务查看</h4>
<p>客户端启动服务后，后台可查看状态（在线 / 离线）</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" alt="1544798600592"></a></p>
<p>流量统计</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" alt="1544798624799"></a></p>
<h3 id="44-go-客户端">4.4 Go 客户端</h3>
<p>GitHub 客户端主页：<a href="https://github.com/ffay/lanproxy-go-client">lanproxy-go-client</a></p>
<p>不想安装 Java 环境的可以选择 Go</p>
<h4 id="安装-go-环境安装">安装 Go 环境安装</h4>
<p><strong>1. buntu、Debian或Linux Mint安装Go语言</strong></p>
<p>基于 Debian的 Linux 发行版本都可以使用 apt-get 命令来进行安装：</p>
<pre><code class="language-shell">sudo apt-get install golang
</code></pre>
<p>要查看当前系统安装的 Go 语言版本可以使用如下命令：</p>
<pre><code class="language-shell">go version
</code></pre>
<p>由于 Go 代码必需保存在 workspace(工作区)中，所以我们必需在 <strong>Home</strong> 目录(例如 ~/workspace)创建一个<strong>workspace</strong> 目录并定义 <strong>GOPATH</strong> 环境变量指向该目录，这个目录将被 Go 工具用于保存和编辑二进制文件。</p>
<pre><code class="language-shell">mkdir ~/workspace
echo 'export GOPATH="$HOME/workspace"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
<p>根据不同的需要，我们可以使用 apt-get 安装 Go tools：</p>
<pre><code class="language-shell">sudo apt-cache search golang
</code></pre>
<p><strong>2. Fedora、CentOS或RHEL安装Go语言</strong></p>
<p>基于 Red Hat 的 Linux 发行版本都可以使用 yum 命令来进行安装：</p>
<pre><code class="language-shell">sudo yum update
sudo yum install golang
</code></pre>
<p>要查看当前系统安装的 Go 语言版本可以使用如下命令：</p>
<pre><code class="language-shell">go version
</code></pre>
<p>接下来还是在 Home 目录(例如 ~/workspace)创建一个 workspace 目录并定义 GOPATH 环境变量指向该目录，这个目录将被 Go 工具用于保存和编辑二进制文件。</p>
<pre><code class="language-shell">mkdir ~/workspace
echo 'export GOPATH="$HOME/workspace"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
<p>根据不同的需要，我们可以使用 yum 安装 Go tools：</p>
<pre><code class="language-shell">yum search golang
</code></pre>
<p>参考资料：<a href="https://studygolang.com/articles/7482">如何为Linux安装Go语言 - Go语言中文网 - Golang中文社区</a></p>
<h4 id="拉取-ffaylanproxy-go-client-代码">拉取 ffay/lanproxy-go-client 代码</h4>
<pre><code class="language-shell">git clone https://github.com/ffay/lanproxy-go-client.git
</code></pre>
<h4 id="安装客户端依赖包">安装客户端依赖包</h4>
<pre><code class="language-shell">cd lanproxy-go-client
sh build-release.sh
</code></pre>
<p>安装后，这时候在目录下会出现文件。</p>
<h4 id="启动客户端">启动客户端</h4>
<p><strong>普通端口连接</strong></p>
<pre><code class="language-shell"># mac 64位
nohup ./client_darwin_amd64 -s SERVER_IP -p SERVER_PORT -k CLIENT_KEY &amp;

# linux 64位
nohup ./client_linux_amd64 -s SERVER_IP -p SERVER_PORT -k CLIENT_KEY &amp;

# windows 64 位
./client_windows_amd64.exe -s SERVER_IP -p SERVER_PORT -k CLIENT_KEY
</code></pre>
<p><strong>SSL端口连接</strong></p>
<pre><code class="language-shell"># mac 64位
nohup ./client_darwin_amd64 -s SERVER_IP -p SERVER_SSL_PORT -k CLIENT_KEY -ssl true &amp;

# linux 64位
nohup ./client_linux_amd64 -s SERVER_IP -p SERVER_SSL_PORT -k CLIENT_KEY -ssl true &amp;

# windows 64 位
./client_windows_amd64.exe -s SERVER_IP -p SERVER_SSL_PORT -k CLIENT_KEY -ssl true
</code></pre>
<p>例如：</p>
<pre><code>nohup ./client_linux_amd64 -s lp.thingsglobal.org -p 4900 -k 01c1e176d6ee466c8db717a8 &amp;
</code></pre>
<p>命令参数：</p>
<pre><code class="language-shell">GLOBAL OPTIONS:
   -k value       client key
   -s value       proxy server host
   -p value       proxy server port (default: 4900)
   --ssl value    enable ssl (default: "false", -p value should be server ssl port)
   --cer value    ssl cert path, default skip verify certificate
   --help, -h     show help
   --version, -v  print the version
</code></pre>
<h4 id="lanproxy-网页后台服务查看-3">lanproxy 网页后台服务查看</h4>
<p>客户端启动服务后，后台可查看状态（在线 / 离线）</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798600592.png" alt="1544798600592"></a></p>
<p>流量统计</p>
<p><a href="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat/assets/1544798624799.png" alt="1544798624799"></a></p>
<h2 id="五总结">五、总结</h2>
<p>通过以上的配置，只要有一台公网电脑，即可实现内网穿透功能。摆脱花生壳的域名端口限制，流量限制，带宽限制。笔者的公网服务器为 6M 带宽，通过公网映射，文件下载测试大概在 800K/s - 1.5M/s 范围，如果仅是普通的网站服务完全可以完美穿透。</p>
<p>一般的应用场景：用来 SSH/MSTSC 远程连接，站点对外访问，是完全绰绰有余。</p>
<h2 id="todo-list">Todo List</h2>
<p>为了方便客户端批量安装，我将会编写更为方便的 shell 脚本，做到一键自动部署</p>
<ul>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled readonly>&nbsp;一键 shell 脚本安装</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled readonly>&nbsp;交互式 shell 脚本安装</li>
</ul>
<h2 id="参考资料">参考资料</h2>
<ul>
<li><a href="https://www.fengqiangboy.com/15229403526064.html">基于docker搭建lanproxy内网穿透服务 - 奉强的个人博客</a></li>
<li><a href="https://github.com/fengqiangboy/lanproxy-docker">lanproxy GitHub 官方主页</a></li>
<li><a href="https://www.cnblogs.com/ssooking/p/6094740.html">linux设置开机自启动 - ssooking - 博客园</a></li>
</ul>
<h2 id="关于作者">关于作者 <a href="https://img.cntofu.com/book/lanproxy-nat//img/boy.png" data-uk-lightbox><img src="https://img.cntofu.com/book/lanproxy-nat//img/boy.png" alt="emoji people:boy" height="20" width="20" align="absmiddle"></a></h2>
<div align="center">
<p> 在颠覆世界的同时，也要好好关照自己。 </p>
<a target="_blank" href="https://zhuanlan.zhihu.com/frankfeekr" rel="nofollow"><a href="https://img.shields.io/badge/知乎专栏-frankfeekr-blue.svg" data-uk-lightbox><img src="https://img.shields.io/badge/知乎专栏-frankfeekr-blue.svg" alt="QQ群" data-canonical-src="" style="max-width:100%;"></a></a>
<a target="_blank" href="http://blog.csdn.net/u012104219" rel="nofollow"><a href="https://img.shields.io/badge/CSDN-东风牧野-red.svg" data-uk-lightbox><img src="https://img.shields.io/badge/CSDN-东风牧野-red.svg" alt="CSDN" data-canonical-src="" style="max-width:100%;"></a></a>
<a target="_blank" href="mailto:frank_lin@whu.edu.cn" rel="nofollow"><a href="https://img.shields.io/badge/Email-frank__lin@whu.edu.cn-lightgrey.svg" data-uk-lightbox><img src="https://img.shields.io/badge/Email-frank__lin@whu.edu.cn-lightgrey.svg" alt="邮箱" data-canonical-src="" style="max-width:100%;"></a></a>
<a target="_blank" href="https://jq.qq.com/?_wv=1027&amp;k=593WvX0" rel="nofollow"><a href="https://img.shields.io/badge/QQ群-862619503-green.svg" data-uk-lightbox><img src="https://img.shields.io/badge/QQ群-862619503-green.svg" alt="QQ群" data-canonical-src="" style="max-width:100%;"></a></a>
<br>
<br>
<p> from zero to hero. </p>
</div>
<div align="center">
<a href="https://raw.githubusercontent.com/frank-lam/fullstack-tutorial/master/assets/wechat-fullstack.png" data-uk-lightbox><img src="https://raw.githubusercontent.com/frank-lam/fullstack-tutorial/master/assets/wechat-fullstack.png" width="620"></a>
</div>
<br>
<br>
<div align="center">
<a href="https://raw.githubusercontent.com/frank-lam/public-static-resources/main/assets/wechat/wx_group_qrcode.png" data-uk-lightbox><img src="https://raw.githubusercontent.com/frank-lam/public-static-resources/main/assets/wechat/wx_group_qrcode.png" width="400px"></a>
</div>
</div>
<hr class="uk-article-divider">
<div class="uk-block uk-block-muted uk-padding-top-remove uk-padding-bottom-remove uk-margin-large-top  book-recommend-wrap">
<div class="uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right">
<div class="uk-margin uk-text-muted "><i class="uk-icon-outdent uk-icon-justify uk-margin-small-right"></i>书籍推荐</div>
<div class="books">
<ul class="uk-book-list">
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/196/index.html">
<img class="uk-book-cover" src="../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/196/index.html">全栈开发指南2021</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/112.html">frank-lam</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">51页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2021年10月24日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 个"></span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/47/index.html">
<img class="uk-book-cover" src="../../static/icons/48/phpstorm_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/47/index.html">CodeIgniter3.1.8源码分析</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/24.html">NightSakura</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="phpstorm">phpstorm</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">22页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月2日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 2个">2</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/141/index.html">
<img class="uk-book-cover" src="../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/141/index.html">各种程序开发相关的Awesome开源项目清单</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/74.html">sindresorhus</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">25页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2019年3月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 102911个">102911</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/81/index.html">
<img class="uk-book-cover" src="../../static/icons/48/springboot_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/81/index.html">《SpringBoot参考指南》中文翻译 基于1.5.7 RELEASE</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/52.html">wangjingjing</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="springboot">springboot</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">100页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月24日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1个">1</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/38/index.html">
<img class="uk-book-cover" src="../../static/icons/48/java_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/38/index.html">Java资源大全中文版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/19.html">伯乐在线</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="java">java</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">61页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月23日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 7938个">7938</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/24/index.html">
<img class="uk-book-cover" src="../../static/icons/48/cplusplus_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/24/index.html">复杂性思维第二版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/17.html">Kivy Developers From China</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="cplusplus">cplusplus</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">16页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 83个">83</span>
</div>
</div>
</div>
</li>
<hr>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="tm-navbar uk-navbar uk-navbar-attached reader-nav">
<div class="uk-float-left uk-margin-small-top">
<a href="javascript:;" title="目录菜单" class="show-menu  uk-icon-hover  uk-icon-align-justify uk-margin-right"></a>
<div data-uk-dropdown="{mode:'click',pos:'bottom-left'}" class="font-setting-wrap">
<a class="uk-icon-hover uk-icon-font uk-margin-right" aria-label="字体设置" href="javascript:;"></a>
<div class="uk-dropdown dropdown-menu">
<div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-reduce">小字</button>
<button class="uk-button-link button size-2 font-enlarge">大字</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-1 ">宋体</button>
<button class="uk-button-link button size-2 font-2 ">黑体</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-3 color-theme-sun "><i class="uk-icon-sun-o"></i>白天</button>
<button class="uk-button-link button size-3 color-theme-eye "><i class="uk-icon-eye"></i>护眼</button>
<button class="uk-button-link button size-3 color-theme-moon "><i class="uk-icon-moon-o"></i>夜晚</button></div>
</div>
</div>
<a class="logo uk-margin-right" href="../../" title="返回首页"><img class="" src="../../static/components/images/icon_32.png" /></a>
</div>
<div class="uk-navbar-flip  uk-hidden-small">
<div id="share-box"></div>
</div>
</nav>
<div id="menu-id" class="uk-offcanvas reader-offcanvas">
<div class="uk-offcanvas-bar">
<ul class="book-menu-bar uk-nav uk-nav-offcanvas" data-uk-nav>
<li>
<a href="../../book/197/index.html" data-book-page-rel-url="index.html" data-book-page-id="0" title="封面">封面</a>
</li>
<li>
<a class="pjax" href="../../book/197/readme.html" data-book-page-rel-url="readme.html" data-book-page-id="0" title="简介">简介</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#手把手教你搭建内网穿透服务" title="手把手教你，搭建内网穿透服务" data-book-page-rel-url="README.html#手把手教你搭建内网穿透服务" data-book-page-id="13311">手把手教你，搭建内网穿透服务</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#一概述" title="一、概述" data-book-page-rel-url="README.html#一概述" data-book-page-id="13312">一、概述</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#11-什么是内网穿透" title="1.1 什么是内网穿透" data-book-page-rel-url="README.html#11-什么是内网穿透" data-book-page-id="13313">1.1 什么是内网穿透</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#12-什么是-lanproxy" title="1.2 什么是 lanproxy" data-book-page-rel-url="README.html#12-什么是-lanproxy" data-book-page-id="13314">1.2 什么是 lanproxy</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#13-原理" title="1.3 原理" data-book-page-rel-url="README.html#13-原理" data-book-page-id="13315">1.3 原理</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#二快速指南" title="二、快速指南" data-book-page-rel-url="README.html#二快速指南" data-book-page-id="13316">二、快速指南</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#硬件与环境要求" title="硬件与环境要求" data-book-page-rel-url="README.html#硬件与环境要求" data-book-page-id="13317">硬件与环境要求</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#提供安装方式" title="提供安装方式" data-book-page-rel-url="README.html#提供安装方式" data-book-page-id="13318">提供安装方式</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#服务端与客户端" title="服务端与客户端" data-book-page-rel-url="README.html#服务端与客户端" data-book-page-id="13319">服务端与客户端</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#docker-hub-镜像" title="Docker Hub 镜像" data-book-page-rel-url="README.html#docker-hub-镜像" data-book-page-id="13320">Docker Hub 镜像</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#三公网服务器配置docker-一键启动" title="三、公网服务器配置（Docker 一键启动）" data-book-page-rel-url="README.html#三公网服务器配置docker-一键启动" data-book-page-id="13321">三、公网服务器配置（Docker 一键启动）</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#31-基础环境安装" title="3.1 基础环境安装" data-book-page-rel-url="README.html#31-基础环境安装" data-book-page-id="13322">3.1 基础环境安装</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#32-docker-启动服务端程序-" title="3.2 Docker 启动服务端程序 ⭐⭐⭐" data-book-page-rel-url="README.html#32-docker-启动服务端程序-" data-book-page-id="13323">3.2 Docker 启动服务端程序 ⭐⭐⭐</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#方式一docker-run" title="方式一：docker run" data-book-page-rel-url="README.html#方式一docker-run" data-book-page-id="13324">方式一：docker run</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#33-nginx-反向代理配置域名" title="3.3 Nginx 反向代理配置域名" data-book-page-rel-url="README.html#33-nginx-反向代理配置域名" data-book-page-id="13326">3.3 Nginx 反向代理配置域名</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#34-继续配置-lanproxy-后台服务" title="3.4 继续配置 lanproxy 后台服务" data-book-page-rel-url="README.html#34-继续配置-lanproxy-后台服务" data-book-page-id="13327">3.4 继续配置 lanproxy 后台服务</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#四内网电脑客户端配置" title="四、内网电脑客户端配置" data-book-page-rel-url="README.html#四内网电脑客户端配置" data-book-page-id="13328">四、内网电脑客户端配置</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#41-强烈推荐开箱即用的-docker-版客户端-" title="4.1 强烈推荐：开箱即用的 Docker 版客户端 ⭐⭐⭐" data-book-page-rel-url="README.html#41-强烈推荐开箱即用的-docker-版客户端-" data-book-page-id="13329">4.1 强烈推荐：开箱即用的 Docker 版客户端 ⭐⭐⭐</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#运行-lanproxy-client-服务" title="运行 lanproxy client 服务" data-book-page-rel-url="README.html#运行-lanproxy-client-服务" data-book-page-id="13330">运行 lanproxy client 服务</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#方式一docker-run-1" title="方式一：docker run" data-book-page-rel-url="README.html#方式一docker-run-1" data-book-page-id="13331">方式一：docker run</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#方式二docker-compose" title="方式二：docker-compose" data-book-page-rel-url="README.html#方式二docker-compose" data-book-page-id="13325">方式二：docker-compose</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#lanproxy-网页后台服务查看" title="lanproxy 网页后台服务查看" data-book-page-rel-url="README.html#lanproxy-网页后台服务查看" data-book-page-id="13332">lanproxy 网页后台服务查看</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#42-推荐开箱即用客户端仅需安装-java-环境-" title="4.2 推荐：开箱即用客户端，仅需安装 Java 环境 ⭐⭐" data-book-page-rel-url="README.html#42-推荐开箱即用客户端仅需安装-java-环境-" data-book-page-id="13333">4.2 推荐：开箱即用客户端，仅需安装 Java 环境 ⭐⭐</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#java-jdk-18-安装" title="Java JDK 1.8 安装" data-book-page-rel-url="README.html#java-jdk-18-安装" data-book-page-id="13334">Java JDK 1.8 安装</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#下载-java-客户端开箱即用" title="下载 Java 客户端（开箱即用）" data-book-page-rel-url="README.html#下载-java-客户端开箱即用" data-book-page-id="13335">下载 Java 客户端（开箱即用）</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#运行-lanproxy-client-服务-1" title="运行 lanproxy client 服务" data-book-page-rel-url="README.html#运行-lanproxy-client-服务-1" data-book-page-id="13336">运行 lanproxy client 服务</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#lanproxy-网页后台服务查看-1" title="lanproxy 网页后台服务查看" data-book-page-rel-url="README.html#lanproxy-网页后台服务查看-1" data-book-page-id="13337">lanproxy 网页后台服务查看</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#43-java-客户端通过-maven-方式安装依赖-" title="4.3 Java 客户端，通过 Maven 方式安装依赖 ⭐" data-book-page-rel-url="README.html#43-java-客户端通过-maven-方式安装依赖-" data-book-page-id="13338">4.3 Java 客户端，通过 Maven 方式安装依赖 ⭐</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#java-18-安装" title="Java 1.8 安装" data-book-page-rel-url="README.html#java-18-安装" data-book-page-id="13339">Java 1.8 安装</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#maven-安装" title="maven 安装" data-book-page-rel-url="README.html#maven-安装" data-book-page-id="13340">maven 安装</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#启动内网服务" title="启动内网服务" data-book-page-rel-url="README.html#启动内网服务" data-book-page-id="13341">启动内网服务</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#运行-lanproxy-client-服务-2" title="运行 lanproxy client 服务" data-book-page-rel-url="README.html#运行-lanproxy-client-服务-2" data-book-page-id="13342">运行 lanproxy client 服务</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#lanproxy-网页后台服务查看-2" title="lanproxy 网页后台服务查看" data-book-page-rel-url="README.html#lanproxy-网页后台服务查看-2" data-book-page-id="13343">lanproxy 网页后台服务查看</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#44-go-客户端" title="4.4 Go 客户端" data-book-page-rel-url="README.html#44-go-客户端" data-book-page-id="13344">4.4 Go 客户端</a>
<ul>
<li>
<a class="pjax" href="../../book/197/README.html#安装-go-环境安装" title="安装 Go 环境安装" data-book-page-rel-url="README.html#安装-go-环境安装" data-book-page-id="13345">安装 Go 环境安装</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#拉取-ffaylanproxy-go-client-代码" title="拉取 ffay/lanproxy-go-client 代码" data-book-page-rel-url="README.html#拉取-ffaylanproxy-go-client-代码" data-book-page-id="13346">拉取 ffay/lanproxy-go-client 代码</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#安装客户端依赖包" title="安装客户端依赖包" data-book-page-rel-url="README.html#安装客户端依赖包" data-book-page-id="13347">安装客户端依赖包</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#启动客户端" title="启动客户端" data-book-page-rel-url="README.html#启动客户端" data-book-page-id="13348">启动客户端</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#lanproxy-网页后台服务查看-3" title="lanproxy 网页后台服务查看" data-book-page-rel-url="README.html#lanproxy-网页后台服务查看-3" data-book-page-id="13349">lanproxy 网页后台服务查看</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#五总结" title="五、总结" data-book-page-rel-url="README.html#五总结" data-book-page-id="13350">五、总结</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#todo-list" title="Todo List" data-book-page-rel-url="README.html#todo-list" data-book-page-id="13351">Todo List</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#参考资料" title="参考资料" data-book-page-rel-url="README.html#参考资料" data-book-page-id="13352">参考资料</a>
</li>
<li>
<a class="pjax" href="../../book/197/README.html#关于作者-boy" title="关于作者 👦" data-book-page-rel-url="README.html#关于作者-boy" data-book-page-id="13353">关于作者 👦</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<script src="https://cdn.staticfile.net/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../../static/components/uikit-2.27.5/js/uikit.reader.js"></script>
<script type="text/javascript" src="../../static/components/social-share/social-share.min.js"></script>
<script>(function(){var bp =document.createElement('script');var curProtocol =window.location.protocol.split(':')[0];if (curProtocol ==='https') {bp.src ='https://zz.bdstatic.com/linksubmit/push.js';}
else {bp.src ='http://push.zhanzhang.baidu.com/push.js';}
var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
<script src="https://cdn.staticfile.net/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.staticfile.net/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.staticfile.net/uikit/2.27.5/js/components/lightbox.min.js"></script>
<link rel="dns-prefetch" href="../..//cdn.mathjax.org" />
<script type="text/x-mathjax-config">
 function initMathJax() {
    var mathId = $("book-content-section")[0];
    MathJax.Hub.Config({
        tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a']},
        showProcessingMessages: false,
        messageStyle: "none"
    });
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
 };
initMathJax();
</script>
<script src='https://cdn.staticfile.net/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
<style>
	.MathJax_Display{display:inline!important;}
</style>
<script type="text/javascript" src="../../static/components/js/reader.js"></script>
<script type="text/javascript">var bookId =197;</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</body>
</html>