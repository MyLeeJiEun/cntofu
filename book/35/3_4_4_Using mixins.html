
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>使用Mixin-Django 1.8 中文文档(Django 1.8 documentation)</title>
<meta content='使用Mixin,Django 1.8 中文文档,Django 1.8 documentation' name='keywords'>
<meta content='使用Mixin,Django 1.8 中文文档,Django 1.8 documentation' name='description'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"../../>
<meta name="applicable-device" content="pc,mobile">
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" />
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="../../static/components/uikit-2.27.5/css/uikit.custom.css">
<link rel="stylesheet" href="../../static/components/social-share/social-share.min.css">
<link rel="stylesheet" href="../../static/components/highlight/styles/custom.css">
<link rel="stylesheet" href="../../static/components/css/base.css">
<link rel="stylesheet" href="../../static/components/css/reader.css">
<link rel="stylesheet" href="../../static/components/css/markdown.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5313208362165053" crossorigin="anonymous"></script>
</head>
<body>
<div class=" book-main-wrap uk-container uk-container-center uk-margin-top ">
<div class="uk-grid">
<div class="uk-width-1-1 reader-wrap ">
<div class=" bottom-nav uk-clearfix ">
<div class="uk-align-left ">
<a href="../../book/35/3_4_3_Built-in%20editing%20views.html">
<i class="nav-icon-left uk-icon-small  uk-icon-caret-left"></i>
<span class="">内建编辑视图</span>
</a>
</div>
<div class="uk-align-right ">
<a href="../../book/35/3_4_5_API%20reference.html">
<span class="">API参考</span>
<i class="nav-icon-right uk-icon-small  uk-icon-caret-right"></i>
</a>
</div>
</div>
<div class="uk-text-center">
<h2 class="book-page-title uk-container-center">
<a href="../../book/35/index.html">Django 1.8 中文文档 (Django 1.8 documentation)</a>
<a target="_blank" rel="nofollow" href="https://github.com/wizardforcel/django-chinese-docs-18" class="uk-icon-button uk-icon-github" title="github项目地址"></a>
</h2>
</div>
<script type="text/javascript" src="../../static/components/js/app_intro.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5313208362165053" data-ad-slot="1328047120"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script>
<hr class="uk-article-divider">
<div class="book-content-section  md-content-section  uk-margin-bottom">
<h1 id="mixin">Mixin</h1>
<p>注意</p>
<p>这是一个进阶的话题。需要建立在了解 <a href="index.html"><em>基于类的视图</em></a>的基础上。</p>
<p>Django的基于类的视图提供了许多功能，但是你可能只想使用其中的一部分。例如，你想编写一个视图，它渲染模板来响应HTTP，但是你用不了<a href="../../ref/class-based-views/base.html#django.views.generic.base.TemplateView" title="django.views.generic.base.TemplateView"><code>TemplateView</code></a>；或者你只需要对<code>POST</code> 请求渲染一个模板，而<code>GET</code> 请求做一些其它的事情。 虽然你可以直接使用<a href="../../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a>，但是这将导致重复的代码。</p>
<p>由于这些原因，Django 提供许多Mixin，它们提供更细致的功能。例如，渲染模板封装在<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin" title="django.views.generic.base.TemplateResponseMixin"><code>TemplateResponseMixin</code></a> 中。Django 参考手册包含<a href="../../ref/class-based-views/mixins.html"><em>所有Mixin 的完整文档</em></a>。</p>
<h2 id="context-和templateresponse">Context 和TemplateResponse</h2>
<p>在基于类的视图中使用模板具有一致的接口，有两个Mixin 起了核心的作用。</p>
<p><a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin" title="django.views.generic.base.TemplateResponseMixin"><code>TemplateResponseMixin</code></a></p>
<p>返回<a href="../../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a> 的每个视图都将调用<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.render_to_response" title="django.views.generic.base.TemplateResponseMixin.render_to_response"><code>render_to_response()</code></a> 方法，这个方法由 <code>TemplateResponseMixin</code> 提供。大部分时候，这个方法会隐式调用（例如，它会被<a href="../../ref/class-based-views/base.html#django.views.generic.base.TemplateView" title="django.views.generic.base.TemplateView"><code>TemplateView</code></a>和<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> 中实现的<code>get()</code> 方法调用）；如果你不想通过Django 的模板渲染响应，那么你可以覆盖它，虽然通常不需要这样。其示例用法请参见<a href="#jsonresponsemixin-example"><em>JSONResponseMixin 示例</em></a>。</p>
<p><code>render_to_response()</code> 本身调用<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.get_template_names" title="django.views.generic.base.TemplateResponseMixin.get_template_names"><code>get_template_names()</code></a>，它默认查找类视图的<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.template_name" title="django.views.generic.base.TemplateResponseMixin.template_name"><code>template_name</code></a>； 其它两个Mixin（<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectTemplateResponseMixin" title="django.views.generic.detail.SingleObjectTemplateResponseMixin"><code>SingleObjectTemplateResponseMixin</code></a> 和 <a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectTemplateResponseMixin" title="django.views.generic.list.MultipleObjectTemplateResponseMixin"><code>MultipleObjectTemplateResponseMixin</code></a>）覆盖了这个方法，以在处理实际的对象时能提供更灵活的默认行为。</p>
<p><a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.ContextMixin" title="django.views.generic.base.ContextMixin"><code>ContextMixin</code></a></p>
<p>需要Context 数据的每个内建视图，例如渲染模板的视图（包括<code>TemplateResponseMixin</code> ），都应该以关键字参数调用<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.ContextMixin.get_context_data" title="django.views.generic.base.ContextMixin.get_context_data"><code>get_context_data()</code></a>，以确保它们想要的数据在里面。<code>get_context_data()</code> 返回一个字典；在<code>ContextMixin</code> 中，它只是简单地返回它的关键字参数，通常会覆盖这个方法来向字典中添加更多的成员。</p>
<h2 id="构建django-的基于类的通用视图函数">构建Django 的基于类的通用视图函数</h2>
<p>让我们看下Django 的两个通用的基于类的视图是如何通过互不相关的Mixin 构建的。我们将考虑<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a>，它渲染一个对象的“详细”视图，和<a href="../../ref/class-based-views/generic-display.html#django.views.generic.list.ListView" title="django.views.generic.list.ListView"><code>ListView</code></a>，它渲染一个对象列表，通常来自一个查询集，需要时还会分页。这将会向我们接收四个Mixin，这些Mixin 在用到单个或多个Django对象时非常有用。</p>
<p>在通用的编辑视图（<a href="../../ref/class-based-views/generic-editing.html#django.views.generic.edit.FormView" title="django.views.generic.edit.FormView"><code>FormView</code></a> 和模型相关的视图<a href="../../ref/class-based-views/generic-editing.html#django.views.generic.edit.CreateView" title="django.views.generic.edit.CreateView"><code>CreateView</code></a>、<a href="../../ref/class-based-views/generic-editing.html#django.views.generic.edit.UpdateView" title="django.views.generic.edit.UpdateView"><code>UpdateView</code></a> 和<a href="../../ref/class-based-views/generic-editing.html#django.views.generic.edit.DeleteView" title="django.views.generic.edit.DeleteView"><code>DeleteView</code></a>）和基于日期的通用视图中都会涉及到Minxin。它们在<a href="../../ref/class-based-views/mixins.html"><em>Mixin 参考文档</em></a>中讲述。</p>
<h3 id="detailview用于单个django-对象">DetailView：用于单个Django 对象</h3>
<p>为了显示一个对象的详细信息，我们通常需要做两件事情：查询对象然后利用合适的模板和包含该对象的Context 生成<a href="../../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a>。</p>
<p>为了获得对象，<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> 依赖<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a>，它提供一个<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin.get_object" title="django.views.generic.detail.SingleObjectMixin.get_object"><code>get_object()</code></a> 方法，这个方法基于请求的URL 获取对象（它查找URLconf 中声明的<code>pk</code> 和<code>slug</code> 关键字参数，然后从视图的<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin.model" title="django.views.generic.detail.SingleObjectMixin.model"><code>model</code></a> 属性或<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin.queryset" title="django.views.generic.detail.SingleObjectMixin.queryset"><code>queryset</code></a> 属性查询对象）。<code>SingleObjectMixin</code> 还覆盖<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.ContextMixin.get_context_data" title="django.views.generic.base.ContextMixin.get_context_data"><code>get_context_data()</code></a>，这个方法在Django 所有的内建的基于类的视图中都有用到，用来给模板的渲染提供Context 数据。</p>
<p>然后，为了生成<a href="../../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a>，<a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a> 使用<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectTemplateResponseMixin" title="django.views.generic.detail.SingleObjectTemplateResponseMixin"><code>SingleObjectTemplateResponseMixin</code></a>，它扩展自<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin" title="django.views.generic.base.TemplateResponseMixin"><code>TemplateResponseMixin</code></a>并覆盖上文讨论过的<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.get_template_names" title="django.views.generic.base.TemplateResponseMixin.get_template_names"><code>get_template_names()</code></a>。实际上，它提供比较复杂的选项集合，但是大部分人用到的主要的一个是 <code>&lt;app_label&gt;/&lt;model_name&gt;_detail.html</code>。<code>_detail</code> 部分可以通过设置子类的<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectTemplateResponseMixin.template_name_suffix" title="django.views.generic.detail.SingleObjectTemplateResponseMixin.template_name_suffix"><code>template_name_suffix</code></a> 来改变。（例如，<a href="generic-editing.html"><em>通用的编辑视图</em></a> 使用<code>_form</code> 来创建和更新视图，用<code>_confirm_delete</code> 来删除视图）。</p>
<h3 id="listview用于多个django-对象">ListView：用于多个Django 对象</h3>
<p>显示对象的列表和上面的步骤大体相同：我们需要一个对象的列表（可能是分页形式的），这通常是一个<a href="../../ref/models/querysets.html#django.db.models.query.QuerySet" title="django.db.models.query.QuerySet"><code>QuerySet</code></a>，然后我们需要利用合适的模板和对象列表生成一个<a href="../../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a>。</p>
<p>为了获取对象，<a href="../../ref/class-based-views/generic-display.html#django.views.generic.list.ListView" title="django.views.generic.list.ListView"><code>ListView</code></a> 使用<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin" title="django.views.generic.list.MultipleObjectMixin"><code>MultipleObjectMixin</code></a>，它提供<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin.get_queryset" title="django.views.generic.list.MultipleObjectMixin.get_queryset"><code>get_queryset()</code></a> 和<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin.paginate_queryset" title="django.views.generic.list.MultipleObjectMixin.paginate_queryset"><code>paginate_queryset()</code></a> 两种方法。与<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 不同，不需要根据URL 中关键字参数来获得查询集，默认将使用视图类的<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin.queryset" title="django.views.generic.list.MultipleObjectMixin.queryset"><code>queryset</code></a> 或<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin.model" title="django.views.generic.list.MultipleObjectMixin.model"><code>model</code></a> 属性。通常需要覆盖<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin.get_queryset" title="django.views.generic.list.MultipleObjectMixin.get_queryset"><code>get_queryset()</code></a> 以动态获取不同的对象，例如根据当前的用户或排除打算在将来提交的博客。</p>
<p><a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin" title="django.views.generic.list.MultipleObjectMixin"><code>MultipleObjectMixin</code></a> 还覆盖<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.ContextMixin.get_context_data" title="django.views.generic.base.ContextMixin.get_context_data"><code>get_context_data()</code></a> 以包含合适的Context 变量用于分页（如果禁止分页，则提供一些假的）。这个方法依赖传递给它的关键字参数<code>object_list</code>，<a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 会负责准备好这个参数。</p>
<p>为了生成<a href="../../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a>，<a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 然后使用<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectTemplateResponseMixin" title="django.views.generic.list.MultipleObjectTemplateResponseMixin"><code>MultipleObjectTemplateResponseMixin</code></a>；与上面的<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectTemplateResponseMixin" title="django.views.generic.detail.SingleObjectTemplateResponseMixin"><code>SingleObjectTemplateResponseMixin</code></a> 类似，它覆盖<code>get_template_names()</code> 来提供<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectTemplateResponseMixin" title="django.views.generic.list.MultipleObjectTemplateResponseMixin"><code>一系列的选项</code></a>，而最常用到的是<code>&lt;app_label&gt;/&lt;model_name&gt;_list.html</code>，其中<code>_list</code> 部分同样由<a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectTemplateResponseMixin.template_name_suffix" title="django.views.generic.list.MultipleObjectTemplateResponseMixin.template_name_suffix"><code>template_name_suffix</code></a> 属性设置。（基于日期的通用视图使用<code>_archive</code>、<code>_archive_year</code> 等等这样的后缀来针对各种基于日期的列表视图使用不同的模板）。</p>
<h2 id="使用django-的基于类的视图的mixin">使用Django 的基于类的视图的Mixin</h2>
<p>既然我们已经看到Django 通用的基于类的视图时如何使用Mixin，让我们在看看其它组合它们的方式。当然，我们仍将它们与内建的基于类的视图或其它通用的基于类的视图组合，但是对于Django 提供的便利性你将解决一些更加罕见的问题。</p>
<p>警告</p>
<p>不是所有的Mixin 都可以一起使用，也不是所有的基于类的视图都可以与其它Mixin 一起使用。这里我们展示的是可以工作的几个例子；如果你需要其它功能，那么你必须考虑不同类之间的属性和方法的相互作用，以及<a href="https://www.python.org/download/releases/2.3/mro/">方法解析顺序</a>将如何影响方法调用的版本和顺序。</p>
<p>Django 的<a href="../../ref/class-based-views/index.html"><em>基于类的视图</em></a> 和<a href="../../ref/class-based-views/mixins.html"><em>基于类的视图的Mixin</em></a> 的文档将帮助你理解在不同的类和Mixin 之间那些属性和方法可能引起冲突。</p>
<p>如果有担心，通常最好退避并基于<a href="../../ref/class-based-views/flattened-index.html#View" title="View"><code>View</code></a> 或<a href="../../ref/class-based-views/flattened-index.html#TemplateView" title="TemplateView"><code>TemplateView</code></a>，或者可能的话加上<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 和 <a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin" title="django.views.generic.list.MultipleObjectMixin"><code>MultipleObjectMixin</code></a>。虽然你可能最终会编写更多的代码，但是对于后来的人更容易理解，而且你自己也少了份担心。（当然，你始终可以深入探究Django 中基于类的通用视图的具体实现以获取如何处理出现的问题的灵感）。</p>
<h3 id="singleobjectmixin-与view-一起使用">SingleObjectMixin 与View 一起使用</h3>
<p>如果你想编写一个简单的基于类的视图，它只响应<code>POST</code>，我们将子类化<a href="../../ref/class-based-views/base.html#django.views.generic.base.View" title="django.views.generic.base.View"><code>View</code></a> 并在子类中只编写一个<code>post()</code> 方法。但是，如果我们想处理一个由URL 标识的特定对象，我们将需要<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 提供的功能。</p>
<p>我们将使用在<a href="generic-display.html"><em>通用的基于类的视图简介</em></a> 中用到的<code>Author</code> 模型做演示。</p>
<p>views.py</p>
<pre><code>from django.http import HttpResponseForbidden, HttpResponseRedirect
from django.core.urlresolvers import reverse
from django.views.generic import View
from django.views.generic.detail import SingleObjectMixin
from books.models import Author

class RecordInterest(SingleObjectMixin, View):
    """Records the current user's interest in an author."""
    model = Author

    def post(self, request, *args, **kwargs):
        if not request.user.is_authenticated():
            return HttpResponseForbidden()

        # Look up the author we're interested in.
        self.object = self.get_object()
        # Actually record interest somehow here!

        return HttpResponseRedirect(reverse('author-detail', kwargs={'pk': self.object.pk}))

</code></pre>
<p>实际应用中，你的对象可能以键-值的方式保存而不是保存在关系数据库中，所以我们不考虑这点。使用<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 的视图唯一需要担心的是在哪里查询我们感兴趣的Author，而它会用一个简单的<code>self.get_object()</code> 调用实现。其它的所有事情都有该Mixin 帮我们处理。</p>
<p>我们可以将它这样放入URL 中，非常简单：</p>
<p>urls.py</p>
<pre><code>from django.conf.urls import url
from books.views import RecordInterest

urlpatterns = [
    #...
    url(r'^author/(?P&lt;pk&gt;[0-9]+)/interest//span&gt;, RecordInterest.as_view(), name='author-interest'),
]

</code></pre>
<p>注意<code>pk</code> 命名组，<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin.get_object" title="django.views.generic.detail.SingleObjectMixin.get_object"><code>get_object()</code></a> 将用它来查询<code>Author</code> 实例。你还可以使用slug，或者<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 的其它功能。</p>
<h3 id="singleobjectmixin-与listview-一起使用">SingleObjectMixin 与ListView 一起使用</h3>
<p><a href="../../ref/class-based-views/generic-display.html#django.views.generic.list.ListView" title="django.views.generic.list.ListView"><code>ListView</code></a> 提供内建的分页，但是可能你分页的列表中每个对象都与另外一个对象（通过一个外键）关联。在我们的Publishing 例子中，你可能想通过一个特定的Publisher 分页所有的Book。</p>
<p>一种方法是组合<a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 和<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a>，这样分页的Book 列表的查询集能够与找到的单个Publisher 对象关联。为了实现这点，我们需要两个不同的查询集：</p>
<p><code>Book</code> queryset for use by <a href="../../ref/class-based-views/generic-display.html#django.views.generic.list.ListView" title="django.views.generic.list.ListView"><code>ListView</code></a></p>
<p>Since we have access to the <code>Publisher</code> whose books we want to list, we simply override <code>get_queryset()</code> and use the <code>Publisher</code>’s <a href="../db/queries.html#backwards-related-objects"><em>reverse foreign key manager</em></a>.</p>
<p><code>Publisher</code> queryset for use in <a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin.get_object" title="django.views.generic.detail.SingleObjectMixin.get_object"><code>get_object()</code></a></p>
<p>We’ll rely on the default implementation of <code>get_object()</code> to fetch the correct <code>Publisher</code> object. However, we need to explicitly pass a <code>queryset</code> argument because otherwise the default implementation of <code>get_object()</code> would call <code>get_queryset()</code> which we have overridden to return <code>Book</code> objects instead of <code>Publisher</code> ones.</p>
<p>注</p>
<p>我们必须仔细考虑<code>get_context_data()</code>。因为<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 和<a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 都会将Context 数据的<code>context_object_name</code> 下，我们必须显式确保<code>Publisher</code> 位于Context 数据中。<a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 将为我们添加合适的<code>page_obj</code> 和 <code>paginator</code> ，只要我们记住调用<code>super()</code>。</p>
<p>现在，我们可以编写一个新的<code>PublisherDetail</code>：</p>
<pre><code>from django.views.generic import ListView
from django.views.generic.detail import SingleObjectMixin
from books.models import Publisher

class PublisherDetail(SingleObjectMixin, ListView):
    paginate_by = 2
    template_name = "books/publisher_detail.html"

    def get(self, request, *args, **kwargs):
        self.object = self.get_object(queryset=Publisher.objects.all())
        return super(PublisherDetail, self).get(request, *args, **kwargs)

    def get_context_data(self, **kwargs):
        context = super(PublisherDetail, self).get_context_data(**kwargs)
        context['publisher'] = self.object
        return context

    def get_queryset(self):
        return self.object.book_set.all()

</code></pre>
<p>注意我们 在 <code>get()</code>方法里设置了<code>self.object</code> ，这样我们就可以在后面的 <code>get_context_data()</code> 和<code>get_queryset()</code>方法里再次用到它. 如果不设置 <code>template_name</code>, 那模板会指向默认的 <a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 所选择的模板, 也就是 <code>"books/book_list.html"</code>，因为这个模板是书目的一个列表; 但<a href="../../ref/class-based-views/flattened-index.html#ListView" title="ListView"><code>ListView</code></a> 对于该类继承了 <a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a>这个类是一无所知的,所以不会对使用<code>Publisher</code>来查看视图有任何反应.</p>
<p><code>paginate_by</code>是每页显示几条数据的意思，这里设的比较小，是因为这样你就不用造一堆数据才能看到分页的效果了！下面是你想要的模板:</p>
<pre><code>{% extends "base.html" %}

{% block content %}
    &lt;h2&gt;Publisher {{ publisher.name }}&lt;/h2&gt;

    &lt;ol&gt;
      {% for book in page_obj %}
        &lt;li&gt;{{ book.title }}&lt;/li&gt;
      {% endfor %}
    &lt;/ol&gt;

     class="pagination"&gt;
         class="step-links"&gt;
            {% if page_obj.has_previous %}
                &lt;a href="?page={{ page_obj.previous_page_number }}"&gt;previous&lt;/a&gt;
            {% endif %}

             class="current"&gt;
                Page {{ page_obj.number }} of {{ paginator.num_pages }}.
            

            {% if page_obj.has_next %}
                &lt;a href="?page={{ page_obj.next_page_number }}"&gt;next&lt;/a&gt;
            {% endif %}
        
    
{% endblock %}

</code></pre>
<h2 id="避免让事情复杂化">避免让事情复杂化</h2>
<p>通常情况下你只在需要相关功能时才会使用 <a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin" title="django.views.generic.base.TemplateResponseMixin"><code>TemplateResponseMixin</code></a>和<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a>这两个类。如上所示，只要加点儿小心，你甚至可以把<code>SingleObjectMixin</code>和<a href="../../ref/class-based-views/generic-display.html#django.views.generic.list.ListView" title="django.views.generic.list.ListView"><code>ListView</code></a>结合在一起来使用. 但是这么搞可能会让事情变得有点复杂，作为一个好的原则：</p>
<p>提示：</p>
<p>你的视图扩展应该仅仅使用那些来自于同一组通用基类的view或者mixins。如: <a href="generic-display.html"><em>detail, list</em></a>, <a href="generic-editing.html"><em>editing</em></a> 和 date. 例如：把 <a href="../../ref/class-based-views/flattened-index.html#TemplateView" title="TemplateView"><code>TemplateView</code></a> (内建视图)和 <a href="../../ref/class-based-views/mixins-multiple-object.html#django.views.generic.list.MultipleObjectMixin" title="django.views.generic.list.MultipleObjectMixin"><code>MultipleObjectMixin</code></a> (通用列表)整合在一起是极好的, 但是若想把<code>SingleObjectMixin</code> (generic detail) 和 <code>MultipleObjectMixin</code> (generic list)整合在一起就有麻烦啦！</p>
<p>To show what happens when you try to get more sophisticated, we show an example that sacrifices readability and maintainability when there is a simpler solution. 首先，我们来看一下如何把<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> 和 <a href="../../ref/class-based-views/mixins-editing.html#django.views.generic.edit.FormMixin" title="django.views.generic.edit.FormMixin"><code>FormMixin</code></a>结合起来，实现 <code>POST</code> 一个 Django <a href="../../ref/forms/api.html#django.forms.Form" title="django.forms.Form"><code>表单</code></a> 到相同URL，这样我们就可以用<a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a>来显示具体对象了.</p>
<h3 id="使用-formmixin-与-detailview">使用 FormMixin 与 DetailView</h3>
<p>想想我们之前合用 <a href="../../ref/class-based-views/flattened-index.html#View" title="View"><code>View</code></a> 和<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a> 的例子. 我们想要记录用户对哪些作者感兴趣; 也就是说我们想让用户发表说为什么喜欢这些作者的信息。同样的，我们假设这些数据并没有存放在关系数据库里，而是存在另外一个奥妙之地（其实这里不用关心具体存放到了哪里）。</p>
<p>要实现这一点，自然而然就要设计一个?<a href="../../ref/forms/api.html#django.forms.Form" title="django.forms.Form"><code>Form</code></a>，让用户把相关信息通过浏览器发送到Django后台。 另外，我们要巧用<a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a>方法,这样我们就可以用相同的URL来显示作者和捕捉来自用户的消息了。 让我们重写 <code>AuthorDetailView</code> 来实现它。</p>
<p>We’ll keep the <code>GET</code> handling from <a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a>, although we’ll have to add a <a href="../../ref/forms/api.html#django.forms.Form" title="django.forms.Form"><code>Form</code></a> into the context data so we can render it in the template. We’ll also want to pull in form processing from <a href="../../ref/class-based-views/mixins-editing.html#django.views.generic.edit.FormMixin" title="django.views.generic.edit.FormMixin"><code>FormMixin</code></a>, and write a bit of code so that on <code>POST</code> the form gets called appropriately.</p>
<p>Note</p>
<p>We use <a href="../../ref/class-based-views/mixins-editing.html#django.views.generic.edit.FormMixin" title="django.views.generic.edit.FormMixin"><code>FormMixin</code></a> and implement <code>post()</code> ourselves rather than try to mix <a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a> with <a href="../../ref/class-based-views/flattened-index.html#FormView" title="FormView"><code>FormView</code></a> (which provides a suitable <code>post()</code> already) because both of the views implement <code>get()</code>, and things would get much more confusing.</p>
<p>Our new <code>AuthorDetail</code> looks like this:</p>
<pre><code># CAUTION: you almost certainly do not want to do this.
# It is provided as part of a discussion of problems you can
# run into when combining different generic class-based view
# functionality that is not designed to be used together.

from django import forms
from django.http import HttpResponseForbidden
from django.core.urlresolvers import reverse
from django.views.generic import DetailView
from django.views.generic.edit import FormMixin
from books.models import Author

class AuthorInterestForm(forms.Form):
    message = forms.CharField()

class AuthorDetail(FormMixin, DetailView):
    model = Author
    form_class = AuthorInterestForm

    def get_success_url(self):
        return reverse('author-detail', kwargs={'pk': self.object.pk})

    def get_context_data(self, **kwargs):
        context = super(AuthorDetail, self).get_context_data(**kwargs)
        context['form'] = self.get_form()
        return context

    def post(self, request, *args, **kwargs):
        if not request.user.is_authenticated():
            return HttpResponseForbidden()
        self.object = self.get_object()
        form = self.get_form()
        if form.is_valid():
            return self.form_valid(form)
        else:
            return self.form_invalid(form)

    def form_valid(self, form):
        # Here, we would record the user's interest using the message
        # passed in form.cleaned_data['message']
        return super(AuthorDetail, self).form_valid(form)

</code></pre>
<p><code>get_success_url()</code> is just providing somewhere to redirect to, which gets used in the default implementation of <code>form_valid()</code>. We have to provide our own <code>post()</code> as noted earlier, and override <code>get_context_data()</code> to make the <a href="../../ref/forms/api.html#django.forms.Form" title="django.forms.Form"><code>Form</code></a> available in the context data.</p>
<h3 id="优化方案">优化方案</h3>
<p>It should be obvious that the number of subtle interactions between <a href="../../ref/class-based-views/mixins-editing.html#django.views.generic.edit.FormMixin" title="django.views.generic.edit.FormMixin"><code>FormMixin</code></a> and <a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a> is already testing our ability to manage things. 你不太可能会去想自己写这种类的。</p>
<p>In this case, it would be fairly easy to just write the <code>post()</code> method yourself, keeping <a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a> as the only generic functionality, although writing <a href="../../ref/forms/api.html#django.forms.Form" title="django.forms.Form"><code>Form</code></a> handling code involves a lot of duplication.</p>
<p>Alternatively, it would still be easier than the above approach to have a separate view for processing the form, which could use <a href="../../ref/class-based-views/generic-editing.html#django.views.generic.edit.FormView" title="django.views.generic.edit.FormView"><code>FormView</code></a> distinct from <a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a> without concerns.</p>
<h3 id="其他可选的方案">其他可选的方案</h3>
<p>What we’re really trying to do here is to use two different class based views from the same URL. So why not do just that? We have a very clear division here: <code>GET</code> requests should get the <a href="../../ref/class-based-views/flattened-index.html#DetailView" title="DetailView"><code>DetailView</code></a> (with the <a href="../../ref/forms/api.html#django.forms.Form" title="django.forms.Form"><code>Form</code></a> added to the context data), and <code>POST</code> requests should get the <a href="../../ref/class-based-views/flattened-index.html#FormView" title="FormView"><code>FormView</code></a>. Let’s set up those views first.</p>
<p>The <code>AuthorDisplay</code> view is almost the same as <a href="generic-display.html#generic-views-extra-work"><em>when we first introduced AuthorDetail</em></a>; we have to write our own <code>get_context_data()</code> to make the <code>AuthorInterestForm</code> available to the template. We’ll skip the <code>get_object()</code> override from before for clarity:</p>
<pre><code>from django.views.generic import DetailView
from django import forms
from books.models import Author

class AuthorInterestForm(forms.Form):
    message = forms.CharField()

class AuthorDisplay(DetailView):
    model = Author

    def get_context_data(self, **kwargs):
        context = super(AuthorDisplay, self).get_context_data(**kwargs)
        context['form'] = AuthorInterestForm()
        return context

</code></pre>
<p>?<code>AuthorInterest</code>是一个简单的 <a href="../../ref/class-based-views/flattened-index.html#FormView" title="FormView"><code>FormView</code></a>, 但是我们不得不把<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectMixin" title="django.views.generic.detail.SingleObjectMixin"><code>SingleObjectMixin</code></a>引入进来，这样我们才能定位我们评论的作者，并且我们还要记得设置<code>template_name</code>来确保form出错时使用?<code>GET</code>会渲染到?<code>AuthorDisplay</code>相同的模板 :</p>
<pre><code>from django.core.urlresolvers import reverse
from django.http import HttpResponseForbidden
from django.views.generic import FormView
from django.views.generic.detail import SingleObjectMixin

class AuthorInterest(SingleObjectMixin, FormView):
    template_name = 'books/author_detail.html'
    form_class = AuthorInterestForm
    model = Author

    def post(self, request, *args, **kwargs):
        if not request.user.is_authenticated():
            return HttpResponseForbidden()
        self.object = self.get_object()
        return super(AuthorInterest, self).post(request, *args, **kwargs)

    def get_success_url(self):
        return reverse('author-detail', kwargs={'pk': self.object.pk})

</code></pre>
<p>Finally we bring this together in a new <code>AuthorDetail</code> view. We already know that calling <a href="../../ref/class-based-views/base.html#django.views.generic.base.View.as_view" title="django.views.generic.base.View.as_view"><code>as_view()</code></a> on a class-based view gives us something that behaves exactly like a function based view, so we can do that at the point we choose between the two subviews.</p>
<p>You can of course pass through keyword arguments to <a href="../../ref/class-based-views/base.html#django.views.generic.base.View.as_view" title="django.views.generic.base.View.as_view"><code>as_view()</code></a> in the same way you would in your URLconf, such as if you wanted the <code>AuthorInterest</code> behavior to also appear at another URL but using a different template:</p>
<pre><code>from django.views.generic import View

class AuthorDetail(View):

    def get(self, request, *args, **kwargs):
        view = AuthorDisplay.as_view()
        return view(request, *args, **kwargs)

    def post(self, request, *args, **kwargs):
        view = AuthorInterest.as_view()
        return view(request, *args, **kwargs)

</code></pre>
<p>This approach can also be used with any other generic class-based views or your own class-based views inheriting directly from <a href="../../ref/class-based-views/flattened-index.html#View" title="View"><code>View</code></a> or <a href="../../ref/class-based-views/flattened-index.html#TemplateView" title="TemplateView"><code>TemplateView</code></a>, as it keeps the different views as separate as possible.</p>
<h2 id="返回html-以外的内容">返回HTML 以外的内容</h2>
<p>基于类的视图在同一件事需要实现多次的时候非常有优势。假设你正在编写API，每个视图应该返回JSON 而不是渲染后的HTML。</p>
<p>我们可以创建一个Mixin 类来处理JSON 的转换，并将它用于所有的视图。</p>
<p>例如，一个简单的JSON Mixin 可能像这样：</p>
<pre><code>from django.http import JsonResponse

class JSONResponseMixin(object):
    """
 A mixin that can be used to render a JSON response.
 """
    def render_to_json_response(self, context, **response_kwargs):
        """
 Returns a JSON response, transforming 'context' to make the payload.
 """
        return JsonResponse(
            self.get_data(context),
            **response_kwargs
        )

    def get_data(self, context):
        """
 Returns an object that will be serialized as JSON by json.dumps().
 """
        # Note: This is *EXTREMELY* naive; in reality, you'll need
        # to do much more complex handling to ensure that arbitrary
        # objects -- such as Django model instances or querysets
        # -- can be serialized as JSON.
        return context

</code></pre>
<p>注</p>
<p>查看<a href="../serialization.html"><em>序列化Django 对象</em></a> 的文档，其中有如何正确转换Django 模型和查询集到JSON 的更多信息。</p>
<p>该Mixin 提供一个<code>render_to_json_response()</code> 方法，它与 <a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.render_to_response" title="django.views.generic.base.TemplateResponseMixin.render_to_response"><code>render_to_response()</code></a> 的参数相同。要使用它，我们只需要将它与<code>TemplateView</code> 组合，并覆盖<code>render_to_response()</code> 来调用<code>render_to_json_response()</code>：</p>
<pre><code>from django.views.generic import TemplateView

class JSONView(JSONResponseMixin, TemplateView):
    def render_to_response(self, context, **response_kwargs):
        return self.render_to_json_response(context, **response_kwargs)

</code></pre>
<p>同样地，我们可以将我们的Mixin 与某个通用的视图一起使用。我们可以实现自己的<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> 版本，将<code>JSONResponseMixin</code> 和<code>django.views.generic.detail.BaseDetailView</code> 组合– (the <a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> before template rendering behavior has been mixed in):</p>
<pre><code>from django.views.generic.detail import BaseDetailView

class JSONDetailView(JSONResponseMixin, BaseDetailView):
    def render_to_response(self, context, **response_kwargs):
        return self.render_to_json_response(context, **response_kwargs)

</code></pre>
<p>这个视图可以和其它<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> 一样使用，它们的行为完全相同 —— 除了响应的格式之外。</p>
<p>如果你想更进一步，你可以组合<a href="../../ref/class-based-views/generic-display.html#django.views.generic.detail.DetailView" title="django.views.generic.detail.DetailView"><code>DetailView</code></a> 的子类，它根据HTTP 请求的某个属性_既_能够返回HTML 又能够返回JSON 内容，例如查询参数或HTTP 头部。这只需将<code>JSONResponseMixin</code> 和<a href="../../ref/class-based-views/mixins-single-object.html#django.views.generic.detail.SingleObjectTemplateResponseMixin" title="django.views.generic.detail.SingleObjectTemplateResponseMixin"><code>SingleObjectTemplateResponseMixin</code></a> 组合，并覆盖<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.render_to_response" title="django.views.generic.base.TemplateResponseMixin.render_to_response"><code>render_to_response()</code></a> 的实现以根据用户请求的响应类型进行正确的渲染：</p>
<pre><code>from django.views.generic.detail import SingleObjectTemplateResponseMixin

class HybridDetailView(JSONResponseMixin, SingleObjectTemplateResponseMixin, BaseDetailView):
    def render_to_response(self, context):
        # Look for a 'format=json' GET argument
        if self.request.GET.get('format') == 'json':
            return self.render_to_json_response(context)
        else:
            return super(HybridDetailView, self).render_to_response(context)

</code></pre>
<p>由于Python 解析方法重载的方式，<code>super(HybridDetailView, self).render_to_response(context)</code> 调用将以调用 <a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin" title="django.views.generic.base.TemplateResponseMixin"><code>TemplateResponseMixin</code></a> 的<a href="../../ref/class-based-views/mixins-simple.html#django.views.generic.base.TemplateResponseMixin.render_to_response" title="django.views.generic.base.TemplateResponseMixin.render_to_response"><code>render_to_response()</code></a> 实现结束。</p>
</div>
<hr class="uk-article-divider">
<div class="uk-block uk-block-muted uk-padding-top-remove uk-padding-bottom-remove uk-margin-large-top  book-recommend-wrap">
<div class="uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right">
<div class="uk-margin uk-text-muted "><i class="uk-icon-outdent uk-icon-justify uk-margin-small-right"></i>书籍推荐</div>
<div class="books">
<ul class="uk-book-list">
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/112/index.html">
<img class="uk-book-cover" src="../../static/icons/48/django_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/112/index.html">从Python到Django入门教程</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/62.html">tzivanmoe</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="django">django</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="python">python</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">41页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年7月1日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 2个">2</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/121/index.html">
<img class="uk-book-cover" src="../../static/icons/48/code_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/121/index.html">CGDB中文手册</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/62.html">tzivanmoe</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="code">code</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">25页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年7月1日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1个">1</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/89/index.html">
<img class="uk-book-cover" src="../../static/icons/48/go_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/89/index.html">Go 语言资源大全中文版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/19.html">伯乐在线</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="go">go</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">74页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月29日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 207个">207</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/111/index.html">
<img class="uk-book-cover" src="../../static/icons/48/kubernetes_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/111/index.html">和我一步步部署 kubernetes 集群</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/62.html">tzivanmoe</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="kubernetes">kubernetes</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">17页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年7月1日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 0个">0</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/73/index.html">
<img class="uk-book-cover" src="../../static/icons/48/go_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/73/index.html">Go语言高级编程</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/44.html">chai2010</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="go">go</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">49页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月8日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 2423个">2423</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../book/17/index.html">
<img class="uk-book-cover" src="../../static/icons/48/go_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../book/17/index.html">Go语言博客实践</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../user/12.html">achun</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="go">go</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">30页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 298个">298</span>
</div>
</div>
</div>
</li>
<hr>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="tm-navbar uk-navbar uk-navbar-attached reader-nav">
<div class="uk-float-left uk-margin-small-top">
<a href="javascript:;" title="目录菜单" class="show-menu  uk-icon-hover  uk-icon-align-justify uk-margin-right"></a>
<div data-uk-dropdown="{mode:'click',pos:'bottom-left'}" class="font-setting-wrap">
<a class="uk-icon-hover uk-icon-font uk-margin-right" aria-label="字体设置" href="javascript:;"></a>
<div class="uk-dropdown dropdown-menu">
<div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-reduce">小字</button>
<button class="uk-button-link button size-2 font-enlarge">大字</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-1 ">宋体</button>
<button class="uk-button-link button size-2 font-2 ">黑体</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-3 color-theme-sun "><i class="uk-icon-sun-o"></i>白天</button>
<button class="uk-button-link button size-3 color-theme-eye "><i class="uk-icon-eye"></i>护眼</button>
<button class="uk-button-link button size-3 color-theme-moon "><i class="uk-icon-moon-o"></i>夜晚</button></div>
</div>
</div>
<a class="logo uk-margin-right" href="../../" title="返回首页"><img class="" src="../../static/components/images/icon_32.png" /></a>
</div>
<div class="uk-navbar-flip  uk-hidden-small">
<div id="share-box"></div>
</div>
</nav>
<div id="menu-id" class="uk-offcanvas reader-offcanvas">
<div class="uk-offcanvas-bar">
<ul class="book-menu-bar uk-nav uk-nav-offcanvas" data-uk-nav>
<li>
<a href="../../book/35/index.html" data-book-page-rel-url="index.html" data-book-page-id="0" title="封面">封面</a>
</li>
<li>
<a class="pjax" href="../../book/35/readme.html" data-book-page-rel-url="readme.html" data-book-page-id="0" title="简介">简介</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_First%20steps.html" title="新手入门" data-book-page-rel-url="1_First%20steps.html" data-book-page-id="2038">新手入门</a>
<ul>
<li>
<a class="pjax" href="../../book/35/1_1.html" title="从零开始" data-book-page-rel-url="1_1.html" data-book-page-id="2039">从零开始</a>
<ul>
<li>
<a class="pjax" href="../../book/35/1_1_1_Django%20at%20a%20glance.html" title="概览" data-book-page-rel-url="1_1_1_Django%20at%20a%20glance.html" data-book-page-id="2040">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_1_2_Quick%20install%20guide.html" title="安装" data-book-page-rel-url="1_1_2_Quick%20install%20guide.html" data-book-page-id="2041">安装</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/1_2.html" title="教程" data-book-page-rel-url="1_2.html" data-book-page-id="2042">教程</a>
<ul>
<li>
<a class="pjax" href="../../book/35/1_2_1_Part%201%20Models.html" title="第1部分：模型" data-book-page-rel-url="1_2_1_Part%201%20Models.html" data-book-page-id="2043">第1部分：模型</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_2_2_Part%202%20The%20admin%20site.html" title="第2部分：管理站点" data-book-page-rel-url="1_2_2_Part%202%20The%20admin%20site.html" data-book-page-id="2044">第2部分：管理站点</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_2_3_Part%203%20Views%20and%20templates.html" title="第3部分：视图和模板" data-book-page-rel-url="1_2_3_Part%203%20Views%20and%20templates.html" data-book-page-id="2045">第3部分：视图和模板</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_2_4_Part%204%20Forms%20and%20generic%20views.html" title="第4部分：表单和通用视图" data-book-page-rel-url="1_2_4_Part%204%20Forms%20and%20generic%20views.html" data-book-page-id="2046">第4部分：表单和通用视图</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_2_5_Part%205%20Testing.html" title="第5部分：测试" data-book-page-rel-url="1_2_5_Part%205%20Testing.html" data-book-page-id="2047">第5部分：测试</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_2_6_Part%206%20Static%20files.html" title="第6部分：静态文件" data-book-page-rel-url="1_2_6_Part%206%20Static%20files.html" data-book-page-id="2048">第6部分：静态文件</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/1_3.html" title="高级教程" data-book-page-rel-url="1_3.html" data-book-page-id="2049">高级教程</a>
<ul>
<li>
<a class="pjax" href="../../book/35/1_3_1_How%20to%20write%20reusable%20apps.html" title="如何编写可重用的应用" data-book-page-rel-url="1_3_1_How%20to%20write%20reusable%20apps.html" data-book-page-id="2050">如何编写可重用的应用</a>
</li>
<li>
<a class="pjax" href="../../book/35/1_3_2_Writing%20your%20first%20patch%20for%20Django.html" title="为Django编写首个补丁" data-book-page-rel-url="1_3_2_Writing%20your%20first%20patch%20for%20Django.html" data-book-page-id="2051">为Django编写首个补丁</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/2_The%20model%20layer.html" title="模型层" data-book-page-rel-url="2_The%20model%20layer.html" data-book-page-id="2052">模型层</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_1.html" title="模型" data-book-page-rel-url="2_1.html" data-book-page-id="2053">模型</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_1_1_Model%20syntax.html" title="模型语法" data-book-page-rel-url="2_1_1_Model%20syntax.html" data-book-page-id="2054">模型语法</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_1_2_Field%20types.html" title="字段类型" data-book-page-rel-url="2_1_2_Field%20types.html" data-book-page-id="2055">字段类型</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_1_3_Meta%20options.html" title="元选项" data-book-page-rel-url="2_1_3_Meta%20options.html" data-book-page-id="2056">元选项</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_1_4_Model%20class.html" title="模型类" data-book-page-rel-url="2_1_4_Model%20class.html" data-book-page-id="2057">模型类</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/2_2.html" title="查询集" data-book-page-rel-url="2_2.html" data-book-page-id="2058">查询集</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_2_1_Making%20queries.html" title="执行查询" data-book-page-rel-url="2_2_1_Making%20queries.html" data-book-page-id="2059">执行查询</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_2_2_QuerySet%20method%20reference.html" title="查询集方法参考" data-book-page-rel-url="2_2_2_QuerySet%20method%20reference.html" data-book-page-id="2060">查询集方法参考</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_2_3_Lookup%20expressions.html" title="查找表达式" data-book-page-rel-url="2_2_3_Lookup%20expressions.html" data-book-page-id="2061">查找表达式</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/2_3.html" title="模型的实例" data-book-page-rel-url="2_3.html" data-book-page-id="2062">模型的实例</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_3_1_Instance%20methods.html" title="实例方法" data-book-page-rel-url="2_3_1_Instance%20methods.html" data-book-page-id="2063">实例方法</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_3_2_Accessing%20related%20objects.html" title="访问关联对象" data-book-page-rel-url="2_3_2_Accessing%20related%20objects.html" data-book-page-id="2064">访问关联对象</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/2_4.html" title="迁移" data-book-page-rel-url="2_4.html" data-book-page-id="2065">迁移</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_4_1_Introduction%20to%20Migrations.html" title="迁移简介" data-book-page-rel-url="2_4_1_Introduction%20to%20Migrations.html" data-book-page-id="2066">迁移简介</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_4_2_Operations%20reference.html" title="操作参考" data-book-page-rel-url="2_4_2_Operations%20reference.html" data-book-page-id="2067">操作参考</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_4_3_SchemaEditor.html" title="模式编辑器" data-book-page-rel-url="2_4_3_SchemaEditor.html" data-book-page-id="2068">模式编辑器</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_4_4_Writing%20migrations.html" title="编写迁移" data-book-page-rel-url="2_4_4_Writing%20migrations.html" data-book-page-id="2069">编写迁移</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/2_5.html" title="高级" data-book-page-rel-url="2_5.html" data-book-page-id="2070">高级</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_5_1_Manager.html" title="管理器" data-book-page-rel-url="2_5_1_Manager.html" data-book-page-id="2071">管理器</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_2_Performing%20raw%20SQL%20queries.html" title="原始的SQL查询" data-book-page-rel-url="2_5_2_Performing%20raw%20SQL%20queries.html" data-book-page-id="2072">原始的SQL查询</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_3_Transactions.html" title="事务" data-book-page-rel-url="2_5_3_Transactions.html" data-book-page-id="2073">事务</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_4_Aggregation.html" title="聚合" data-book-page-rel-url="2_5_4_Aggregation.html" data-book-page-id="2074">聚合</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_5_Custom%20fields.html" title="自定义字段" data-book-page-rel-url="2_5_5_Custom%20fields.html" data-book-page-id="2075">自定义字段</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_6_Multiple%20databases.html" title="多数据库" data-book-page-rel-url="2_5_6_Multiple%20databases.html" data-book-page-id="2076">多数据库</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_7_Custom%20lookups.html" title="自定义查找" data-book-page-rel-url="2_5_7_Custom%20lookups.html" data-book-page-id="2077">自定义查找</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_8_Query%20Expressions.html" title="查询表达式" data-book-page-rel-url="2_5_8_Query%20Expressions.html" data-book-page-id="2078">查询表达式</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_9_Conditional%20Expressions.html" title="条件表达式" data-book-page-rel-url="2_5_9_Conditional%20Expressions.html" data-book-page-id="2079">条件表达式</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_5_10_Database%20Functions.html" title="数据库函数" data-book-page-rel-url="2_5_10_Database%20Functions.html" data-book-page-id="2080">数据库函数</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/2_6.html" title="其它" data-book-page-rel-url="2_6.html" data-book-page-id="2081">其它</a>
<ul>
<li>
<a class="pjax" href="../../book/35/2_6_1_Supported%20databases.html" title="支持的数据库" data-book-page-rel-url="2_6_1_Supported%20databases.html" data-book-page-id="2082">支持的数据库</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_6_2_Legacy%20databases.html" title="遗留的数据库" data-book-page-rel-url="2_6_2_Legacy%20databases.html" data-book-page-id="2083">遗留的数据库</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_6_3_Providing%20initial%20data.html" title="提供初始数据" data-book-page-rel-url="2_6_3_Providing%20initial%20data.html" data-book-page-id="2084">提供初始数据</a>
</li>
<li>
<a class="pjax" href="../../book/35/2_6_4_Optimize%20database%20access.html" title="优化数据库访问" data-book-page-rel-url="2_6_4_Optimize%20database%20access.html" data-book-page-id="2085">优化数据库访问</a>
</li>
<li>
<a class="pjax" href="../../book/35/SUMMARY.html" title="PostgreSQL特色功能" data-book-page-rel-url="SUMMARY.html" data-book-page-id="2086">PostgreSQL特色功能</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/3_The%20view%20layer.html" title="视图层" data-book-page-rel-url="3_The%20view%20layer.html" data-book-page-id="2087">视图层</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_1.html" title="基础" data-book-page-rel-url="3_1.html" data-book-page-id="2088">基础</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_1_1_URLconfs.html" title="URL配置" data-book-page-rel-url="3_1_1_URLconfs.html" data-book-page-id="2089">URL配置</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_1_2_View%20functions.html" title="视图函数" data-book-page-rel-url="3_1_2_View%20functions.html" data-book-page-id="2090">视图函数</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_1_3_Shortcuts.html" title="快捷函数" data-book-page-rel-url="3_1_3_Shortcuts.html" data-book-page-id="2091">快捷函数</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_1_4_Decorators.html" title="装饰器" data-book-page-rel-url="3_1_4_Decorators.html" data-book-page-id="2092">装饰器</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/3_2.html" title="参考" data-book-page-rel-url="3_2.html" data-book-page-id="2093">参考</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_2_1_Built-in%20Views.html" title="内建的视图" data-book-page-rel-url="3_2_1_Built-in%20Views.html" data-book-page-id="2094">内建的视图</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_2_2_Request%20response%20objects.html" title="请求/响应 对象" data-book-page-rel-url="3_2_2_Request%20response%20objects.html" data-book-page-id="2095">请求/响应 对象</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_2_3_TemplateResponse%20objects.html" title="TemplateResponse 对象" data-book-page-rel-url="3_2_3_TemplateResponse%20objects.html" data-book-page-id="2096">TemplateResponse 对象</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_2_4_TemplateResponse%20objects.html" title="TemplateResponse 和SimpleTemplateResponse" data-book-page-rel-url="3_2_4_TemplateResponse%20objects.html" data-book-page-id="2097">TemplateResponse 和SimpleTemplateResponse</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/3_3.html" title="文件上传" data-book-page-rel-url="3_3.html" data-book-page-id="2098">文件上传</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_3_1_Overview.html" title="概览" data-book-page-rel-url="3_3_1_Overview.html" data-book-page-id="2099">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_3_2_File%20objects.html" title="File 对象" data-book-page-rel-url="3_3_2_File%20objects.html" data-book-page-id="2100">File 对象</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_3_3_Storage%20API.html" title="储存API" data-book-page-rel-url="3_3_3_Storage%20API.html" data-book-page-id="2101">储存API</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_3_4_Managing%20files.html" title="管理文件" data-book-page-rel-url="3_3_4_Managing%20files.html" data-book-page-id="2102">管理文件</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_3_5_Custom%20storage.html" title="自定义存储" data-book-page-rel-url="3_3_5_Custom%20storage.html" data-book-page-id="2103">自定义存储</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/3_4.html" title="基于类的视图" data-book-page-rel-url="3_4.html" data-book-page-id="2104">基于类的视图</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_4_1_Overview.html" title="概览" data-book-page-rel-url="3_4_1_Overview.html" data-book-page-id="2105">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_4_2_Built-in%20display%20views.html" title="内建显示视图" data-book-page-rel-url="3_4_2_Built-in%20display%20views.html" data-book-page-id="2106">内建显示视图</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_4_3_Built-in%20editing%20views.html" title="内建编辑视图" data-book-page-rel-url="3_4_3_Built-in%20editing%20views.html" data-book-page-id="2107">内建编辑视图</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_4_4_Using%20mixins.html" title="使用Mixin" data-book-page-rel-url="3_4_4_Using%20mixins.html" data-book-page-id="2108">使用Mixin</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_4_5_API%20reference.html" title="API参考" data-book-page-rel-url="3_4_5_API%20reference.html" data-book-page-id="2109">API参考</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_4_6_Flattened%20index.html" title="分类索引" data-book-page-rel-url="3_4_6_Flattened%20index.html" data-book-page-id="2110">分类索引</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/3_5.html" title="高级" data-book-page-rel-url="3_5.html" data-book-page-id="2111">高级</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_5_1_Generating%20CSV.html" title="生成 CSV" data-book-page-rel-url="3_5_1_Generating%20CSV.html" data-book-page-id="2112">生成 CSV</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_5_2_Generating%20PDF.html" title="生成 PDF" data-book-page-rel-url="3_5_2_Generating%20PDF.html" data-book-page-id="2113">生成 PDF</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/3_6.html" title="中间件" data-book-page-rel-url="3_6.html" data-book-page-id="2114">中间件</a>
<ul>
<li>
<a class="pjax" href="../../book/35/3_6_1_Overview.html" title="概览" data-book-page-rel-url="3_6_1_Overview.html" data-book-page-id="2115">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/3_6_2_Built-in%20middleware%20classes.html" title="内建的中间件类" data-book-page-rel-url="3_6_2_Built-in%20middleware%20classes.html" data-book-page-id="2116">内建的中间件类</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/4_The%20template%20layer.html" title="模板层" data-book-page-rel-url="4_The%20template%20layer.html" data-book-page-id="2117">模板层</a>
<ul>
<li>
<a class="pjax" href="../../book/35/4_1.html" title="基础" data-book-page-rel-url="4_1.html" data-book-page-id="2118">基础</a>
<ul>
<li>
<a class="pjax" href="../../book/35/4_1_1_Overview.html" title="概览" data-book-page-rel-url="4_1_1_Overview.html" data-book-page-id="2119">概览</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/4_2.html" title="面向设计师" data-book-page-rel-url="4_2.html" data-book-page-id="2120">面向设计师</a>
<ul>
<li>
<a class="pjax" href="../../book/35/4_2_1_Language%20overview.html" title="语言概览" data-book-page-rel-url="4_2_1_Language%20overview.html" data-book-page-id="2121">语言概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/4_2_2_Built-in%20tags%20and%20filters.html" title="内建标签和过滤器" data-book-page-rel-url="4_2_2_Built-in%20tags%20and%20filters.html" data-book-page-id="2122">内建标签和过滤器</a>
</li>
<li>
<a class="pjax" href="../../book/35/4_2_3_Web%20design%20helpers.html" title="网页设计助手(已废弃)" data-book-page-rel-url="4_2_3_Web%20design%20helpers.html" data-book-page-id="2123">网页设计助手(已废弃)</a>
</li>
<li>
<a class="pjax" href="../../book/35/4_2_4_Humanization.html" title="人性化" data-book-page-rel-url="4_2_4_Humanization.html" data-book-page-id="2124">人性化</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/4_3.html" title="面向程序员" data-book-page-rel-url="4_3.html" data-book-page-id="2125">面向程序员</a>
<ul>
<li>
<a class="pjax" href="../../book/35/4_3_1_Template%20API.html" title="模板API" data-book-page-rel-url="4_3_1_Template%20API.html" data-book-page-id="2126">模板API</a>
</li>
<li>
<a class="pjax" href="../../book/35/4_3_2_Custom%20tags%20and%20filters.html" title="自定义标签和过滤器" data-book-page-rel-url="4_3_2_Custom%20tags%20and%20filters.html" data-book-page-id="2127">自定义标签和过滤器</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/5_Forms.html" title="表单" data-book-page-rel-url="5_Forms.html" data-book-page-id="2128">表单</a>
<ul>
<li>
<a class="pjax" href="../../book/35/5_1.html" title="基础" data-book-page-rel-url="5_1.html" data-book-page-id="2129">基础</a>
<ul>
<li>
<a class="pjax" href="../../book/35/5_1_1_Overview.html" title="概览" data-book-page-rel-url="5_1_1_Overview.html" data-book-page-id="2130">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/5_1_2_Form%20API.html" title="表单API" data-book-page-rel-url="5_1_2_Form%20API.html" data-book-page-id="2131">表单API</a>
</li>
<li>
<a class="pjax" href="../../book/35/5_1_3_Built-in%20widgets.html" title="内建的字段" data-book-page-rel-url="5_1_3_Built-in%20widgets.html" data-book-page-id="2132">内建的字段</a>
</li>
<li>
<a class="pjax" href="../../book/35/5_1_4_Built-in%20widgets.html" title="内建的Widget" data-book-page-rel-url="5_1_4_Built-in%20widgets.html" data-book-page-id="2133">内建的Widget</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/5_2.html" title="高级" data-book-page-rel-url="5_2.html" data-book-page-id="2134">高级</a>
<ul>
<li>
<a class="pjax" href="../../book/35/5_2_1_Forms%20for%20models.html" title="模型表单" data-book-page-rel-url="5_2_1_Forms%20for%20models.html" data-book-page-id="2135">模型表单</a>
</li>
<li>
<a class="pjax" href="../../book/35/5_2_2_Integrating%20media.html" title="整合媒体" data-book-page-rel-url="5_2_2_Integrating%20media.html" data-book-page-id="2136">整合媒体</a>
</li>
<li>
<a class="pjax" href="../../book/35/5_2_3_Formsets.html" title="表单集" data-book-page-rel-url="5_2_3_Formsets.html" data-book-page-id="2137">表单集</a>
</li>
<li>
<a class="pjax" href="../../book/35/5_2_4_Customizing%20validation.html" title="自定义验证" data-book-page-rel-url="5_2_4_Customizing%20validation.html" data-book-page-id="2138">自定义验证</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/6_The%20development%20process.html" title="开发过程" data-book-page-rel-url="6_The%20development%20process.html" data-book-page-id="2139">开发过程</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_1.html" title="设置" data-book-page-rel-url="6_1.html" data-book-page-id="2140">设置</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_1_1_Overview.html" title="概览" data-book-page-rel-url="6_1_1_Overview.html" data-book-page-id="2141">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_1_2_Full%20list%20of%20settings.html" title="完整设置列表" data-book-page-rel-url="6_1_2_Full%20list%20of%20settings.html" data-book-page-id="2142">完整设置列表</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/6_2.html" title="应用程序" data-book-page-rel-url="6_2.html" data-book-page-id="2143">应用程序</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_2_Overview.html" title="概览" data-book-page-rel-url="6_2_Overview.html" data-book-page-id="2144">概览</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/6_3.html" title="异常" data-book-page-rel-url="6_3.html" data-book-page-id="2145">异常</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_3_Overview.html" title="概览" data-book-page-rel-url="6_3_Overview.html" data-book-page-id="2146">概览</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/6_4.html" title="django-admin 和 manage.py" data-book-page-rel-url="6_4.html" data-book-page-id="2147">django-admin 和 manage.py</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_4_1_Overview.html" title="概览" data-book-page-rel-url="6_4_1_Overview.html" data-book-page-id="2148">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_4_2_Adding%20custom%20commands.html" title="添加自定义的命令" data-book-page-rel-url="6_4_2_Adding%20custom%20commands.html" data-book-page-id="2149">添加自定义的命令</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/6_5.html" title="测试" data-book-page-rel-url="6_5.html" data-book-page-id="2150">测试</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_5_1_Introduction.html" title="介绍" data-book-page-rel-url="6_5_1_Introduction.html" data-book-page-id="2151">介绍</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_5_2_Writing%20and%20running%20tests.html" title="编写并运行测试" data-book-page-rel-url="6_5_2_Writing%20and%20running%20tests.html" data-book-page-id="2152">编写并运行测试</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_5_3_Included%20testing%20tools.html" title="包含的测试工具" data-book-page-rel-url="6_5_3_Included%20testing%20tools.html" data-book-page-id="2153">包含的测试工具</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_5_4_Advanced%20topics.html" title="高级主题" data-book-page-rel-url="6_5_4_Advanced%20topics.html" data-book-page-id="2154">高级主题</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/6_6.html" title="部署" data-book-page-rel-url="6_6.html" data-book-page-id="2155">部署</a>
<ul>
<li>
<a class="pjax" href="../../book/35/6_6_1_Overview.html" title="概述" data-book-page-rel-url="6_6_1_Overview.html" data-book-page-id="2156">概述</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_6_2_WSGI%20servers.html" title="WSGI服务器" data-book-page-rel-url="6_6_2_WSGI%20servers.html" data-book-page-id="2157">WSGI服务器</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_6_3_FastCGI%20SCGI%20AJP.html" title="FastCGI/SCGI/AJP (已废弃)" data-book-page-rel-url="6_6_3_FastCGI%20SCGI%20AJP.html" data-book-page-id="2158">FastCGI/SCGI/AJP (已废弃)</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_6_4_Deploying%20static%20files.html" title="部署静态文件" data-book-page-rel-url="6_6_4_Deploying%20static%20files.html" data-book-page-id="2159">部署静态文件</a>
</li>
<li>
<a class="pjax" href="../../book/35/6_6_5_Tracking%20code%20errors%20by%20email.html" title="通过email追踪代码错误" data-book-page-rel-url="6_6_5_Tracking%20code%20errors%20by%20email.html" data-book-page-id="2160">通过email追踪代码错误</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/7_Admin.html" title="Admin" data-book-page-rel-url="7_Admin.html" data-book-page-id="2161">Admin</a>
<ul>
<li>
<a class="pjax" href="../../book/35/7_1_Admin%20site.html" title="管理站点" data-book-page-rel-url="7_1_Admin%20site.html" data-book-page-id="2162">管理站点</a>
</li>
<li>
<a class="pjax" href="../../book/35/7_2_Admin%20actions.html" title="管理操作" data-book-page-rel-url="7_2_Admin%20actions.html" data-book-page-id="2163">管理操作</a>
</li>
<li>
<a class="pjax" href="../../book/35/7_3_Admin%20documentation%20generator.html" title="管理文档生成器" data-book-page-rel-url="7_3_Admin%20documentation%20generator.html" data-book-page-id="2164">管理文档生成器</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/8_Security.html" title="安全" data-book-page-rel-url="8_Security.html" data-book-page-id="2165">安全</a>
<ul>
<li>
<a class="pjax" href="../../book/35/8_1_Security%20overview.html" title="安全概述" data-book-page-rel-url="8_1_Security%20overview.html" data-book-page-id="2166">安全概述</a>
</li>
<li>
<a class="pjax" href="../../book/35/8_2_Disclosed%20security%20issues%20in%20Django.html" title="说明Django中的安全问题" data-book-page-rel-url="8_2_Disclosed%20security%20issues%20in%20Django.html" data-book-page-id="2167">说明Django中的安全问题</a>
</li>
<li>
<a class="pjax" href="../../book/35/8_3_Clickjacking%20protection.html" title="点击劫持保护" data-book-page-rel-url="8_3_Clickjacking%20protection.html" data-book-page-id="2168">点击劫持保护</a>
</li>
<li>
<a class="pjax" href="../../book/35/8_4_Cross%20Site%20Request%20Forgery%20protection.html" title="伪造跨站请求保护" data-book-page-rel-url="8_4_Cross%20Site%20Request%20Forgery%20protection.html" data-book-page-id="2169">伪造跨站请求保护</a>
</li>
<li>
<a class="pjax" href="../../book/35/8_5_Cryptographic%20signing.html" title="加密签名" data-book-page-rel-url="8_5_Cryptographic%20signing.html" data-book-page-id="2170">加密签名</a>
</li>
<li>
<a class="pjax" href="../../book/35/8_6_Security%20Middleware.html" title="安全中间件" data-book-page-rel-url="8_6_Security%20Middleware.html" data-book-page-id="2171">安全中间件</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/9_Internationalization%20and%20localization.html" title="国际化和本地化" data-book-page-rel-url="9_Internationalization%20and%20localization.html" data-book-page-id="2172">国际化和本地化</a>
<ul>
<li>
<a class="pjax" href="../../book/35/9_1_1_Overview.html" title="概述" data-book-page-rel-url="9_1_1_Overview.html" data-book-page-id="2173">概述</a>
</li>
<li>
<a class="pjax" href="../../book/35/9_1_2_Internationalization.html" title="国际化" data-book-page-rel-url="9_1_2_Internationalization.html" data-book-page-id="2174">国际化</a>
</li>
<li>
<a class="pjax" href="../../book/35/9_1_4_Localized%20Web%20UI%20formatting%20and%20form%20input.html" title="本地化WEB UI格式化输入" data-book-page-rel-url="9_1_4_Localized%20Web%20UI%20formatting%20and%20form%20input.html" data-book-page-id="2175">本地化WEB UI格式化输入</a>
</li>
<li>
<a class="pjax" href="../../book/35/9_2_“Local%20flavor”.html" title="“本地特色”" data-book-page-rel-url="9_2_“Local%20flavor”.html" data-book-page-id="2176">“本地特色”</a>
</li>
<li>
<a class="pjax" href="../../book/35/9_3_Time%20zones.html" title="时区" data-book-page-rel-url="9_3_Time%20zones.html" data-book-page-id="2177">时区</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/10_Performance%20and%20optimization%20overview.html" title="性能和优化" data-book-page-rel-url="10_Performance%20and%20optimization%20overview.html" data-book-page-id="2178">性能和优化</a>
</li>
<li>
<a class="pjax" href="../../book/35/11_Python%20compatibility.html" title="Python 的兼容性" data-book-page-rel-url="11_Python%20compatibility.html" data-book-page-id="2179">Python 的兼容性</a>
<ul>
<li>
<a class="pjax" href="../../book/35/11_1_Jython%20support.html" title="Jython 支持" data-book-page-rel-url="11_1_Jython%20support.html" data-book-page-id="2180">Jython 支持</a>
</li>
<li>
<a class="pjax" href="../../book/35/11_2_Python%203%20compatibility.html" title="Python 3 兼容性" data-book-page-rel-url="11_2_Python%203%20compatibility.html" data-book-page-id="2181">Python 3 兼容性</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/13_Common%20Web%20application%20tools.html" title="常见的网站应用工具" data-book-page-rel-url="13_Common%20Web%20application%20tools.html" data-book-page-id="2182">常见的网站应用工具</a>
<ul>
<li>
<a class="pjax" href="../../book/35/13_1.html" title="认证" data-book-page-rel-url="13_1.html" data-book-page-id="2183">认证</a>
<ul>
<li>
<a class="pjax" href="../../book/35/13_1_1_Overview.html" title="概览" data-book-page-rel-url="13_1_1_Overview.html" data-book-page-id="2184">概览</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_1_2_Using%20the%20authentication%20system.html" title="使用认证系统" data-book-page-rel-url="13_1_2_Using%20the%20authentication%20system.html" data-book-page-id="2185">使用认证系统</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_1_3_Password%20management.html" title="密码管理" data-book-page-rel-url="13_1_3_Password%20management.html" data-book-page-id="2186">密码管理</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_1_4_Customizing%20authentication.html" title="自定义认证" data-book-page-rel-url="13_1_4_Customizing%20authentication.html" data-book-page-id="2187">自定义认证</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_1_5_API%20Reference.html" title="API参考" data-book-page-rel-url="13_1_5_API%20Reference.html" data-book-page-id="2188">API参考</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/13_2_Caching.html" title="缓存" data-book-page-rel-url="13_2_Caching.html" data-book-page-id="2189">缓存</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_3_Logging.html" title="日志" data-book-page-rel-url="13_3_Logging.html" data-book-page-id="2190">日志</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_4_Sending%20emails.html" title="发送邮件" data-book-page-rel-url="13_4_Sending%20emails.html" data-book-page-id="2191">发送邮件</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_5_Syndication%20feeds.html" title="组织 feeds (RSS/Atom)" data-book-page-rel-url="13_5_Syndication%20feeds.html" data-book-page-id="2192">组织 feeds (RSS/Atom)</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_6_Pagination.html" title="分页" data-book-page-rel-url="13_6_Pagination.html" data-book-page-id="2193">分页</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_7_Messages%20framework.html" title="消息框架" data-book-page-rel-url="13_7_Messages%20framework.html" data-book-page-id="2194">消息框架</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_8_Serialization.html" title="序列化" data-book-page-rel-url="13_8_Serialization.html" data-book-page-id="2195">序列化</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_9_1_Sessions.html" title="会话" data-book-page-rel-url="13_9_1_Sessions.html" data-book-page-id="2196">会话</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_10_Sitemaps.html" title="网站地图" data-book-page-rel-url="13_10_Sitemaps.html" data-book-page-id="2197">网站地图</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_11_Static%20files%20management.html" title="静态文件处理" data-book-page-rel-url="13_11_Static%20files%20management.html" data-book-page-id="2198">静态文件处理</a>
</li>
<li>
<a class="pjax" href="../../book/35/13_12_Data%20validation.html" title="数据验证" data-book-page-rel-url="13_12_Data%20validation.html" data-book-page-id="2199">数据验证</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../book/35/14_Other%20core%20functionalities.html" title="其它核心功能" data-book-page-rel-url="14_Other%20core%20functionalities.html" data-book-page-id="2200">其它核心功能</a>
<ul>
<li>
<a class="pjax" href="../../book/35/14_1_Conditional%20content%20processing.html" title="按需内容处理" data-book-page-rel-url="14_1_Conditional%20content%20processing.html" data-book-page-id="2201">按需内容处理</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_2_Content%20types%20and%20generic%20relations.html" title="内容类型和泛型关系" data-book-page-rel-url="14_2_Content%20types%20and%20generic%20relations.html" data-book-page-id="2202">内容类型和泛型关系</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_3_Flatpages.html" title="Flatpage" data-book-page-rel-url="14_3_Flatpages.html" data-book-page-id="2203">Flatpage</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_4_1_Redirects.html" title="重定向" data-book-page-rel-url="14_4_1_Redirects.html" data-book-page-id="2204">重定向</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_5_Signals.html" title="信号" data-book-page-rel-url="14_5_Signals.html" data-book-page-id="2205">信号</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_6_System%20check%20framework.html" title="系统检查框架" data-book-page-rel-url="14_6_System%20check%20framework.html" data-book-page-id="2206">系统检查框架</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_7_The%20sites%20framework.html" title="网站框架" data-book-page-rel-url="14_7_The%20sites%20framework.html" data-book-page-id="2207">网站框架</a>
</li>
<li>
<a class="pjax" href="../../book/35/14_8_Unicode%20in%20Django.html" title="Django中的Unicode编码" data-book-page-rel-url="14_8_Unicode%20in%20Django.html" data-book-page-id="2208">Django中的Unicode编码</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<script src="https://cdn.staticfile.net/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../../static/components/uikit-2.27.5/js/uikit.reader.js"></script>
<script type="text/javascript" src="../../static/components/social-share/social-share.min.js"></script>
<script>(function(){var bp =document.createElement('script');var curProtocol =window.location.protocol.split(':')[0];if (curProtocol ==='https') {bp.src ='https://zz.bdstatic.com/linksubmit/push.js';}
else {bp.src ='http://push.zhanzhang.baidu.com/push.js';}
var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
<script src="https://cdn.staticfile.net/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.staticfile.net/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.staticfile.net/uikit/2.27.5/js/components/lightbox.min.js"></script>
<link rel="dns-prefetch" href="../..//cdn.mathjax.org" />
<script type="text/x-mathjax-config">
 function initMathJax() {
    var mathId = $("book-content-section")[0];
    MathJax.Hub.Config({
        tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a']},
        showProcessingMessages: false,
        messageStyle: "none"
    });
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
 };
initMathJax();
</script>
<script src='https://cdn.staticfile.net/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
<style>
	.MathJax_Display{display:inline!important;}
</style>
<script type="text/javascript" src="../../static/components/js/reader.js"></script>
<script type="text/javascript">var bookId =35;var bookPageId =2108;var bookPageRelUrl ='3_4_4_Using%20mixins.html';</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</body>
</html>