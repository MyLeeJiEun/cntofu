
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>2.3使用场景-Spring Framework 5 中文文档(Spring 5 Reference)</title>
<meta content='2.3使用场景,Spring Framework 5 中文文档,Spring 5 Reference' name='keywords'>
<meta content='2.3使用场景,Spring Framework 5 中文文档,Spring 5 Reference' name='description'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"../../../>
<meta name="applicable-device" content="pc,mobile">
<link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon" />
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="../../../static/components/uikit-2.27.5/css/uikit.custom.css">
<link rel="stylesheet" href="../../../static/components/social-share/social-share.min.css">
<link rel="stylesheet" href="../../../static/components/highlight/styles/custom.css">
<link rel="stylesheet" href="../../../static/components/css/base.css">
<link rel="stylesheet" href="../../../static/components/css/reader.css">
<link rel="stylesheet" href="../../../static/components/css/markdown.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5313208362165053" crossorigin="anonymous"></script>
</head>
<body>
<div class=" book-main-wrap uk-container uk-container-center uk-margin-top ">
<div class="uk-grid">
<div class="uk-width-1-1 reader-wrap ">
<div class=" bottom-nav uk-clearfix ">
<div class="uk-align-left ">
<a href="../../../book/95/2/2-2.html">
<i class="nav-icon-left uk-icon-small  uk-icon-caret-left"></i>
<span class="">2.2模块</span>
</a>
</div>
<div class="uk-align-right ">
<a href="../../../book/95/3/3.html">
<span class="">3. IoC容器</span>
<i class="nav-icon-right uk-icon-small  uk-icon-caret-right"></i>
</a>
</div>
</div>
<div class="uk-text-center">
<h2 class="book-page-title uk-container-center">
<a href="../../../book/95/index.html">Spring Framework 5 中文文档 (Spring 5 Reference)</a>
<a target="_blank" rel="nofollow" href="https://github.com/lfvepclr/spring-5-framework-doc" class="uk-icon-button uk-icon-github" title="github项目地址"></a>
</h2>
</div>
<script type="text/javascript" src="../../../static/components/js/app_intro.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5313208362165053" data-ad-slot="1328047120"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script>
<hr class="uk-article-divider">
<div class="book-content-section  md-content-section  uk-margin-bottom">
<h2 id="23使用场景">2.3使用场景</h2>
<p>之前描述的构建模块使Spring成为许多应用场景的理性选择，从在资源受限设备上运行的嵌入式应用程序到使用Spring的事务管理功能和Web框架集成的全面的企业应用程序。</p>
<p><em>图2.2 典型的成熟完整的Spring Web应用程序</em></p>
<p><a href="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-full.png.pagespeed.ce.sC26wirtWB.png" data-uk-lightbox><img src="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-full.png.pagespeed.ce.sC26wirtWB.png" alt=""></a></p>
<p>Spring的<a href="http://docs.spring.io/spring/docs/5.0.0.M5/spring-framework-reference/html/transaction.html#transaction-declarative">声明式事务管理功能</a>使Web应用程序完全事务性，就像使用EJB容器管理的事务一样。所有您的定制业务逻辑都可以使用简单的POJO实现，并由Spring的IoC容器进行管理。附加服务包括支持发送电子邮件和独立于Web层的验证，可让您选择执行验证规则的位置。 Spring的ORM支持与JPA和Hibernate集成;例如，当使用Hibernate时，可以继续使用现有的映射文件和标准的Hibernate SessionFactory配置。表单控制器将Web层与域模型无缝集成，从而无需ActionForms或将HTTP参数转换为域模型的值的其他类。</p>
<p><em>图2.3 使用第三方web框架的Spring中间层</em></p>
<p><a href="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-thirdparty-web.png.pagespeed.ce.1lJso2G8WP.png" data-uk-lightbox><img src="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-thirdparty-web.png.pagespeed.ce.1lJso2G8WP.png" alt=""></a></p>
<p>有时情况不允许你完全切换到不同的框架。 Spring框架并不强制您使用其中的一切;这不是一个_全有或全无的_解决方案。使用Struts，Tapestry，JSF或其他UI框架构建的现有前端可以与基于Spring的中间层集成，从而允许您使用Spring事务功能。您只需要使用ApplicationContext连接您的业务逻辑，并使用WebApplicationContext来集成您的Web层。</p>
<p><em>图2.4 远程使用场景</em></p>
<p><a href="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-remoting.png.pagespeed.ce.HIMsJb_Xya.png" data-uk-lightbox><img src="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-remoting.png.pagespeed.ce.HIMsJb_Xya.png" alt=""></a></p>
<p>当您需要通过Web服务访问现有代码时，你可以使用Spring的 Hessian-，Rmi-或HttpInvokerProxyFactoryBean类。启用对现有应用程序的远程访问并不困难。</p>
<p><em>图2.5 EJBs – 包装现有的POJOs</em></p>
<p><a href="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-ejb.png.pagespeed.ce.VN88UiKUhA.png" data-uk-lightbox><img src="https://img.cntofu.com/book/spring-5-framework-doc//assets/overview-ejb.png.pagespeed.ce.VN88UiKUhA.png" alt=""></a></p>
<p>Spring Framework还为Enterprise JavaBeans提供了一个<a href="http://docs.spring.io/spring/docs/5.0.0.M5/spring-framework-reference/html/ejb.html">访问和抽象层</a>，使您能够重用现有的POJO，并将其包装在无状态会话bean中，以便在可能需要声明式安全性的, 可扩展的，故障安全的Web应用程序中使用。</p>
<h3 id="231依赖管理和命名约定">2.3.1依赖管理和命名约定</h3>
<p>依赖关系管理和依赖注入是不同的。为了将Spring的这些不错的功能（如依赖注入）集成到应用程序中，您需要组装所有需要的库（jar文件），并在运行时导入到类路径（classpath）中，也有可能在编译时就需要加入类路径。这些依赖关系不是注入的虚拟组件，而是文件系统中的物理资源（通常是这样）。依赖关系管理的过程包括定位这些资源，存储它们并将其添加到类路径中。依赖关系可以是直接的（例如，我的应用程序在运行时依赖于Spring）或间接的（例如我的应用程序依赖于commons-dbcp ，而commons-dbcp 又依赖于commons-pool）。间接依赖关系具有“传递性”，它们是最难识别和管理的依赖关系。</p>
<p>如果你要使用Spring，你需要获得一个包含你所需要的Spring模块的jar库的副本。为了使这更容易，Spring被打包为一组尽可能分离依赖关系的模块，例如，如果您不想编写Web应用程序，则不需要spring-web模块。要引用本指南中的Spring库模块，我们使用一个简写命名约定spring- *或spring – *.jar，其中*表示模块的简称（例如spring-core，spring-webmvc，spring-jms等） ）。您实际使用的jar文件名通常是与版本号连接的模块名称（例如spring-core-5.0.0.M5.jar）。</p>
<p>Spring框架的每个版本都会发布到以下几个地方：</p>
<ul>
<li>Maven Central，它是Maven查询的默认存储库，不需要任何特殊配置。 Spring的许多常见的库也可以从Maven Central获得，Spring社区的大部分使用Maven进行依赖关系管理，所以这对他们来说很方便。这里的jar的名字是spring – * – &lt;version&gt; .jar，Maven groupId是org.springframework。</li>
<li>在专门用于Spring的公共Maven存储库中。除了最终的GA版本，该存储库还承载开发快照和里程碑版本。 jar文件名与Maven Central格式相同，因此这是一个有用的地方，可以将开发中的版本的Spring与在Maven Central中部署的其他库配合使用。该存储库还包含集中分发的zip文件，其中包含所有Spring jar，捆绑在一起以便于下载。</li>
</ul>
<p>所以你需要决定的第一件事是如何管理你的依赖关系：我们通常建议使用像Maven，Gradle或Ivy这样的自动化系统，但你也可以通过自己下载所有的jar来手动执行。</p>
<p>您将在下面找到Spring artifacts列表。有关每个模块的更完整的描述，<a href="http://docs.spring.io/spring/docs/5.0.0.M5/spring-framework-reference/html/overview.html#overview-modules">第2.2节“模块”</a>.</p>
<p><em>表2.1 Spring框架的Artifacts</em></p>
<table>
<thead>
<tr>
<th align="left">GroupId</th>
<th align="left"><strong>ArtifactId</strong></th>
<th align="left"><strong>Description(描述)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-aop</td>
<td align="left">Proxy-based AOP support</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-aspects</td>
<td align="left">AspectJ based aspects</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-beans</td>
<td align="left">Beans support, including Groovy</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-context</td>
<td align="left">Application context runtime, including scheduling and remoting abstractions</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-context-support</td>
<td align="left">Support classes for integrating common third-party libraries into a Spring application context</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-core</td>
<td align="left">Core utilities, used by many other Spring modules</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-expression</td>
<td align="left">Spring Expression Language (SpEL)</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-instrument</td>
<td align="left">Instrumentation agent for JVM bootstrapping</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-instrument-tomcat</td>
<td align="left">Instrumentation agent for Tomcat</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-jdbc</td>
<td align="left">JDBC support package, including DataSource setup and JDBC access support</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-jms</td>
<td align="left">JMS support package, including helper classes to send and receive JMS messages</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-messaging</td>
<td align="left">Support for messaging architectures and protocols</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-orm</td>
<td align="left">Object/Relational Mapping, including JPA and Hibernate support</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-oxm</td>
<td align="left">Object/XML Mapping</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-test</td>
<td align="left">Support for unit testing and integration testing Spring components</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-tx</td>
<td align="left">Transaction infrastructure, including DAO support and JCA integration</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-web</td>
<td align="left">Web support packages, including client and web remoting</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-webmvc</td>
<td align="left">REST Web Services and model-view-controller implementation for web applications</td>
</tr>
<tr>
<td align="left">org.springframework</td>
<td align="left">spring-websocket</td>
<td align="left">WebSocket and SockJS implementations, including STOMP support</td>
</tr>
</tbody>
</table>
<h4 id="spring的依赖和依赖于spring">Spring的依赖和依赖于Spring</h4>
<p>虽然Spring为大量企业和其他外部工具提供集成和支持，但它有意将其强制性的依赖保持在最低限度：在使用Spring用于简单的用例时，您不必定位和下载（甚至自动的去做）大量的jar库。对于基本依赖注入功能，只有一个强制性的外部依赖关系，也就是用于日志记录的依赖（有关日志记录选项的更详细描述，请参阅下文）。</p>
<p>接下来，我们概述了配置依赖于Spring的应用程序所需的基本步骤，首先是使用Maven，然后使用Gradle，最后使用Ivy。在任何情况下，如果不清楚，请参阅依赖关系管理系统的文档，或查看一些示例代码 – Spring本身在构建时使用Gradle来管理依赖关系，我们的示例主要使用Gradle或Maven。</p>
<h4 id="maven的依赖管理">Maven的依赖管理</h4>
<p>如果您使用Maven进行依赖关系管理，则甚至不需要显式提供依赖关系。 例如，要创建应用程序上下文并使用依赖注入来配置应用程序，您的Maven依赖配置如下所示：</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
        &lt;version&gt;5.0.0.M5&lt;/version&gt;
        &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>（依赖配置）就是这样。注意，如果您不需要针对Spring API进行编译，那么范围(scope)可以被声明为运行时，通常情况下这是基本的依赖注入用例。</p>
<p>以上示例适用于Maven Central存储库。要使用Spring Maven仓库（例如，使用里程碑或开发中的快照版本），您需要在Maven配置中指定仓库位置。完整版本：</p>
<pre><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;io.spring.repo.maven.release&lt;/id&gt;
        &lt;url&gt;http://repo.spring.io/release/&lt;/url&gt;
        &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<p>对于里程碑(milestones)：</p>
<pre><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;io.spring.repo.maven.milestone&lt;/id&gt;
        &lt;url&gt;http://repo.spring.io/milestone/&lt;/url&gt;
        &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<p>而对于快照（snapshots）：</p>
<pre><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;io.spring.repo.maven.snapshot&lt;/id&gt;
        &lt;url&gt;http://repo.spring.io/snapshot/&lt;/url&gt;
        &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<h4 id="maven的材料清单依赖">Maven的“材料清单”依赖</h4>
<p>使用Maven时，可能会意外混合不同版本的Spring JAR。例如，您可能会发现第三方库或另一个Spring项目会传递依赖于旧版本的Spring JARs。如果您忘记自己明确声明直接依赖，可能会出现各种意外问题。</p>
<p>为了克服这些问题，Maven支持“材料清单(bill of materials)”（BOM）依赖的概念。您可以在dependencyManagement部分中导入spring-framework-bom，以确保所有Spring依赖（直接和传递）都是相同的版本</p>
<pre><code>&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;
            &lt;version&gt;5.0.0.M5&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
</code></pre>
<p>使用BOM的另外一个好处是，您不再需要在依赖于Spring Framework artifacts时指定&lt;version&gt;属性：</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;dependencies&gt;
</code></pre>
<h4 id="gradle-依赖管理">Gradle 依赖管理</h4>
<p>要使用<a href="http://www.gradle.org/">Gradle</a> 构建系统的Spring仓库，请在仓库部分中包含适当的URL：</p>
<pre><code>repositories {
    mavenCentral()
    // and optionally...
    maven { url "http://repo.spring.io/release" }
}
</code></pre>
<p>您可以根据需要将repositoriesURL从/release更改为/milestone或/snapshot。一旦repositories被配置，你可以通常使用Gradle方式来声明依赖：</p>
<pre><code>dependencies {
    compile("org.springframework:spring-context:5.0.0.M5")
    testCompile("org.springframework:spring-test:5.0.0.M5")
}
</code></pre>
<h4 id="ivy依赖管理">Ivy依赖管理</h4>
<p>如果您喜欢使用 <a href="https://ant.apache.org/ivy">Ivy</a> 来管理依赖关系，那么还有类似的配置选项。 要配置Ivy指向Spring仓库，请将以下解析器添加到您的ivysettings.xml中：</p>
<pre><code>&lt;resolvers&gt;
    &lt;ibiblio name="io.spring.repo.maven.release"    m2compatible="true" root="http://repo.spring.io/release/"../../../&gt;
&lt;/resolvers&gt;
</code></pre>
<p>您可以更改root从URL /release/到/milestone/或/snapshot/适当。</p>
<p>配置完成后，您可以在通常的方式添加依赖。例如（在ivy.xml）：</p>
<p>您可以根据需要将rootURL从 /release/更改为/milestone/或/snapshot/。 配置完成后，您可以按通常的方式添加依赖项。例如（在ivy.xml中）：</p>
<pre><code>&lt;dependency org="org.springframework"    name="spring-core" rev="5.0.0.M5" conf="compile-&gt;runtime"../../../&gt;
</code></pre>
<h4 id="zip文件发行">Zip文件发行</h4>
<p>虽然使用依赖关系管理的构建系统是推荐的获取Spring框架的方法，但仍然可以下载发布的zip文件。</p>
<p>Zip文件发布到Spring Maven存储库（这仅仅是为了我们的方便，您不需要使用Maven或任何其他构建系统才能下载它们）。</p>
<p>要下载发布的zip文件，打开Web浏览器到<a href="http://repo.spring.io/release/org/springframework/spring">http://repo.spring.io/release/org/springframework/spring</a>，并为所需的版本选择相应的子文件夹。zip文件以-dist.zip结尾，例如spring-framework- {spring-version} -RELEASE-dist.zip。<a href="http://repo.spring.io/milestone/org/springframework/spring">里程碑</a>和 <a href="http://repo.spring.io/snapshot/org/springframework/spring">快照</a>也会发布在这里。</p>
<h3 id="232-日志">2.3.2 日志</h3>
<p>日志是Spring非常重要的依赖，因为a）它是唯一的强制性外部依赖关系，b）每个人都喜欢看到他们使用的工具的一些输出，以及c）Spring集成了许多其他工具，都会具有日志依赖关系。应用程序开发人员的目标之一通常是将统一的日志配置放在整个应用程序的中央位置，包括所有外部组件。这比以前有更多的困难，因为有这么多的日志框架可以选择。</p>
<p>Spring中的强制性日志依赖关系是Jakarta Commons Logging API（JCL）。我们针对JCL进行编译，我们还使JCL Log 对象对于扩展了Spring Framework的类可见。对于用户来说，所有版本的Spring都使用相同的日志库很重要：迁移很简单，因为即使扩展了Spring的应用程序，但仍然保留了向后兼容性。我们这样做的方式是使Spring中的一个模块显式地依赖于commons-logging（遵循JCL规范的实现），然后在编译时使所有其他模块依赖于它。例如，如果您使用Maven，并且想知道在哪里可以获取对commons-logging的依赖，那么它来自Spring，特别是来自名为spring-core的中央模块。</p>
<p>commons-logging 的好处在于，您不需要任何其他操作来使您的应用程序正常工作。它具有运行时发现算法，可以在类路径中查找其他日志框架，并使用它认为合适的日志框架（或者您可以告诉它需要哪一个）。如果没有其他可用的，您可以从JDK（简称java.util.logging或JUL）获得好用的日志框架。您应该发现，在大多数情况下，您的Spring应用程序可以快乐地把日志输出到控制台，这很重要。</p>
<h4 id="不使用commons-logging">不使用Commons Logging</h4>
<p>不幸的是，commons-logging中的运行时发现算法虽然对最终用户很方便，但是也有很多问题。如果我们可以把时空倒回，现在开始使用Spring去开始一个新的项目，我们会使用不同的日志依赖关系。第一选择可能是Simple Logging Facade for Java（<a href="http://www.slf4j.org/">SLF4J</a>），它也被许多其他使用Spring的应用工具所使用。</p>
<p>基本上有两种方法来关闭commons-logging：</p>
<ol>
<li>排除spring-core模块的依赖关系（因为它是明确依赖于commons-logging的唯一模块）</li>
<li>依赖于一个特殊的commons-logging依赖关系，用空的jar代替库（更多的细节可以在 <a href="http://slf4j.org/faq.html#excludingJCL">SLF4J FAQ</a> 中找到）</li>
</ol>
<p>要排除commons-logging，请将以下内容添加到dependencyManagement部分：</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
        &lt;version&gt;5.0.0.M5&lt;/version&gt;
        &lt;exclusions&gt;
            &lt;exclusion&gt;
                &lt;groupId&gt;commons-logging&lt;/groupId&gt;
                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
            &lt;/exclusion&gt;
        &lt;/exclusions&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>现在这个应用程序可能已经被破坏了，因为在类路径中没有实现JCL API，所以要修复它，必须提供一个新的JCL API。在下一节中，我们向您展示如何使用SLF4J提供JCL的替代实现。</p>
<h4 id="使用slf4j">使用SLF4J</h4>
<p>SLF4J是一个更清洁的依赖关系，在运行时比commons-logging更有效率，因为它使用编译时绑定，而不是其集成的其他日志框架的运行时发现。这也意味着你必须更加明确地说明你在运行时想要发生什么，并声明它或相应地进行配置。 SLF4J提供对许多常见的日志框架的绑定，因此通常可以选择一个已经使用的日志框架，并绑定到该框架进行配置和管理。</p>
<p>SLF4J提供了绑定到许多常见的日志框架的方法，包括JCL，它也是可以反转的：是其他日志框架和自身(Spring)之间的桥梁。所以要使用SLF4J与Spring，您需要使用SLF4J-JCL bridge替换commons-logging依赖关系。一旦完成，那么在Spring中日志调用将被转换为对SLF4J API的日志调用，因此如果应用程序中的其他库使用该API，那么您有一个统一的地方来配置和管理日志记录。</p>
<p>常见的选择可能是将Spring链接到SLF4J，然后提供从SLF4J到Log4j的显式绑定。您需要提供多个依赖关系（并排除现有的commons-logging）：the bridge，Log4j的SLF4J实现和Log4j实现本身。在Maven你会这样做：</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
        &lt;version&gt;5.0.0.M5&lt;/version&gt;
        &lt;exclusions&gt;
            &lt;exclusion&gt;
                &lt;groupId&gt;commons-logging&lt;/groupId&gt;
                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
            &lt;/exclusion&gt;
        &lt;/exclusions&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;
        &lt;version&gt;1.7.22&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;
        &lt;version&gt;2.7&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;
        &lt;version&gt;2.7&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
        &lt;version&gt;2.7&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<h4 id="使用的log4j">使用的Log4j</h4>
<blockquote>
<p>Log4j的1.x版本已经寿终正寝，以下的内容特指Log4j 2</p>
</blockquote>
<p>许多人使用<a href="https://logging.apache.org/log4j">Log4j</a> 作为配置和管理日志的日志框架。它是高效和成熟的，当我们构建和测试Spring，实际上它是在运行时使用的。 Spring还提供了一些用于配置和初始化Log4j的实用功能，因此它在某些模块中对Log4j具有可选的编译时依赖性。</p>
<p>要使用JCL和Log4j，所有你需要做的就是把Log4j加到类路径，并为其提供一个配置文件（log4j2.xml，log4j2.properties或其他 <a href="https://logging.apache.org/log4j/2.x/manual/configuration.html">支持的配置格式</a>）。对于Maven用户，所需的最少依赖关系是：</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
        &lt;version&gt;2.7&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;
        &lt;version&gt;2.7&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>如果你也想使用SLF4J，还需要以下依赖关系：</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;
    &lt;version&gt;2.7&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>下面是一个例子log4j2.xml用来把日志输出到控制台：</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Configuration status="WARN"&gt;
  &lt;Appenders&gt;
    &lt;Console name="Console" target="SYSTEM_OUT"&gt;
      &lt;PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"../../../&gt;
    &lt;/Console&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Logger name="org.springframework.beans.factory" level="DEBUG"../../../&gt;
    &lt;Root level="error"&gt;
      &lt;AppenderRef ref="Console"../../../&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<h4 id="运行时容器和原生jcl">运行时容器和原生JCL</h4>
<p>许多人在那些本身提供JCL实现的容器中运行他们的Spring应用程序。IBM WebSphere应用服务器（WAS）为例。这往往会导致问题，遗憾的是没有一劳永逸的解决方案; 在大多数情况下，简单地从您的应用程序排除commons-logging是不够的。</p>
<p>要清楚这一点：报告的问题通常不是JCL本身，甚至commons-logging：而是将commons-logging绑定到另一个框架（通常是Log4j）。这可能会失败，因为commons-logging更改了在一些容器中发现的旧版本（1.0）和大多数人现在使用的版本（1.1）之间执行运行时发现的方式。 Spring不使用JCL API的任何不寻常的部分，所以没有什么破坏，但是一旦Spring或您的应用程序尝试输出日志，您可以发现与Log4j的绑定不起作用</p>
<p>在这种情况下，使用WAS最简单的方法是反转类加载器层次结构（IBM将其称为”parent last”），以便应用程序控制JCL依赖关系，而不是容器。该选项并不总是开放的，但是在公共领域还有许多其他建议可供选择，您的里程(集成程度)可能因容器的确切版本和功能集而异。</p>
</div>
<hr class="uk-article-divider">
<div class="uk-block uk-block-muted uk-padding-top-remove uk-padding-bottom-remove uk-margin-large-top  book-recommend-wrap">
<div class="uk-margin-top uk-margin-bottom uk-margin-left uk-margin-right">
<div class="uk-margin uk-text-muted "><i class="uk-icon-outdent uk-icon-justify uk-margin-small-right"></i>书籍推荐</div>
<div class="books">
<ul class="uk-book-list">
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/88/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/spring_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/88/index.html">Spring Data JPA 参考指南 中文版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/56.html">ityouknow</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="spring">spring</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">13页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月29日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 92个">92</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/6/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/spring_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/6/index.html">Spring Framework 4.x 参考文档中文版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/6.html">waylau</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="spring">spring</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">47页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1192个">1192</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/82/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/spring_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/82/index.html">《Spring参考文档》中文翻译 基于4.3.5 RELEASE</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/52.html">wangjingjing</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="spring">spring</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">98页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月24日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 9个">9</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/89/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/go_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/89/index.html">Go 语言资源大全中文版</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/19.html">伯乐在线</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="go">go</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">74页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月29日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 207个">207</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/51/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/javascript_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/51/index.html">前端开发笔记本</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/28.html">li-xinyang</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="javascript">javascript</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="html5">html5</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="css3">css3</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">67页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年6月2日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 1436个">1436</span>
</div>
</div>
</div>
</li>
<hr>
<li>
<div class="uk-book-item">
<div class="uk-book-header uk-clearfix">
<a href="../../../book/12/index.html">
<img class="uk-book-cover" src="../../../static/icons/48/swift_48.png" height="48px" alt="">
</a>
<h4 class="uk-book-title uk-margin-small-bottom"><a href="../../../book/12/index.html">Swift 官方教程</a></h4>
<div class="uk-book-meta  uk-text-middle uk-float-left">
<a class="uk-margin-small-right  uk-text-middle user-name " href="../../../user/8.html">numbbbbb</a>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-badge uk-badge-notification  book-subject" title="swift">swift</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">51页</span>
<span class="uk-margin-small-right  uk-text-middle">•</span>
<span class="uk-margin-small-right  uk-text-middle">2018年5月3日</span>
</div>
<div class="uk-book-tip uk-float-right  uk-text-middle">
<span class="uk-badge uk-badge-notification" title="github star 18022个">18022</span>
</div>
</div>
</div>
</li>
<hr>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="tm-navbar uk-navbar uk-navbar-attached reader-nav">
<div class="uk-float-left uk-margin-small-top">
<a href="javascript:;" title="目录菜单" class="show-menu  uk-icon-hover  uk-icon-align-justify uk-margin-right"></a>
<div data-uk-dropdown="{mode:'click',pos:'bottom-left'}" class="font-setting-wrap">
<a class="uk-icon-hover uk-icon-font uk-margin-right" aria-label="字体设置" href="javascript:;"></a>
<div class="uk-dropdown dropdown-menu">
<div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-reduce">小字</button>
<button class="uk-button-link button size-2 font-enlarge">大字</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-2 font-1 ">宋体</button>
<button class="uk-button-link button size-2 font-2 ">黑体</button>
</div>
<hr>
<div class="buttons uk-clearfix">
<button class="uk-button-link button size-3 color-theme-sun "><i class="uk-icon-sun-o"></i>白天</button>
<button class="uk-button-link button size-3 color-theme-eye "><i class="uk-icon-eye"></i>护眼</button>
<button class="uk-button-link button size-3 color-theme-moon "><i class="uk-icon-moon-o"></i>夜晚</button></div>
</div>
</div>
<a class="logo uk-margin-right" href="../../../" title="返回首页"><img class="" src="../../../static/components/images/icon_32.png" /></a>
</div>
<div class="uk-navbar-flip  uk-hidden-small">
<div id="share-box"></div>
</div>
</nav>
<div id="menu-id" class="uk-offcanvas reader-offcanvas">
<div class="uk-offcanvas-bar">
<ul class="book-menu-bar uk-nav uk-nav-offcanvas" data-uk-nav>
<li>
<a href="../../../book/95/index.html" data-book-page-rel-url="index.html" data-book-page-id="0" title="封面">封面</a>
</li>
<li>
<a class="pjax" href="../../../book/95/readme.html" data-book-page-rel-url="readme.html" data-book-page-id="0" title="简介">简介</a>
</li>
<li>
<a class="pjax" href="../../../book/95/README.html" title="Introduction" data-book-page-rel-url="README.html" data-book-page-id="6919">Introduction</a>
</li>
<li>
<a class="pjax" href="../../../book/95/1-Getting-Started-with-Spring.html" title="1. 入门指南" data-book-page-rel-url="1-Getting-Started-with-Spring.html" data-book-page-id="6920">1. 入门指南</a>
</li>
<li>
<a class="pjax" href="../../../book/95/2/2.html" title="2. 介绍Spring框架" data-book-page-rel-url="2/2.html" data-book-page-id="6921">2. 介绍Spring框架</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/2/2-1.html" title="2.1依赖注入和控制反转" data-book-page-rel-url="2/2-1.html" data-book-page-id="6922">2.1依赖注入和控制反转</a>
</li>
<li>
<a class="pjax" href="../../../book/95/2/2-2.html" title="2.2模块" data-book-page-rel-url="2/2-2.html" data-book-page-id="6923">2.2模块</a>
</li>
<li>
<a class="pjax" href="../../../book/95/2/2-3.html" title="2.3使用场景" data-book-page-rel-url="2/2-3.html" data-book-page-id="6924">2.3使用场景</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3.html" title="3. IoC容器" data-book-page-rel-url="3/3.html" data-book-page-id="6925">3. IoC容器</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/3/3-1.html" title="3.1 Spring IoC容器和beans的介绍" data-book-page-rel-url="3/3-1.html" data-book-page-id="6926">3.1 Spring IoC容器和beans的介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3-2.html" title="3.2 容器概述" data-book-page-rel-url="3/3-2.html" data-book-page-id="6927">3.2 容器概述</a>
</li>
<li>
<a class="pjax" href="javascript:;" class="uk-link-muted uk-text-muted" title="3.11 使用JSR 330标准注解" disabled data-book-page-rel-url="3-11.html" data-book-page-id="6928">3.11 使用JSR 330标准注解</a>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3-12.html" title="3.12 基于Java的容器配置" data-book-page-rel-url="3/3-12.html" data-book-page-id="6929">3.12 基于Java的容器配置</a>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3-13.html" title="3.13 环境抽象" data-book-page-rel-url="3/3-13.html" data-book-page-id="6930">3.13 环境抽象</a>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3-14.html" title="3.14 注册一个加载时编织器" data-book-page-rel-url="3/3-14.html" data-book-page-id="6931">3.14 注册一个加载时编织器</a>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3-15.html" title="3.15 ApplicationContext的额外功能" data-book-page-rel-url="3/3-15.html" data-book-page-id="6932">3.15 ApplicationContext的额外功能</a>
</li>
<li>
<a class="pjax" href="../../../book/95/3/3-16.html" title="3.16 BeanFactory" data-book-page-rel-url="3/3-16.html" data-book-page-id="6933">3.16 BeanFactory</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4.html" title="4. 资源" data-book-page-rel-url="4/4.html" data-book-page-id="6934">4. 资源</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/4/4-1.html" title="4.1 介绍" data-book-page-rel-url="4/4-1.html" data-book-page-id="6935">4.1 介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4-2.html" title="4.2 Resource 接口" data-book-page-rel-url="4/4-2.html" data-book-page-id="6936">4.2 Resource 接口</a>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4-3.html" title="4.3 内置的 Resource 实现" data-book-page-rel-url="4/4-3.html" data-book-page-id="6937">4.3 内置的 Resource 实现</a>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4-4.html" title="4.4 ResourceLoader 接口" data-book-page-rel-url="4/4-4.html" data-book-page-id="6938">4.4 ResourceLoader 接口</a>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4-5.html" title="4.5 ResourceLoaderAware 接口" data-book-page-rel-url="4/4-5.html" data-book-page-id="6939">4.5 ResourceLoaderAware 接口</a>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4-6.html" title="4.6 资源依赖" data-book-page-rel-url="4/4-6.html" data-book-page-id="6940">4.6 资源依赖</a>
</li>
<li>
<a class="pjax" href="../../../book/95/4/4-7.html" title="4.7 应用上下文和资源路径" data-book-page-rel-url="4/4-7.html" data-book-page-id="6941">4.7 应用上下文和资源路径</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5.html" title="5. 验证、数据绑定和类型转换" data-book-page-rel-url="5/5.html" data-book-page-id="6942">5. 验证、数据绑定和类型转换</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/5/5-1.html" title="5.1 介绍" data-book-page-rel-url="5/5-1.html" data-book-page-id="6943">5.1 介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-2.html" title="5.2 使用Spring的验证器接口进行验证" data-book-page-rel-url="5/5-2.html" data-book-page-id="6944">5.2 使用Spring的验证器接口进行验证</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-3.html" title="5.3 将代码解析成错误消息" data-book-page-rel-url="5/5-3.html" data-book-page-id="6945">5.3 将代码解析成错误消息</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-4.html" title="5.4 Bean操作和BeanWrapper" data-book-page-rel-url="5/5-4.html" data-book-page-id="6946">5.4 Bean操作和BeanWrapper</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-5.html" title="5.5 Spring类型转换" data-book-page-rel-url="5/5-5.html" data-book-page-id="6947">5.5 Spring类型转换</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-6.html" title="5.6 Spring字段格式化" data-book-page-rel-url="5/5-6.html" data-book-page-id="6948">5.6 Spring字段格式化</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-7.html" title="5.7 配置一个全局的日期&时间格式" data-book-page-rel-url="5/5-7.html" data-book-page-id="6949">5.7 配置一个全局的日期&时间格式</a>
</li>
<li>
<a class="pjax" href="../../../book/95/5/5-8.html" title="5.8 Spring验证" data-book-page-rel-url="5/5-8.html" data-book-page-id="6950">5.8 Spring验证</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/6/6.html" title="6. Spring表达式语言" data-book-page-rel-url="6/6.html" data-book-page-id="6951">6. Spring表达式语言</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/6/6-1.html" title="6.1 介绍" data-book-page-rel-url="6/6-1.html" data-book-page-id="6952">6.1 介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/6/6-2.html" title="6.2 功能特性" data-book-page-rel-url="6/6-2.html" data-book-page-id="6953">6.2 功能特性</a>
</li>
<li>
<a class="pjax" href="../../../book/95/6/6-3.html" title="6.3 使用SpEL的接口进行表达式求值" data-book-page-rel-url="6/6-3.html" data-book-page-id="6954">6.3 使用SpEL的接口进行表达式求值</a>
</li>
<li>
<a class="pjax" href="../../../book/95/6/6-4.html" title="6.4 Bean定义时使用表达式" data-book-page-rel-url="6/6-4.html" data-book-page-id="6955">6.4 Bean定义时使用表达式</a>
</li>
<li>
<a class="pjax" href="../../../book/95/6/6-5.html" title="6.5 语言参考" data-book-page-rel-url="6/6-5.html" data-book-page-id="6956">6.5 语言参考</a>
</li>
<li>
<a class="pjax" href="../../../book/95/6/6-6.html" title="6.6 本章节例子中使用的类" data-book-page-rel-url="6/6-6.html" data-book-page-id="6957">6.6 本章节例子中使用的类</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/9-Introduction-to-Spring-Testing.html" title="9. Spring框架下的测试" data-book-page-rel-url="9-Introduction-to-Spring-Testing.html" data-book-page-id="6958">9. Spring框架下的测试</a>
</li>
<li>
<a class="pjax" href="../../../book/95/10-Unit-Testing.html" title="10. 单元测试" data-book-page-rel-url="10-Unit-Testing.html" data-book-page-id="6959">10. 单元测试</a>
</li>
<li>
<a class="pjax" href="../../../book/95/11/11.html" title="11. 集成测试" data-book-page-rel-url="11/11.html" data-book-page-id="6960">11. 集成测试</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/11/11-1.html" title="11.1 概述" data-book-page-rel-url="11/11-1.html" data-book-page-id="6961">11.1 概述</a>
</li>
<li>
<a class="pjax" href="../../../book/95/11/11-2.html" title="11.2 集成测试的目标" data-book-page-rel-url="11/11-2.html" data-book-page-id="6962">11.2 集成测试的目标</a>
</li>
<li>
<a class="pjax" href="../../../book/95/11/11-3.html" title="11.3 JDBC测试支持" data-book-page-rel-url="11/11-3.html" data-book-page-id="6963">11.3 JDBC测试支持</a>
</li>
<li>
<a class="pjax" href="../../../book/95/11/11-4.html" title="11.4 注解" data-book-page-rel-url="11/11-4.html" data-book-page-id="6964">11.4 注解</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/14-dao-support.html" title="14. DAO支持" data-book-page-rel-url="14-dao-support.html" data-book-page-id="6965">14. DAO支持</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15.html" title="15.使用JDBC实现数据访问" data-book-page-rel-url="15/15.html" data-book-page-id="6966">15.使用JDBC实现数据访问</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/15/15-1.html" title="15.1 介绍Spring JDBC框架" data-book-page-rel-url="15/15-1.html" data-book-page-id="6967">15.1 介绍Spring JDBC框架</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-2.html" title="15.2 使用JDBC核心类控制基础的JDBC处理过程和异常处理机制" data-book-page-rel-url="15/15-2.html" data-book-page-id="6968">15.2 使用JDBC核心类控制基础的JDBC处理过程和异常处理机制</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-3.html" title="15.3 控制数据库连接" data-book-page-rel-url="15/15-3.html" data-book-page-id="6969">15.3 控制数据库连接</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-4.html" title="15.4 JDBC批量操作" data-book-page-rel-url="15/15-4.html" data-book-page-id="6970">15.4 JDBC批量操作</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-5.html" title="15.5 利用SimpleJdbc类简化JDBC操作" data-book-page-rel-url="15/15-5.html" data-book-page-id="6971">15.5 利用SimpleJdbc类简化JDBC操作</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-6.html" title="15.6 像Java对象那样操作JDBC" data-book-page-rel-url="15/15-6.html" data-book-page-id="6972">15.6 像Java对象那样操作JDBC</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-7.html" title="15.7 参数和数据处理的常见问题" data-book-page-rel-url="15/15-7.html" data-book-page-id="6973">15.7 参数和数据处理的常见问题</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-8.html" title="15.8 内嵌数据库支持" data-book-page-rel-url="15/15-8.html" data-book-page-id="6974">15.8 内嵌数据库支持</a>
</li>
<li>
<a class="pjax" href="../../../book/95/15/15-9.html" title="5.9 初始化Datasource" data-book-page-rel-url="15/15-9.html" data-book-page-id="6975">5.9 初始化Datasource</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/16/16.html" title="16. ORM和数据访问" data-book-page-rel-url="16/16.html" data-book-page-id="6976">16. ORM和数据访问</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/16/16-1.html" title="16.1 介绍一下Spring中的ORM" data-book-page-rel-url="16/16-1.html" data-book-page-id="6977">16.1 介绍一下Spring中的ORM</a>
</li>
<li>
<a class="pjax" href="../../../book/95/16/16-2.html" title="16.2 集成ORM的注意事项" data-book-page-rel-url="16/16-2.html" data-book-page-id="6978">16.2 集成ORM的注意事项</a>
</li>
<li>
<a class="pjax" href="../../../book/95/16/16-3.html" title="16.3 Hibernate" data-book-page-rel-url="16/16-3.html" data-book-page-id="6979">16.3 Hibernate</a>
</li>
<li>
<a class="pjax" href="../../../book/95/16/16-4.html" title="16.4 JPA" data-book-page-rel-url="16/16-4.html" data-book-page-id="6980">16.4 JPA</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17.html" title="17. 使用 O/X(Object/XML)映射器对XML进行编组" data-book-page-rel-url="17/17.html" data-book-page-id="6981">17. 使用 O/X(Object/XML)映射器对XML进行编组</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/17/17-1.html" title="17.1 简介" data-book-page-rel-url="17/17-1.html" data-book-page-id="6982">17.1 简介</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-2.html" title="17.2 编组器与反编组器" data-book-page-rel-url="17/17-2.html" data-book-page-id="6983">17.2 编组器与反编组器</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-3.html" title="17.3 Marshaller 与 Unmarshaller 的使用" data-book-page-rel-url="17/17-3.html" data-book-page-id="6984">17.3 Marshaller 与 Unmarshaller 的使用</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-4.html" title="17.4 基于 XML 架构的配置" data-book-page-rel-url="17/17-4.html" data-book-page-id="6985">17.4 基于 XML 架构的配置</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-5.html" title="17.5 JAXB" data-book-page-rel-url="17/17-5.html" data-book-page-id="6986">17.5 JAXB</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-6.html" title="17.6 Castor" data-book-page-rel-url="17/17-6.html" data-book-page-id="6987">17.6 Castor</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-7.html" title="17.7 JiBX" data-book-page-rel-url="17/17-7.html" data-book-page-id="6988">17.7 JiBX</a>
</li>
<li>
<a class="pjax" href="../../../book/95/17/17-8.html" title="17.8 XStream" data-book-page-rel-url="17/17-8.html" data-book-page-id="6989">17.8 XStream</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19.html" title="19. 视图技术" data-book-page-rel-url="19/19.html" data-book-page-id="6990">19. 视图技术</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/19/19-1.html" title="19.1 简介" data-book-page-rel-url="19/19-1.html" data-book-page-id="6991">19.1 简介</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-2.html" title="19.2 Thymeleaf" data-book-page-rel-url="19/19-2.html" data-book-page-id="6992">19.2 Thymeleaf</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-3.html" title="19.3 Groovy Markup Templates" data-book-page-rel-url="19/19-3.html" data-book-page-id="6993">19.3 Groovy Markup Templates</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-4.html" title="19.4 FreeMarker" data-book-page-rel-url="19/19-4.html" data-book-page-id="6994">19.4 FreeMarker</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-5.html" title="19.5 JSP & JSTL" data-book-page-rel-url="19/19-5.html" data-book-page-id="6995">19.5 JSP & JSTL</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-6.html" title="19.6 Script 模板" data-book-page-rel-url="19/19-6.html" data-book-page-id="6996">19.6 Script 模板</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-7.html" title="19.7 XML编组视图" data-book-page-rel-url="19/19-7.html" data-book-page-id="6997">19.7 XML编组视图</a>
</li>
<li>
<a class="pjax" href="../../../book/95/19/19-8.html" title="19.8 Tiles" data-book-page-rel-url="19/19-8.html" data-book-page-id="6998">19.8 Tiles</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/20-cors-support.html" title="20. CORS支持" data-book-page-rel-url="20-cors-support.html" data-book-page-id="6999">20. CORS支持</a>
</li>
<li>
<a class="pjax" href="../../../book/95/21-integrating-with-other-web-frameworks.html" title="21. 与其他Web框架集成" data-book-page-rel-url="21-integrating-with-other-web-frameworks.html" data-book-page-id="7000">21. 与其他Web框架集成</a>
</li>
<li>
<a class="pjax" href="../../../book/95/22-WebSocket-support.html" title="22. WebSocket支持" data-book-page-rel-url="22-WebSocket-support.html" data-book-page-id="7001">22. WebSocket支持</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24.html" title="24. 使用Spring提供远程和WEB服务" data-book-page-rel-url="24/24.html" data-book-page-id="7002">24. 使用Spring提供远程和WEB服务</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/24/24-1.html" title="24.1 介绍" data-book-page-rel-url="24/24-1.html" data-book-page-id="7003">24.1 介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-2.html" title="24.2 使用RMI暴露服务" data-book-page-rel-url="24/24-2.html" data-book-page-id="7004">24.2 使用RMI暴露服务</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-3.html" title="24.3 使用Hessian通过HTTP远程调用服务" data-book-page-rel-url="24/24-3.html" data-book-page-id="7005">24.3 使用Hessian通过HTTP远程调用服务</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-4.html" title="24.4 使用HTTP调用器暴露服务" data-book-page-rel-url="24/24-4.html" data-book-page-id="7006">24.4 使用HTTP调用器暴露服务</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-5.html" title="24.5 Web 服务" data-book-page-rel-url="24/24-5.html" data-book-page-id="7007">24.5 Web 服务</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-6.html" title="24.6 JMS" data-book-page-rel-url="24/24-6.html" data-book-page-id="7008">24.6 JMS</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-7.html" title="24.7 AMQP" data-book-page-rel-url="24/24-7.html" data-book-page-id="7009">24.7 AMQP</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-8.html" title="24.8 不实现远程接口自动检测" data-book-page-rel-url="24/24-8.html" data-book-page-id="7010">24.8 不实现远程接口自动检测</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-9.html" title="24.9 选择技术时的注意事项" data-book-page-rel-url="24/24-9.html" data-book-page-id="7011">24.9 选择技术时的注意事项</a>
</li>
<li>
<a class="pjax" href="../../../book/95/24/24-10.html" title="24.10 在客户端访问RESTful服务" data-book-page-rel-url="24/24-10.html" data-book-page-id="7012">24.10 在客户端访问RESTful服务</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/25-ejb.html" title="25. 整合EJB" data-book-page-rel-url="25-ejb.html" data-book-page-id="7013">25. 整合EJB</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26.html" title="26. JMS" data-book-page-rel-url="26/26.html" data-book-page-id="7014">26. JMS</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/26/26-1.html" title="26.1 介绍" data-book-page-rel-url="26/26-1.html" data-book-page-id="7015">26.1 介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26-2.html" title="26.2 Spring JMS的使用" data-book-page-rel-url="26/26-2.html" data-book-page-id="7016">26.2 Spring JMS的使用</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26-3.html" title="26.3 发送消息" data-book-page-rel-url="26/26-3.html" data-book-page-id="7017">26.3 发送消息</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26-4.html" title="26.4 接收消息" data-book-page-rel-url="26/26-4.html" data-book-page-id="7018">26.4 接收消息</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26-5.html" title="26.5 支持 JCA 消息端点" data-book-page-rel-url="26/26-5.html" data-book-page-id="7019">26.5 支持 JCA 消息端点</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26-6.html" title="26.6 注解驱动的监听端点" data-book-page-rel-url="26/26-6.html" data-book-page-id="7020">26.6 注解驱动的监听端点</a>
</li>
<li>
<a class="pjax" href="../../../book/95/26/26-7.html" title="26.7 JMS 命名空间的支持" data-book-page-rel-url="26/26-7.html" data-book-page-id="7021">26.7 JMS 命名空间的支持</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27.html" title="28. 使用Spring提供远程和WEB服务" data-book-page-rel-url="27/27.html" data-book-page-id="7022">28. 使用Spring提供远程和WEB服务</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/27/27-1.html" title="27.1 引言" data-book-page-rel-url="27/27-1.html" data-book-page-id="7023">27.1 引言</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-2.html" title="27.2 将Bean暴露给JMX" data-book-page-rel-url="27/27-2.html" data-book-page-id="7024">27.2 将Bean暴露给JMX</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-3.html" title="27.3 bean的控制管理接口务" data-book-page-rel-url="27/27-3.html" data-book-page-id="7025">27.3 bean的控制管理接口务</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-4.html" title="27.4 控制bean的ObjectNames务" data-book-page-rel-url="27/27-4.html" data-book-page-id="7026">27.4 控制bean的ObjectNames务</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-5.html" title="27.5 JSR-160连接器" data-book-page-rel-url="27/27-5.html" data-book-page-id="7027">27.5 JSR-160连接器</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-6.html" title="27.6 通过代理访问MBeans" data-book-page-rel-url="27/27-6.html" data-book-page-id="7028">27.6 通过代理访问MBeans</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-7.html" title="27.7 通知" data-book-page-rel-url="27/27-7.html" data-book-page-id="7029">27.7 通知</a>
</li>
<li>
<a class="pjax" href="../../../book/95/27/27-8.html" title="27.8 更多资源" data-book-page-rel-url="27/27-8.html" data-book-page-id="7030">27.8 更多资源</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/29-email.html" title="29. 邮件" data-book-page-rel-url="29-email.html" data-book-page-id="7031">29. 邮件</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32.html" title="32. 缓存" data-book-page-rel-url="32/32.html" data-book-page-id="7032">32. 缓存</a>
<ul>
<li>
<a class="pjax" href="../../../book/95/32/32-1.html" title="32.1 介绍" data-book-page-rel-url="32/32-1.html" data-book-page-id="7033">32.1 介绍</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-2.html" title="32.2 缓存抽象" data-book-page-rel-url="32/32-2.html" data-book-page-id="7034">32.2 缓存抽象</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-3.html" title="32.3 基于声明式注解的缓存" data-book-page-rel-url="32/32-3.html" data-book-page-id="7035">32.3 基于声明式注解的缓存</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-4.html" title="32.4 JCache (JSR-107)  注解" data-book-page-rel-url="32/32-4.html" data-book-page-id="7036">32.4 JCache (JSR-107) 注解</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-5.html" title="32.5 缓存声明式 XML 配置" data-book-page-rel-url="32/32-5.html" data-book-page-id="7037">32.5 缓存声明式 XML 配置</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-6.html" title="32.6 配置缓存存储" data-book-page-rel-url="32/32-6.html" data-book-page-id="7038">32.6 配置缓存存储</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-7.html" title="32.7 插入不同的后端缓存" data-book-page-rel-url="32/32-7.html" data-book-page-id="7039">32.7 插入不同的后端缓存</a>
</li>
<li>
<a class="pjax" href="../../../book/95/32/32-8.html" title="32.8 如何设置 TTL/TTI/Eviction policy/XXX 功能?" data-book-page-rel-url="32/32-8.html" data-book-page-id="7040">32.8 如何设置 TTL/TTI/Eviction policy/XXX 功能?</a>
</li>
</ul>
</li>
<li>
<a class="pjax" href="../../../book/95/33-what-new-in-the-spring-framework.html" title="33. Spring框架的新功能" data-book-page-rel-url="33-what-new-in-the-spring-framework.html" data-book-page-id="7041">33. Spring框架的新功能</a>
</li>
<li>
<a class="pjax" href="../../../book/95/35-spring-annotation-programming-model.html" title="35-Spring-Annotation-Programming-Model" data-book-page-rel-url="35-spring-annotation-programming-model.html" data-book-page-id="7042">35-Spring-Annotation-Programming-Model</a>
</li>
<li>
<a class="pjax" href="../../../book/95/37-Spring_AOP_Usage.html" title="37. Spring AOP的经典用法" data-book-page-rel-url="37-Spring_AOP_Usage.html" data-book-page-id="7043">37. Spring AOP的经典用法</a>
</li>
</ul>
</div>
</div>
<script src="https://cdn.staticfile.net/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../../../static/components/uikit-2.27.5/js/uikit.reader.js"></script>
<script type="text/javascript" src="../../../static/components/social-share/social-share.min.js"></script>
<script>(function(){var bp =document.createElement('script');var curProtocol =window.location.protocol.split(':')[0];if (curProtocol ==='https') {bp.src ='https://zz.bdstatic.com/linksubmit/push.js';}
else {bp.src ='http://push.zhanzhang.baidu.com/push.js';}
var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
<script src="https://cdn.staticfile.net/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
<script src="https://cdn.staticfile.net/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.staticfile.net/uikit/2.27.5/js/components/lightbox.min.js"></script>
<link rel="dns-prefetch" href="../../..//cdn.mathjax.org" />
<script type="text/x-mathjax-config">
 function initMathJax() {
    var mathId = $("book-content-section")[0];
    MathJax.Hub.Config({
        tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a']},
        showProcessingMessages: false,
        messageStyle: "none"
    });
    MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
 };
initMathJax();
</script>
<script src='https://cdn.staticfile.net/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
<style>
	.MathJax_Display{display:inline!important;}
</style>
<script type="text/javascript" src="../../../static/components/js/reader.js"></script>
<script type="text/javascript">var bookId =95;var bookPageId =6924;var bookPageRelUrl ='2/2-3.html';</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38429407-1"></script>
<script>window.dataLayer =window.dataLayer ||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-38429407-1');</script>
<script>var _hmt =_hmt ||[];(function() {var hm =document.createElement("script");hm.src ="https://hm.baidu.com/hm.js?f28e71bd2b5dee3439448dca9f534107";var s =document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</body>
</html>